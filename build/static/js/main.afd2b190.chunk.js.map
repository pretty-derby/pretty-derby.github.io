{"version":3,"sources":["hooks/index.js","config/index.js","pages/race/index.js","components/player/PlayerCard.js","components/event/EventCard.js","components/skill/SkillCard.js","components/support/SupportCard.js","components/effect/index.js","components/support/SupportDetail.js","components/common/List.js","utils/ua.js","components/support/SupportList.js","components/skill/SkillDetail.js","components/skill/SkillList.js","components/event/EventDetail.js","components/event/EventList.js","components/race/index.js","components/player/PlayerDetail.js","components/player/PlayerList.js","pages/player/index.js","dbL.js","components/common/CheckBox.js","components/common/Input.js","components/skill/SkillFilterForm.js","components/support/SupportFilterForm.js","utils/useViewport.js","components/support/SupportListWithFilter.js","pages/support/index.js","components/buff.js","components/deck.js","pages/nurturing/index.js","pages/skill/index.js","pages/seed/index.js","pages/nurturingMo/index.js","pages/seedMo/index.js","pages/support/detail.js","pages/player/detail.js","pages/skill/detail.js","i18n.js","components/lan-button.js","components/common/Layout.js","app.js","index.js"],"names":["adapterM","Memory","db","low","set","jsonDB","players","write","supports","skills","events","updateTime","races","buffs","effects","useDB","CDN_SERVER","PC_MENU_LIST","path","title","MOBILE_MENU_LIST","EFFECT_LIMITS","SKILL_TYPES","1","2","3","4","5","6","7","8","9","10","13","14","21","27","28","31","SKILL_CONDITION_OPTIONS","label","value","SKILL_TYPE_OPTIONS","SKILL_RARITY_OPTIONS","SUPPORT_TYPE_OPTIONS","map","item","DECK_LABELS","RACE_FILTER_LIST","class","text","grade","place","ground","distanceType","direction","side","SEED_BLUE_LABELS","speed","stamina","power","guts","wisdom","SEED_RED_LABELS","grass","dirt","shortDistance","mile","mediumDistance","longDistance","escapeR","leadingR","insertR","trackingR","IMAGE_FALLBACK","TITLE","RACE_TABLE_LABELS","labelTextDict","name","date","distance","Race","props","useState","selectedRowKeys","setSelectedRowKeys","t","useTranslation","document","useDidRecover","dynamicTableHeight","React","window","innerHeight","height","setHeight","useEffect","handleWindowResize","addEventListener","removeEventListener","useViewport","getColumns","dataIndex","filters","width","fixed","onFilter","record","allRaceList","get","race","index","key","columns","type","rowSelection","onChange","selectedRows","selected","dateNum","push","id","onSelect","className","dataSource","pagination","sorter","extra","scroll","y","PlayerCard","data","onClick","show","setShow","style","paddingBottom","charaName","aspectRatio","onError","alt","src","imgUrl","EventCard","data-tip","choiceList","choice","result","join","SkillCard","rarity","describe","condition","preview","SupportCard","getValue","effect","cur","indexOf","min","min_limit","max","max_limit","slice","limit","length","Math","floor","EffectTable","render","description","div","divKey","getEffectMark","maxLevel","ok","15","20","25","30","35","40","TestEffectTable","getMaxLevel","selectingLevel","setSelectingLevel","calc","input","nodes","output","prevNode","level","i","upperNode","lowerNode","unique_effect","lv","marks","init","limit_lv5","limit_lv10","limit_lv15","limit_lv20","limit_lv25","limit_lv30","limit_lv35","limit_lv40","limit_lv45","limit_lv50","filter","SupportDetail","find","idList","eventList","pid","trainingEventSkill","possessionSkill","List","listKey","sort","filterFunc","dataList","itemRender","itemClass","detailRender","detailModalSize","setCur","ReactTooltip","rebuild","list","reduce","showModal","modal","size","active","toggler","sortItem","sortList","flag","func","Array","e","useUa","ua","ios","test","navigator","userAgent","maxTouchPoints","android","isPhone","SupportList","sortFlag","ownList","history","useHistory","includes","isNur","SkillDetail","undefined","parseInt","match","params","nur","supportList","support","skillList","forEach","a","b","playerList","player","maxWidth","ability","ability_time","cooldown","need_skill_point","grade_value","SkillList","EventDetail","EventList","JSON","stringify","raceGolds","raceNames","getGolds","golds","raceGold","uniqueName","RaceTimeline","memo","showSpare","setShowSpare","showButton","str","getDate","year","month","moment","getColor","curRace","raceList","Item","color","goal","filterRace","fontSize","mode","RaceCheckbox","raceFilterCondition","setRaceFilterCondition","filterList","Object","keys","Group","options","defaultValue","checkedValues","tmpObj","PlayerItem","coloredGradeText","fontWeight","textShadow","AdaptBox","escape","leading","insert","tracking","GrowBox","speedGrow","staminaGrow","powerGrow","gutsGrow","wisdomGrow","PlayerDetail","eventList0","eventList2","eventList3","hideEvent","eventList1","eventList4","PlayerList","Player","adapterL","LocalStorage","d","axios","res","0","CheckBox","register","icon","htmlFor","Input","placeholder","SkillFilterForm","onUpdate","needId","checkOnly","formName","useForm","watch","subscription","getFilterList","unsubscribe","q","replace","rare","tempList","orderBy","skill","icon_id","reg","RegExp","SupportFilterForm","setValue","allSupports","effectOptions","console","log","skillId","eventIdList","event","eventId","innerWidth","setWidth","SupportListWithFilter","limitHeight","viewport","setList","chooseMode","setChooseMode","showMode","setShowMode","dbL","chosenList","setChosenList","changeChooseMode","ripple","tmpList","splice","update","Support","BuffButton","buttonType","BuffList","cellStyle","textAlign","paddingLeft","borderWidth","borderStyle","borderColor","buff","MyDecks","decks","setDecks","saveDeck","deck","tmpDeck","imgUrls","supportsId","tags","playerId","assign","shortid","generate","shareDeck","formData","localeCompare","post","message","info","msg","overlayStyle","maxHeight","overflow","content","values","onChangeTag","loadDeck","onConfirm","danger","remove","deleteDeck","RecommendDecks","recommendDecks","setRecommendDecks","setPlayerId","searchDeck","onVisibleChange","tag","layoutWithBlank","x","w","h","layoutWithoutBlank","Nurturing","needSelect","setNeedSelect","isPlayerVisible","setIsPlayerVisible","isSupportVisible","setIsSupportVisible","supportIndex","setSupportIndex","setSupports","setPlayer","setFilterRace","dynamicRowHeight","dynamicGridWidth","originalLayout","layout","setLayout","showPlayer","closePlayer","showSupport","closeSupport","panelClass","headClass","pBodyStyle","cols","draggableCancel","draggableHandle","rowHeight","onLayoutChange","useCSSTransforms","filterCondition","tmpRaceList","some","f","entries","tmpFilterRace","autoHide","cursor","display","flex","margin","background","newData","Skill","setSkillList","allSkillList","localStorage","getItem","setItem","userId","PlayerInput","setData","triggerChange","changedValue","fallback","visible","onOk","onCancel","bodyStyle","SupportInput","SeedInput","Form","form","seed","setSeed","onFinish","tmpSeed","Date","getTime","success","gutter","children","span","offset","rules","required","Button","count","initialValue","dots","tooltipPlacement","getFields","justify","getFieldValue","validator","_","Promise","resolve","reject","Error","htmlType","SearchOne","fields","add","errors","field","lg","md","xs","fieldKey","validateTrigger","noStyle","PlusOutlined","ErrorList","SearchForm","attrs","levels","p0","attr","p1","search","resetFields","PlayerImage","SupportImage","Seed","isSeedInputVisible","setIsSeedInputVisible","seedList","setSeedList","total","setTotal","onCopy","CopyOutlined","align","SmileOutlined","like","likes","FrownOutlined","dislike","dislikes","DeleteOutlined","deleteSeed","disabled","closeSeedInput","current","pageSize","simple","showQuickJumper","position","rowKey","footer","justifyContent","trigger","EditOutlined","paddingTop","PICKER_LISTS","cascade","arrow","SeedCard","playerId0","supportId","gameId","SupportDetailPage","PlayerDetailPage","SkillDetailPage","i18n","use","Backend","LanguageDetector","initReactI18next","react","useSuspense","lng","fallbackLng","load","backend","loadPath","crossDomain","LanButton","changeLanguage","lan","language","Layout","contentClass","rootClass","openNavbar","setOpenNavbar","location","useLocation","navbar","open","leftSide","pathname","frameBorder","scrolling","target","rel","href","border","AppPc","saveScrollPosition","exact","component","NurturingMO","SeedMo","html","Index","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.afd2b190.chunk.js","sourcesContent":["import useSWRImmutable from \"swr/immutable\";\nimport low from \"lowdb\";\nimport Memory from \"lowdb/adapters/Memory\";\n\nimport jsonDB from \"../assert/db.json\";\n\n// const useDB = () => {\n//   const fetcher = (...args) =>\n//     fetch(...args)\n//       .then((res) => res.json())\n//       .then((data) => {\n//         const adapterM = new Memory();\n//         const db = low(adapterM);\n//         db.set(\"players\", data.players).write();\n//         db.set(\"supports\", data.supports).write();\n//         db.set(\"skills\", data.skills).write();\n//         db.set(\"events\", data.events).write();\n//         db.set(\"updateTime\", data.updateTime).write();\n//         db.set(\"races\", data.races).write();\n//         db.set(\"buffs\", data.buffs).write();\n//         db.set(\"effects\", data.effects).write();\n//         return db;\n//       });\n//   const { data } = useSWRImmutable(\n//     \"https://fastly.jsdelivr.net/gh/wrrwrr111/pretty-derby@master/src/assert/db.json\",\n//     fetcher\n//   );\n//   return data;\n// };\n\nconst adapterM = new Memory();\nconst db = low(adapterM);\ndb.set(\"players\", jsonDB.players).write();\ndb.set(\"supports\", jsonDB.supports).write();\ndb.set(\"skills\", jsonDB.skills).write();\ndb.set(\"events\", jsonDB.events).write();\ndb.set(\"updateTime\", jsonDB.updateTime).write();\ndb.set(\"races\", jsonDB.races).write();\ndb.set(\"buffs\", jsonDB.buffs).write();\ndb.set(\"effects\", jsonDB.effects).write();\n\nconst useDB = () => {\n  return db;\n};\n\nexport { useDB };\n","const CDN_SERVER = \"https://fastly.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/\";\nconst PC_MENU_LIST = [\n  { path: \"/\", title: \"角色\" },\n  { path: \"/support\", title: \"支援\" },\n  { path: \"/skill\", title: \"技能\" },\n  { path: \"/race\", title: \"比赛\" },\n  { path: \"/nurturing\", title: \"育成\" },\n  { path: \"/seed\", title: \"种马\" },\n];\nconst MOBILE_MENU_LIST = [\n  { path: \"/\", title: \"角色\" },\n  { path: \"/support\", title: \"支援\" },\n  { path: \"/skill\", title: \"技能\" },\n  { path: \"/race\", title: \"比赛\" },\n  { path: \"/nurturingMo\", title: \"育成\" },\n  { path: \"/seedMo\", title: \"种马\" },\n];\nconst EFFECT_LIMITS = [\n  \"init\",\n  \"limit_lv5\",\n  \"limit_lv10\",\n  \"limit_lv15\",\n  \"limit_lv20\",\n  \"limit_lv25\",\n  \"limit_lv30\",\n  \"limit_lv35\",\n  \"limit_lv40\",\n  \"limit_lv45\",\n  \"limit_lv50\",\n];\n// 角色过滤相关\nconst PLAYER_ADAPT_FILTERS = [\n  { text: \"A\", value: \"A\" },\n  { text: \"B\", value: \"B\" },\n  { text: \"C\", value: \"C\" },\n  { text: \"D\", value: \"D\" },\n  { text: \"E\", value: \"E\" },\n  { text: \"F\", value: \"F\" },\n  { text: \"G\", value: \"G\" },\n];\nconst PLAYER_GROW_FILTERS = [\n  { text: \"14%\", value: \"+14%\" },\n  { text: \"15%\", value: \"+15%\" },\n  { text: \"14%\", value: \"+14%\" },\n  { text: \"10%\", value: \"+10%\" },\n  { text: \"8%\", value: \"+8%\" },\n  { text: \"0%\", value: \"+0%\" },\n];\nconst PLAYER_RARITIES = {\n  1: \"R\",\n  2: \"SR\",\n  3: \"SSR\",\n};\nconst PLAYER_ADAPT_TITLES = {\n  芝: \"grass\",\n  ダート: \"dirt\",\n  短距離: \"shortDistance\",\n  マイル: \"mile\",\n  中距離: \"mediumDistance\",\n  長距離: \"longDistance\",\n  逃げ: \"escape\",\n  先行: \"leading\",\n  差し: \"insert\",\n  追込: \"tracking\",\n  スピード: \"speedGrow\",\n  スタミナ: \"staminaGrow\",\n  パワー: \"powerGrow\",\n  根性: \"gutsGrow\",\n  賢さ: \"wisdomGrow\",\n};\nconst SKILL_TYPES = {\n  1: \"速度属性\",\n  2: \"耐力属性\",\n  3: \"力量属性\",\n  4: \"毅力属性\",\n  5: \"智力属性\",\n  6: \"体力\",\n  7: \"体力消耗\",\n  8: \"视野\",\n  9: \"体力恢复\",\n  10: \"出栏时机\",\n  13: \"掛かり时间\",\n  14: \"掛かり结束时间\",\n  21: \"瞬时速度\",\n  27: \"目标速度\",\n  28: \"走位速度\",\n  31: \"加速度\",\n};\nconst SKILL_CONDITION_OPTIONS = [\n  { label: \"短距離\", value: \"distance_type==1\" },\n  { label: \"マイル\", value: \"distance_type==2\" },\n  { label: \"中距離\", value: \"distance_type==3\" },\n  { label: \"長距離\", value: \"distance_type==4\" },\n  { label: \"逃げ\", value: \"running_style==1\" },\n  { label: \"先行\", value: \"running_style==2\" },\n  { label: \"差し\", value: \"running_style==3\" },\n  { label: \"追込\", value: \"running_style==4\" },\n  { label: \"通用\", value: \"running_style==\" },\n  { label: \"序盤\", value: \"phase==0|phase_random==0\" },\n  { label: \"中盤\", value: \"phase==1|phase_random==1\" },\n  { label: \"終盤\", value: \"phase==2|phase_random==2\" },\n  { label: \"冲刺\", value: \"phase==3|phase_random==3\" },\n  { label: \"コーナー\", value: \"corner_random==1\" },\n  { label: \"直線\", value: \"straight_random==1\" },\n  { label: \"最終直線/コーナー\", value: \"is_finalcorner==1\" },\n];\nconst SKILL_TYPE_OPTIONS = [\n  { label: \"速度被动\", value: \"10011\" },\n  { label: \"耐力被动\", value: \"10021\" },\n  { label: \"力量被动\", value: \"10031\" },\n  { label: \"毅力被动\", value: \"10041\" },\n  { label: \"智力被动\", value: \"10051\" },\n  { label: \"耐力恢复\", value: \"20021\" },\n  { label: \"速度提高\", value: \"20011\" },\n  // {label:'20031',value:'20031'},\n  { label: \"加速度提高\", value: \"20041\" },\n  { label: \"切换跑道\", value: \"20051\" },\n  { label: \"起步时间\", value: \"20061\" },\n  // {label:'20071',value:'20071'},\n  // {label:'20081',value:'20081'},\n  { label: \"视野提高\", value: \"20091\" },\n  { label: \"速度降低\", value: \"30011\" },\n  { label: \"无法冷静\", value: \"30041\" },\n  { label: \"耐力降低\", value: \"30051\" },\n  { label: \"视野降低\", value: \"30071\" },\n];\nconst SKILL_RARITY_OPTIONS = [\n  { label: \"ノーマル\", value: \"ノーマル\" },\n  { label: \"レア\", value: \"レア\" },\n  { label: \"固有\", value: \"固有\" },\n];\nconst SUPPORT_TYPE_OPTIONS = [\"スピード\", \"スタミナ\", \"パワー\", \"根性\", \"賢さ\", \"友人\"].map(\n  (item) => ({\n    label: item,\n    value: item,\n  })\n);\n\nconst DECK_LABELS = [\n  \"短距離\",\n  \"マイル\",\n  \"中距離\",\n  \"長距離\",\n  \"ダート\",\n  \"逃げ\",\n  \"先行\",\n  \"差し\",\n  \"追込\",\n  \"高速度\",\n  \"高耐力\",\n  \"高力量\",\n  \"高根性 \",\n  \"高智力\",\n  \"竞技场前排\",\n  \"萌新之友\",\n];\n\nconst RACE_FILTER_LIST = {\n  class: [\n    { text: \"初等/ジュニア\", value: \"ジュニア\" },\n    { text: \"经典/クラシック\", value: \"クラシック\" },\n    { text: \"经典&高级/クラシックシニア\", value: \"クラシックシニア\" },\n    { text: \"高级/シニア\", value: \"シニア\" },\n  ],\n  grade: [\n    { text: \"Pre-OP\", value: \"Pre-OP\" },\n    { text: \"OP\", value: \"OP\" },\n    { text: \"G1\", value: \"G1\" },\n    { text: \"G2\", value: \"G2\" },\n    { text: \"G3\", value: \"G3\" },\n  ],\n  place: [\n    { text: \"中京\", value: \"中京\" },\n    { text: \"函館\", value: \"函館\" },\n    { text: \"札幌\", value: \"札幌\" },\n    { text: \"小倉\", value: \"小倉\" },\n    { text: \"新潟\", value: \"新潟\" },\n    { text: \"阪神\", value: \"阪神\" },\n    { text: \"中山\", value: \"中山\" },\n    { text: \"京都\", value: \"京都\" },\n    { text: \"東京\", value: \"東京\" },\n    { text: \"福島\", value: \"福島\" },\n    { text: \"大井\", value: \"大井\" },\n  ],\n  ground: [\n    { text: \"芝\", value: \"芝\" },\n    { text: \"ダート\", value: \"ダート\" },\n  ],\n  distanceType: [\n    { text: \"短距離\", value: \"短距離\" },\n    { text: \"マイル\", value: \"マイル\" },\n    { text: \"中距離\", value: \"中距離\" },\n    { text: \"長距離\", value: \"長距離\" },\n  ],\n  direction: [\n    { text: \"左\", value: \"左\" },\n    { text: \"右\", value: \"右\" },\n    { text: \"直\", value: \"直\" },\n  ],\n  side: [\n    { text: \"空\", value: null },\n    { text: \"内\", value: \"内\" },\n    { text: \"外\", value: \"外\" },\n    { text: \"線\", value: \"線\" },\n  ],\n};\n\nconst SEED_BLUE_LABELS = {\n  speed: \"速度\",\n  stamina: \"耐力\",\n  power: \"力量\",\n  guts: \"根性\",\n  wisdom: \"智力\",\n};\nconst SEED_RED_LABELS = {\n  grass: \"草地\",\n  dirt: \"泥地\",\n  shortDistance: \"短距离\",\n  mile: \"英里\",\n  mediumDistance: \"中距离\",\n  longDistance: \"长距离\",\n  escapeR: \"逃\",\n  leadingR: \"先\",\n  insertR: \"差\",\n  trackingR: \"追\",\n};\n\nconst IMAGE_FALLBACK = `data:image/png;base64,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`;\nexport {\n  CDN_SERVER,\n  MOBILE_MENU_LIST,\n  PC_MENU_LIST,\n  EFFECT_LIMITS,\n  PLAYER_ADAPT_FILTERS,\n  PLAYER_GROW_FILTERS,\n  PLAYER_RARITIES,\n  PLAYER_ADAPT_TITLES,\n  SKILL_TYPES,\n  SKILL_CONDITION_OPTIONS,\n  SKILL_TYPE_OPTIONS,\n  SKILL_RARITY_OPTIONS,\n  SUPPORT_TYPE_OPTIONS,\n  DECK_LABELS,\n  RACE_FILTER_LIST,\n  SEED_BLUE_LABELS,\n  SEED_RED_LABELS,\n  IMAGE_FALLBACK\n};\n","import React, { useState } from \"react\";\nimport { Table } from \"antd\";\nimport { useDidRecover } from \"react-router-cache-route\";\nimport { useTranslation } from \"react-i18next\";\nimport { useDB } from \"../../hooks/index\";\nimport { RACE_FILTER_LIST } from \"@/config\";\n\nconst TITLE = \"比赛 - 乌拉拉大胜利 - 赛马娘资料站\";\n\nconst RACE_TABLE_LABELS = [\n  \"name\",\n  \"date\",\n  \"class\",\n  \"grade\",\n  \"place\",\n  \"ground\",\n  \"distance\",\n  \"distanceType\",\n  \"direction\",\n  \"side\",\n];\nconst labelTextDict = {\n  name: \"名称\",\n  date: \"时间\",\n  class: \"年级\",\n  grade: \"赛事等级\",\n  place: \"地点\",\n  ground: \"场地\",\n  distance: \"长度\",\n  distanceType: \"赛程\",\n  direction: \"方向\",\n  side: \"赛道\",\n};\nconst mediumLabels = [\"name\", \"date\", \"class\", \"grade\", \"ground\", \"distanceType\"];\n\nconst Race = (props) => {\n  const [selectedRowKeys, setSelectedRowKeys] = useState([]);\n  const { t } = useTranslation();\n  const db = useDB();\n\n  document.title = TITLE;\n  useDidRecover(() => {\n    document.title = TITLE;\n  });\n  const useViewport = () => {\n    // const [width, setWidth] = React.useState(window.innerWidth);\n    const [height, setHeight] = React.useState(window.innerHeight);\n    React.useEffect(() => {\n      const handleWindowResize = () => setHeight(window.innerHeight);\n      window.addEventListener(\"resize\", handleWindowResize);\n      return () => window.removeEventListener(\"resize\", handleWindowResize);\n    }, []);\n    return { height };\n  };\n\n  const dynamicTableHeight = useViewport().height - 168;\n  const getColumns = () => {\n    return RACE_TABLE_LABELS.map((label) => {\n      if (RACE_FILTER_LIST[\"class\"]) {\n        return {\n          title: t(labelTextDict[label]),\n          dataIndex: label,\n          filters: RACE_FILTER_LIST[label],\n          width: 100,\n          fixed: label === \"name\" ? \"left\" : null,\n          onFilter: (value, record) => record[label] === value,\n        };\n      } else {\n        return {\n          fixed: label === \"name\" ? \"left\" : null,\n          title: t(labelTextDict[label]),\n          dataIndex: label,\n        };\n      }\n    });\n  };\n  if (!db) return null;\n\n  const allRaceList = db\n    .get(\"races\")\n    .value()\n    .map((race, index) => {\n      race.key = index;\n      return race;\n    });\n  let columns = getColumns();\n  if (props.type === \"medium\") {\n    columns = getColumns(mediumLabels);\n  }\n  const onSelectChange = (selectedRowKeys, selectedRows) => {\n    let selected = {};\n    for (let race of selectedRows) {\n      if (selected[race.dateNum]) {\n        selected[race.dateNum].push(race.id);\n      } else {\n        selected[race.dateNum] = [race.id];\n      }\n    }\n    props.onSelect(selected);\n    setSelectedRowKeys(selectedRowKeys);\n  };\n  const rowSelection = {\n    selectedRowKeys,\n    onChange: onSelectChange,\n  };\n  // 筛选发生变化时清空已经选择的内容\n  const onChange = (pagination, filters, sorter, extra) => {\n    props.onSelect([]);\n    setSelectedRowKeys([]);\n  };\n  return (\n    <div className={\"w-full overflow-x-auto\"}>\n      <Table\n        rowSelection={props.onSelect ? rowSelection : null}\n        columns={columns}\n        dataSource={allRaceList}\n        onChange={onChange}\n        pagination={false}\n        scroll={{ y: dynamicTableHeight }}\n      />\n    </div>\n  );\n};\n\nexport default Race;\n","import { useState } from \"react\";\nimport { CDN_SERVER } from \"@/config\";\nimport { useTranslation } from \"react-i18next\";\nconst PlayerCard = (props) => {\n  const { data, onClick, className } = props;\n  const { t } = useTranslation();\n  const [show, setShow] = useState(true);\n  return data ? (\n    <div\n      className={`relative cursor-pointer ${className}`}\n      onClick={onClick}\n      style={{\n        paddingBottom: \"100%\",\n      }}\n    >\n      <div className=\"absolute top-3 left-1 right-1 bottom-2 flex items-center justify-center flex-wrap border-2 border-solid border-gray-500 rounded-lg\">\n        <p className=\"truncate\">{t(data.charaName)}</p>\n        <p className=\"truncate\">{t(data.name)}</p>\n      </div>\n      {show && (\n        <img\n          className=\"absolute top-0\"\n          style={{ aspectRatio: \"32 / 35\" }}\n          onError={() => setShow(false)}\n          alt={t(data.name)}\n          src={CDN_SERVER + data.imgUrl}\n          width={\"100%\"}\n        />\n      )}\n    </div>\n  ) : null;\n};\n\nexport default PlayerCard;\n","const EventCard = (props) => {\n  const { data, onClick, className } = props;\n  return data ? (\n    <div\n      className={`border border-solid border-gray-700 px-2 rounded truncate cursor-pointer ${className}`}\n      onClick={onClick}\n      data-tip={`<div>${data.choiceList\n        .map(\n          (choice, index) =>\n            `<div className=\"w-full flex\"><div>${choice[0]}</div><div>------</div>${choice[1]\n              .map((result) => `<div>${result}</div>`)\n              .join(\"\")}</div>`\n        )\n        .join(\"<div>===========</div>\")}</div>`}\n    >\n      {data.name}\n    </div>\n  ) : null;\n};\n\nexport default EventCard;\n","import { useState } from \"react\";\nimport { CDN_SERVER } from \"@/config\";\nimport { useTranslation } from \"react-i18next\";\nconst SkillCard = (props) => {\n  const { data, onClick, className } = props;\n  const { t } = useTranslation();\n  const [show, setShow] = useState(true);\n  return data ? (\n    <div\n      className={` rounded border-solid border-2  flex items-center cursor-pointer ${\n        data.rarity === 1 && \"bg-white\"\n      } ${data.rarity === 2 && \"bg-yellow-300\"} ${data.rarity === 3 && \" bg-purple-400\"} ${\n        data.rarity === 4 && \" bg-purple-400\"\n      } ${data.rarity === 5 && \" bg-purple-400\"} ${className}`}\n      onClick={onClick}\n      data-tip={`<div>${t(data.describe)}</div><div>${t(data.condition)}</div>`}\n    >\n      {show && (\n        <img\n          className=\"w-5 h-5 overflow-hidden\"\n          onError={() => setShow(false)}\n          alt={data.name}\n          src={CDN_SERVER + data.imgUrl}\n          preview=\"false\"\n        />\n      )}\n      <div className=\"flex-auto truncate\">{data.name}</div>\n    </div>\n  ) : null;\n};\n\nexport default SkillCard;\n","import { useState } from \"react\";\nimport { CDN_SERVER } from \"@/config\";\nimport { useTranslation } from \"react-i18next\";\nconst SupportCard = (props) => {\n  const { data, onClick, className } = props;\n  const { t } = useTranslation();\n  const [show, setShow] = useState(true);\n  return data ? (\n    <div\n      className={`relative cursor-pointer ${className}`}\n      onClick={onClick}\n      style={{\n        paddingBottom: \"134%\",\n      }}\n    >\n      <div className=\"absolute inset-1 flex items-center justify-center flex-wrap border-2 border-solid border-gray-500 rounded-lg\">\n        <p className=\"\">{t(data.charaName)}</p>\n        <p className=\"\">{t(data.name)}</p>\n      </div>\n      {show && (\n        <img\n          className=\"absolute top-0\"\n          onError={() => setShow(false)}\n          alt={data.name}\n          src={CDN_SERVER + data.imgUrl}\n          width={\"100%\"}\n        />\n      )}\n    </div>\n  ) : null;\n};\n\nexport default SupportCard;\n","import React from \"react\";\nimport { Table, Slider } from \"antd\";\n\nimport { useTranslation } from \"react-i18next\";\nimport { useDB } from \"../../hooks/index.js\";\n\nimport { EFFECT_LIMITS } from \"@/config\";\n\nconst getValue = (effect, cur) => {\n  if (effect[cur] !== -1) {\n    return effect[cur];\n  } else {\n    let index = EFFECT_LIMITS.indexOf(cur);\n    let min = 0;\n    let min_limit = \"init\";\n    let max = 0;\n    let max_limit = \"limit_lv50\";\n    for (let limit of EFFECT_LIMITS.slice(0, index)) {\n      if (effect[limit] > min) {\n        min = effect[limit];\n        min_limit = limit;\n      }\n    }\n    for (let limit of EFFECT_LIMITS.slice(index, EFFECT_LIMITS.length)) {\n      if (effect[limit] !== -1) {\n        max = effect[limit];\n        max_limit = limit;\n        break;\n      }\n    }\n    // cur=40 lv35=40 lv40=-1 lv50=-1\n    if (max <= min || max - min === 1 || min === 0) {\n      return min;\n    } else {\n      return (\n        <div data-tip=\"插值\">\n          {Math.floor(\n            min +\n              ((max - min) * (EFFECT_LIMITS.indexOf(cur) - EFFECT_LIMITS.indexOf(min_limit))) /\n                (EFFECT_LIMITS.indexOf(max_limit) - EFFECT_LIMITS.indexOf(min_limit))\n          )}\n        </div>\n      );\n    }\n  }\n};\nconst EffectTable = (props) => {\n  const { t } = useTranslation();\n  const db = useDB();\n  if (!db) return null;\n  const effects = db.get(\"effects\").value();\n  let columns = [\n    {\n      title: t(\"效果\"),\n      dataIndex: \"type\",\n      key: \"type\",\n      width: 200,\n      render: (type) => (\n        <p\n          data-tip={`<div><p>${effects[type].name}</p><p>${t(effects[type].name)}</p><p>${\n            effects[type].description\n          }</p><p>${t(effects[type].description)}</p></div>`}\n        >\n          {t(effects[type].name)}\n        </p>\n      ),\n    },\n    {\n      title: t(\"初始\"),\n      dataIndex: \"init\",\n      key: \"init\",\n      render: (div, record) => getValue(record, \"init\"),\n    },\n    {\n      title: \"lv25\",\n      dataIndex: \"limit_lv25\",\n      key: \"limit_lv25\",\n      render: (div, record) => getValue(record, \"limit_lv25\"),\n    },\n    {\n      title: \"lv30\",\n      dataIndex: \"limit_lv30\",\n      key: \"limit_lv30\",\n      render: (div, record) => getValue(record, \"limit_lv30\"),\n    },\n    {\n      title: \"lv35\",\n      dataIndex: \"limit_lv35\",\n      key: \"limit_lv35\",\n      render: (div, record) => getValue(record, \"limit_lv35\"),\n    },\n    {\n      title: \"lv40\",\n      dataIndex: \"limit_lv40\",\n      key: \"limit_lv40\",\n      render: (div, record) => getValue(record, \"limit_lv40\"),\n    },\n    {\n      title: \"lv45\",\n      dataIndex: \"limit_lv45\",\n      key: \"limit_lv45\",\n      render: (div, record) => getValue(record, \"limit_lv45\"),\n    },\n    {\n      title: \"lv50\",\n      dataIndex: \"limit_lv50\",\n      key: \"limit_lv50\",\n      render: (div, record) => getValue(record, \"limit_lv50\"),\n    },\n  ];\n  if (props.rarity === 2) {\n    columns = columns.slice(0, columns.length - 1);\n  } else if (props.rarity === 1) {\n    columns = columns.slice(0, columns.length - 2);\n  }\n\n  return (\n    <div className=\"w-full overflow-x-auto\">\n      <Table columns={columns} dataSource={props.effects} divKey=\"type\" pagination={false}></Table>\n    </div>\n  );\n};\n\nconst getEffectMark = (maxLevel) => {\n  let ok = {\n    1: \"lv1\",\n    5: \"lv5\",\n    10: \"lv10\",\n    15: \"lv15\",\n    20: \"lv20\",\n    25: \"lv25\",\n    30: \"lv30\",\n    35: \"lv35\",\n    40: \"lv40\",\n  };\n  if (maxLevel >= 45) {\n    ok[45] = \"lv45\";\n  }\n  if (maxLevel === 50) {\n    ok[50] = \"lv50\";\n  }\n  return ok;\n};\n\nconst TestEffectTable = (props) => {\n  const { t } = useTranslation();\n  const getMaxLevel = (rarity) => {\n    switch (rarity) {\n      case 1:\n        return 40;\n      case 2:\n        return 45;\n      case 3:\n        return 50;\n      default:\n        return 1;\n    }\n  };\n  const maxLevel = getMaxLevel(props.rarity);\n  const [selectingLevel, setSelectingLevel] = React.useState(maxLevel);\n  const calc = (data, input) => {\n    let nodes = [];\n    let output = 0;\n    let prevNode = { level: 0, value: 0 };\n    for (let i = 0; i < data.length; i += 1) {\n      if (data[i] !== -1) {\n        let level = i * 5;\n        if (level === 0) {\n          level = 1;\n        }\n        nodes.push({ level: level, value: data[i] });\n        prevNode = { level: level, value: data[i] };\n      }\n      if (i === data.length - 1 && data[i] === -1) {\n        nodes.push({ level: maxLevel, value: prevNode.value });\n      }\n    }\n    nodes.push({ level: 999, value: prevNode.value }); // 以后万一出SSSR？确保一定能找到区间。\n\n    const level = Math.floor(input);\n    let upperNode = { level: 0, value: 0 };\n    let lowerNode = { level: 0, value: 0 };\n    if (level < 0 || level > maxLevel) {\n      output = 0;\n    } else if (level < nodes[0].level) {\n      output = 0;\n    } else {\n      for (let i = 0; i < nodes.length; i += 1) {\n        if (level >= nodes[i].level && level < nodes[i + 1].level) {\n          lowerNode = nodes[i];\n          upperNode = nodes[i + 1] || nodes[i];\n          break;\n        }\n      }\n      output = Math.floor(\n        ((upperNode.value - lowerNode.value) / (upperNode.level - lowerNode.level)) *\n          (level - lowerNode.level) +\n          lowerNode.value\n      );\n    }\n\n    return output;\n  };\n  const db = useDB();\n  if (!db) return null;\n  const effects = db.get(\"effects\").value();\n  return (\n    <div>\n      {props.unique_effect && (\n        <>\n          <div className=\"flex w-full items-center justify-between p-2\">\n            <div>{t(\"固有效果\")}</div>\n            <div>{`${t(\"激活等级\")}:${props.unique_effect.lv}`}</div>\n          </div>\n          <div className=\"w-full grid grid-cols-2 gap-2\">\n            {[\"0\", \"1\"].map((index) =>\n              props.unique_effect[`type_${index}`] ? (\n                <div\n                  key={index}\n                  className=\"col-span-1 flex items-center rounded-xl border border-solid bg-green-300 border-green-500\"\n                >\n                  <div\n                    className=\"flex-auto truncate pl-2\"\n                    data-tip={`<div><p>${\n                      effects[props.unique_effect[`type_${index}`]]?.name\n                    }</p><p>${t(effects[props.unique_effect[`type_${index}`]]?.name)}</p><p>${\n                      effects[props.unique_effect[`type_${index}`]]?.description\n                    }</p><p>${t(\n                      effects[props.unique_effect[`type_${index}`]]?.description\n                    )}</p></div>`}\n                  >\n                    {t(effects[props.unique_effect[`type_${index}`]]?.name)}\n                  </div>\n                  <div className=\"bg-white h-full w-10 md:w-24 rounded-r-xl pl-2 flex items-center flex-shrink-0\">\n                    {props.unique_effect[`value_${index}`]}\n                  </div>\n                </div>\n              ) : null\n            )}\n          </div>\n        </>\n      )}\n      <div className=\"w-full flex items-center\">\n        <div className=\"mr-2\">{t(\"设置等级\")}</div>\n        <Slider\n          className=\"flex-auto\"\n          min={1}\n          max={maxLevel}\n          value={selectingLevel}\n          onChange={(value) => {\n            setSelectingLevel(value);\n          }}\n          marks={getEffectMark(maxLevel)}\n        />\n      </div>\n      <div className=\"w-full grid grid-cols-2 gap-2 \">\n        {props.effects?.map((item, index) => {\n          const data = [\n            item.init,\n            item.limit_lv5,\n            item.limit_lv10,\n            item.limit_lv15,\n            item.limit_lv20,\n            item.limit_lv25,\n            item.limit_lv30,\n            item.limit_lv35,\n            item.limit_lv40,\n            item.limit_lv45,\n            item.limit_lv50,\n          ].filter((item) => item);\n          return (\n            <div\n              key={item.type}\n              className=\"col-span-1 flex items-center rounded-xl border border-solid bg-green-300 border-green-500\"\n            >\n              <div\n                className=\"flex-auto truncate pl-2\"\n                data-tip={`<div><p>${effects[item.type].name}</p><p>${t(\n                  effects[item.type].name\n                )}</p><p>${effects[item.type].description}</p><p>${t(\n                  effects[item.type].description\n                )}</p></div>`}\n              >\n                {t(effects[item.type].name)}\n              </div>\n              <div className=\"bg-white h-full w-10 md:w-24 rounded-r-xl pl-2 flex items-center flex-shrink-0\">\n                {calc(data, selectingLevel)}\n              </div>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport { EffectTable, TestEffectTable };\n","import React from \"react\";\n\nimport { useDB } from \"../../hooks/index.js\";\nimport { useTranslation } from \"react-i18next\";\n\nimport EventList from \"../event/EventList\";\nimport SkillList from \"../skill/SkillList\";\nimport { EffectTable, TestEffectTable } from \"../effect\";\nimport { CDN_SERVER } from \"@/config\";\n\nconst SupportDetail = (props) => {\n  const { t } = useTranslation();\n  const db = useDB();\n  if (!db) return null;\n  const id = props.id;\n  const data = props.data || db.get(\"supports\").find({ id }).value();\n  return data ? (\n    <div className=\"w-full flex flex-col p-3 overflow-x-hidden\">\n      <div className=\"h-16 w-full flex flex-shrink-0\">\n        <img alt={data.name} src={CDN_SERVER + data.imgUrl} height={64} width={48} />\n        <div className=\"flex-auto flex flex-wrap h-full items-center\">\n          <div className=\"w-full flex items-center justify-between\">\n            <div className=\"flex-auto text-xl font-semibold truncate\">{data.name}</div>\n            <div className=\"flex-shrink-0 text-gray-700 truncate\">{t(data.name)}</div>\n          </div>\n          <div className=\"w-full flex items-center justify-between\">\n            <div className=\"flex-auto text-xl font-semibold truncate\">{data.charaName}</div>\n            <div className=\"flex-shrink-0 text-gray-700 truncate\">{t(data.charaName)}</div>\n          </div>\n        </div>\n      </div>\n      <div>{t(\"事件\")}</div>\n      <EventList idList={data.eventList} pid={data.id} />\n      <div>{t(\"事件技能\")}</div>\n      <SkillList idList={data.trainingEventSkill} />\n      <div>{t(\"训练技能\")}</div>\n      <SkillList idList={data.possessionSkill} />\n      <TestEffectTable\n        effects={data.effects}\n        unique_effect={data.unique_effect}\n        rarity={data.rarity}\n      />\n      <EffectTable effects={data.effects} rarity={data.rarity} />\n    </div>\n  ) : null;\n};\nexport default SupportDetail;\n","import React, { useState, useEffect } from \"react\";\nimport ReactTooltip from \"react-tooltip\";\n\nimport Modal from \"@material-tailwind/react/Modal\";\nimport ModalBody from \"@material-tailwind/react/ModalBody\";\nimport ModalHeader from \"@material-tailwind/react/ModalHeader\";\n\nimport { useDB } from \"../../hooks/index.js\";\nimport { useTranslation } from \"react-i18next\";\nconst List = ({\n  className,\n  listKey,\n  sort,\n  filterFunc,\n  idList,\n  dataList,\n  itemRender,\n  itemClass,\n  detailRender,\n  detailModalSize,\n}) => {\n  const { t } = useTranslation();\n  const [show, setShow] = React.useState(false);\n  const [cur, setCur] = useState(null);\n  useEffect(() => {\n    ReactTooltip.rebuild();\n  });\n  const db = useDB();\n  if (!db) return null;\n\n  const list = dataList\n    ? dataList\n    : idList\n    ? idList.reduce((list, cur) => {\n        return [...list, db.get(listKey).find({ id: cur }).value()];\n      }, [])\n    : db.get(listKey).value();\n\n  const showModal = (cur) => {\n    setCur(cur);\n    setShow(true);\n  };\n\n  const modal = (\n    <Modal size={\"lg\"} active={show} toggler={() => setShow(false)}>\n      {cur?.name && <ModalHeader toggler={() => setShow(false)}>{cur.name}</ModalHeader>}\n      <ModalBody>{detailRender(cur)}</ModalBody>\n    </Modal>\n  );\n\n  if (!list) return null;\n  if (sort) {\n    return (\n      <div className={` flex flex-wrap ${className}`}>\n        {sort.data.map((sortItem) => {\n          let sortList = list.filter((item) => {\n            let flag = false;\n            if (sort.key && sortItem.value) {\n              flag = item[sort.key] === sortItem.value;\n            }\n            if (sortItem.func) {\n              flag = sortItem.func(item);\n            }\n            return flag;\n          });\n          if (!sortList.length) return null;\n\n          return (\n            <>\n              <div key={sortItem.title} className=\"w-full text-lg font-semibold text-center\">\n                {t(sortItem.title)}\n              </div>\n              {sortList.map((data) => itemRender(data, showModal))}\n              {itemClass && (\n                <>\n                  {[...new Array(20)].map((e, i) => (\n                    <div key={`blank_${i}`} className={itemClass} />\n                  ))}\n                </>\n              )}\n            </>\n          );\n        })}\n        {modal}\n      </div>\n    );\n  } else {\n    return (\n      <div className={` flex flex-wrap ${className}`}>\n        {list\n          .filter((data) => (filterFunc ? filterFunc(data) : true))\n          .map((data) => itemRender(data, showModal))}\n        {modal}\n      </div>\n    );\n  }\n};\n\nexport default List;\n","const useUa = () => {\n  const ua = {};\n  ua.ios = /iPhone/.test(navigator.userAgent) || navigator.maxTouchPoints > 2;\n  ua.android = /Android \\d/.test(navigator.userAgent);\n  ua.isPhone = ua.ios || ua.android;\n  return ua;\n};\n\nexport default useUa;\n","import React from \"react\";\nimport { useHistory } from \"react-router\";\nimport SupportCard from \"./SupportCard\";\nimport SupportDetail from \"./SupportDetail\";\nimport List from \"../common/List\";\nimport useUa from \"../../utils/ua\";\nconst SupportList = ({ className, dataList, onClick, sortFlag = false, ownList }) => {\n  const ua = useUa();\n  const history = useHistory();\n  const sort = sortFlag\n    ? {\n        key: \"rare\",\n        data: [\n          { value: \"SSR\", title: \"SSR\" },\n          { value: \"SR\", title: \"SR\" },\n          { value: \"R\", title: \"R\" },\n        ],\n      }\n    : null;\n  return (\n    <List\n      className={className}\n      listKey=\"supports\"\n      dataList={dataList}\n      sort={sort}\n      onClick={onClick}\n      itemRender={(data, setCur) => (\n        <div key={data.id} className=\"w-24 max-w-1/4 p-1\">\n          <SupportCard\n            className={`${ownList?.length && !ownList?.includes(data.id) && \"un-chosen-card\"}`}\n            data={data}\n            onClick={() =>\n              onClick\n                ? onClick(data)\n                : ua.isPhone\n                ? history.push(`/support-detail/${data.id}`)\n                : setCur(data)\n            }\n          />\n        </div>\n      )}\n      itemClass={\"w-24 max-w-1/4\"}\n      detailRender={(data) => <SupportDetail data={data} isNur={false} />}\n      // detailModalSize='regular'\n    />\n  );\n};\n\nexport default SupportList;\n","import React from \"react\";\nimport SupportList from \"../support/SupportList\";\nimport PlayerList from \"../player/PlayerList\";\n\nimport { useDB } from \"../../hooks/index.js\";\nimport { SKILL_TYPES, CDN_SERVER } from \"@/config\";\n\nimport { useTranslation } from \"react-i18next\";\n\nconst SkillDetail = (props) => {\n  const { t } = useTranslation();\n  const db = useDB();\n  if (!db) return null;\n  const id = props.id;\n  const data = props.data || db.get(\"skills\").find({ id }).value();\n  const isNur = props.isNur !== undefined ? props.isNur : parseInt(props.match?.params?.nur);\n  const supportList = db\n    .get(\"supports\")\n    .filter((support) => {\n      let flag = 0;\n      support.skillList.forEach((id) => {\n        if (id === data?.id) {\n          flag = 1;\n        }\n      });\n      return flag;\n    })\n\n    .sort((a, b) => b.rarity - a.rarity)\n    .value();\n  const playerList = db\n    .get(\"players\")\n    .filter((player) => {\n      let flag = 0;\n      player.skillList.forEach((id) => {\n        if (id === data?.id) {\n          flag = 1;\n        }\n      });\n      return flag;\n    })\n    .sort((a, b) => b.rarity - a.rarity)\n    .value();\n\n  if (!data) return null;\n  return (\n    <div\n      className=\"w-full flex flex-col p-3\"\n      style={{\n        maxWidth: \"calc(100vw - 40px)\",\n      }}\n    >\n      <div className=\"w-full flex mb-1 bg-gray-100 items-center\">\n        <div className=\"w-20 flex items-center justify-center\">\n          <img alt={data.name} src={CDN_SERVER + data.imgUrl} className=\"w-14\" />\n        </div>\n        <div className=\"flex-auto\">\n          <p>{t(data.name)}</p>\n          <p className=\"text-gray-500\">{data.name}</p>\n        </div>\n      </div>\n      <div className=\"w-full flex mb-1\">\n        <div className=\"w-20 text-center flex-shrink-0\">{t(\"技能描述\")}</div>\n        <div className=\"flex-auto\">\n          <p>{t(data.describe)}</p>\n          <p className=\"text-gray-500\">{data.describe}</p>\n        </div>\n      </div>\n      <div className=\"w-full flex mb-1 bg-gray-100\">\n        <div className=\"w-20 text-center flex-shrink-0\">{t(\"触发条件\")}</div>\n        <div className=\"flex-auto\">\n          <p>{t(data.condition)}</p>\n          <p className=\"text-gray-500\">{data.condition}</p>\n        </div>\n      </div>\n      <div className=\"w-full flex mb-1\">\n        <div className=\"w-20 text-center flex-shrink-0\">{t(\"技能效果\")}</div>\n        <div className=\"flex-auto\">\n          {data.ability?.map((ability) => {\n            return (\n              <span key={ability.type}>{`${SKILL_TYPES[ability.type]} ${\n                ability.value / 10000\n              }`}</span>\n            );\n          })}\n        </div>\n      </div>\n      <div className=\"w-full flex mb-1 bg-gray-100\">\n        <div className=\"w-20 text-center flex-shrink-0\">{t(\"持续时间\")}</div>\n        <div className=\"flex-auto\">{`${data.ability_time / 10000}s * ${t(\n          \"赛道长度\"\n        )} / 1000}`}</div>\n      </div>\n      <div className=\"w-full flex mb-1\">\n        <div className=\"w-20 text-center flex-shrink-0\">{t(\"冷却时间\")}</div>\n        <div className=\"flex-auto\">{`${data.cooldown / 10000}s * ${t(\"赛道长度\")} / 1000`}</div>\n      </div>\n      <div className=\"w-full flex mb-1 bg-gray-100\">\n        <div className=\"w-20 text-center flex-shrink-0\">{t(\"技能价格\")}</div>\n        <div className=\"flex-auto\">{data.need_skill_point}</div>\n      </div>\n      <div className=\"w-full flex mb-1\">\n        <div className=\"w-20 text-center flex-shrink-0\">{t(\"技能评分\")}</div>\n        <div className=\"flex-auto\">{data.grade_value}</div>\n      </div>\n      {!isNur && (\n        <>\n          {supportList.length > 0 && (\n            <>\n              <div>{t(\"支援卡\")}</div>\n              <SupportList className=\"w-full\" dataList={supportList} sortFlag={false} />\n            </>\n          )}\n          {playerList.length > 0 && (\n            <>\n              <div>{t(\"角色\")}</div>\n              <PlayerList className=\"w-full\" dataList={playerList} />\n            </>\n          )}\n          {/* {data.events?.length > 0 && (\n            <>\n              <div>{t(\"事件\")}</div>\n              <EventList className=\"w-full\" idList={data.events} />\n            </>\n          )} */}\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default SkillDetail;\n","import React from \"react\";\nimport SkillCard from \"./SkillCard\";\nimport SkillDetail from \"./SkillDetail\";\nimport List from \"../common/List\";\nconst SkillList = ({ className, idList, dataList, onClick, sortFlag = false, size = \"medium\" }) => {\n  const sort = {\n    key: \"rare\",\n    data: [\n      { value: \"ノーマル\", title: \"普通\" },\n      { value: \"レア\", title: \"金色 稀有\" },\n      { value: \"固有\", title: \"独特\" },\n    ],\n  };\n  return (\n    <List\n      className={className}\n      listKey=\"skills\"\n      idList={idList}\n      dataList={dataList}\n      sort={sortFlag && sort}\n      itemRender={(data, setCur) => (\n        <div\n          key={data.id}\n          className={`${size === \"medium\" && \"w-1/3 md:max-w-none md:w-unset h-8 p-1 md:p-2\"} ${\n            size === \"small\" && \"h-6 p-1\"\n          }`}\n        >\n          <SkillCard\n            className={\"md:px-1 \"}\n            data={data}\n            onClick={\n              () => (onClick ? onClick(data) : setCur(data))\n              // ua.isPhone\n              // ? history.push(`/skill-detail/${data.id}`)\n              // : setCur(data)\n            }\n          />\n        </div>\n      )}\n      detailRender={(data) => <SkillDetail data={data} isNur={false} />}\n      // detailModalSize='regular'\n    />\n  );\n};\n\nexport default SkillList;\n","import SkillList from \"../skill/SkillList\";\nimport { useTranslation } from \"react-i18next\";\nconst EventDetail = ({ data }) => {\n  const { t } = useTranslation();\n  return data ? (\n    <>\n      <div className=\"font-semibold mb-1\">{data.name}</div>\n      <div className=\"font-semibold mb-1\">{t(data.name)}</div>\n      {data.choiceList.map((choice, index) => (\n        <div\n          key={choice}\n          className={`w-full flex py-2 ${index % 2 === 0 ? \"bg-white\" : \"bg-gray-100\"}`}\n        >\n          <div className=\"w-1/3 mr-4\">\n            <p>{choice[0]}</p>\n            <p>{t(choice[0])}</p>\n          </div>\n          <div className=\"flex-auto\">\n            {choice[1].map((result) => (\n              <p key={result}>{result}</p>\n            ))}\n          </div>\n        </div>\n      ))}\n      {data.skills && (\n        <>\n          <div className=\"font-semibold mb-1\">{t(\"技能\")}</div>\n          <SkillList idList={data.skills || []} />\n        </>\n      )}\n    </>\n  ) : null;\n};\nexport default EventDetail;\n","import React from \"react\";\n\nimport EventCard from \"./EventCard\";\nimport EventDetail from \"./EventDetail\";\nimport List from \"../common/List\";\n\nconst EventList = ({ dataList, idList, onClick, sortFlag = false, type = \"all\" }) => {\n  const sort = sortFlag\n    ? {\n        data: [\n          { title: \"切れ者\", func: (data) => JSON.stringify(data)?.indexOf(\"切れ者\") !== -1 },\n          { title: \"有选项\", func: (data) => data?.choiceList.length > 1 },\n          { title: \"无选项\", func: (data) => data?.choiceList.length <= 1 },\n        ],\n      }\n    : null;\n  const filterFunc =\n    type === \"multi\"\n      ? (data) => {\n          return data?.choiceList.length > 1;\n        }\n      : null;\n  return (\n    <List\n      listKey=\"events\"\n      dataList={dataList}\n      idList={idList}\n      sort={sort}\n      filterFunc={filterFunc}\n      onClick={onClick}\n      className=\"\"\n      itemRender={(item, setCur) => (\n        <EventCard\n          className=\"mr-1 mb-1\"\n          data={item}\n          onClick={() => (onClick ? onClick(item) : setCur(item))}\n        />\n      )}\n      detailRender={(item) => <EventDetail data={item} isNur={false} />}\n    />\n  );\n};\n\nexport default EventList;\n","import React, { useState } from \"react\";\nimport Button from \"@material-tailwind/react/Button\";\n\nimport { Row, Col, Timeline, Checkbox } from \"antd\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { useDB } from \"../../hooks/index.js\";\n\nconst RaceSchedule = (props) => {\n  // const { t } = useTranslation();\n  const  db = useDB();\n  if (!db) return null;\n  // const races = db.get('races').value()\n  const str = [];\n  const getDate = (i) => {\n    let year = Math.floor(i / 24) + 1;\n    let month = Math.floor((i - (year - 1) * 24) / 2) + 1;\n    let moment = i % 2 ? \"后\" : \"前\";\n    return `${year}年${month}月${moment}`;\n  };\n  for (let i = 13; i < 72; i++) {\n    let curRace;\n    if (props.raceList && props.raceList[i]) {\n      curRace = db.get(\"races\").find({ id: props.raceList[i].id }).value();\n      str.push(\n        <Col span={6} key={i} style={{ backgroundColor: \"#ff6b81\", border: \"1px solid #2f3542\" }}>\n          {getDate(i)}\n          <br />\n          {`${curRace.name}/${curRace.distanceType}/${props.raceList[i].goal}`}\n          {/* -{curRace.date} */}\n        </Col>\n      );\n    } else if (props.filterRace && props.filterRace[i]) {\n      str.push(\n        <Col\n          span={6}\n          key={i}\n          style={{\n            backgroundColor: \"#7bed9f\",\n            border: \"1px solid #2f3542\",\n            whiteSpace: \"pre-line\",\n          }}\n        >\n          {getDate(i)}\n          <br />\n          {props.filterRace[i].map((raceId) => {\n            let curRace = db.get(\"races\").find({ id: raceId }).value();\n            return `${curRace.name}/${curRace.grade}/${curRace.distanceType}\\n`;\n          })}\n        </Col>\n      );\n    } else {\n      str.push(\n        <Col span={6} key={i} style={{ backgroundColor: \"#a4b0be\", border: \"1px solid #2f3542\" }}>\n          {getDate(i)}\n        </Col>\n      );\n    }\n  }\n  return <Row style={{ color: \"black\" }}>{str}</Row>;\n};\n\nconst raceGolds = [\n  { name: \"传统三冠\", raceNames: [\"皐月賞30\", \"日本ダービー東京優駿33\", \"菊花賞43\"] },\n  { name: \"春日三冠\", raceNames: [\"大阪杯53\", \"天皇賞春55\", \"宝塚記念59\"] },\n  { name: \"秋日三冠\", raceNames: [\"天皇賞秋67\", \"ジャパンカップ69\", \"有馬記念71\"] },\n  { name: \"天皇春秋\", raceNames: [\"天皇賞春55\", \"天皇賞秋67\"] },\n  { name: \"纪念春秋Ⅰ\", raceNames: [\"宝塚記念35\", \"有馬記念47\"] },\n  { name: \"纪念春秋Ⅱ\", raceNames: [\"宝塚記念59\", \"有馬記念71\"] },\n  { name: \"母马三冠\", raceNames: [\"桜花賞30\", \"オークス33\", \"秋華賞43\"] },\n  { name: \"英里春秋Ⅰ\", raceNames: [\"安田記念34\", \"マイルチャンピオンシップ45\"] },\n  { name: \"英里春秋Ⅱ\", raceNames: [\"安田記念58\", \"マイルチャンピオンシップ69\"] },\n  { name: \"泥地春秋\", raceNames: [\"フェブラリーステークス51\", \"チャンピオンズカップ70\"] },\n  { name: \"短距春秋\", raceNames: [\"高松宮記念53\", \"スプリンターズステークス65\"] },\n];\nconst getGolds = (race) => {\n  return raceGolds\n    .reduce((golds, raceGold) => {\n      if (raceGold.raceNames.indexOf(race.uniqueName) !== -1) {\n        golds.push(\n          `${raceGold.name} ${raceGold.raceNames.indexOf(race.uniqueName) + 1}/${\n            raceGold.raceNames.length\n          }`\n        );\n      }\n      return golds;\n    }, [])\n    .join(\" , \");\n};\n\nconst RaceTimeline = React.memo((props) => {\n  const { t } = useTranslation();\n  const [showSpare, setShowSpare] = useState(false);\n  const  db = useDB();\n  if (!db) return null;\n  const { showButton } = props;\n  const str = [];\n\n  const getDate = (i) => {\n    let year = Math.floor(i / 24) + 1;\n    let month = Math.floor((i - (year - 1) * 24) / 2) + 1;\n    month = month < 10 ? `\\xa0\\xa0${month}` : month;\n    let moment = i % 2 ? \"后\" : \"前\";\n    return `${year}年\\xa0${month}月${moment}`;\n  };\n  const getColor = (grade) => {\n    switch (grade) {\n      case \"G1\":\n        return \"blue\";\n      case \"G2\":\n        return \"pink\";\n      case \"G3\":\n        return \"green\";\n      case \"OP\":\n        return \"orange\";\n      case \"Pre-OP\":\n        return \"orange\";\n      default:\n        return \"gray\";\n    }\n  };\n  for (let i = 13; i < 72; i++) {\n    let curRace, id, golds;\n    if (props.raceList && props.raceList[i]) {\n      id = props.raceList[i].id;\n      curRace = db.get(\"races\").find({ id }).value();\n      golds = getGolds(curRace);\n      str.push(\n        <Timeline.Item label={getDate(i)} color=\"red\" className=\"text-base\" key={id}>\n          {`${curRace.grade} / ${curRace.distanceType} / ${curRace.distance} / ${curRace.name} / ${\n            props.raceList[i].goal || \"参赛\"\n          }\n          ${golds ? \" / \" + golds : \"\"}`}\n        </Timeline.Item>\n      );\n    } else if (props.filterRace && props.filterRace[i]) {\n      props.filterRace[i].forEach((id, index) => {\n        curRace = db.get(\"races\").find({ id }).value();\n        golds = getGolds(curRace);\n        str.push(\n          <Timeline.Item\n            label={index === 0 ? getDate(i) : null}\n            color={getColor(curRace.grade)}\n            style={{ fontSize: \"14px\" }}\n            key={id}\n          >\n            {`${curRace.grade} / ${curRace.distanceType} / ${curRace.distance} / ${curRace.name}\n            ${golds ? \" / \" + golds : \"\"}`}\n          </Timeline.Item>\n        );\n      });\n    } else {\n      //普通\n      showSpare &&\n        str.push(\n          <Timeline.Item\n            label={getDate(i)}\n            color={getColor(\"normal\")}\n            style={{ fontSize: \"12px\" }}\n          />\n        );\n    }\n  }\n  return (\n    <>\n      {showButton && (\n        <Button onClick={() => setShowSpare(!showSpare)}>\n          {showSpare ? t(\"隐藏空闲月份\") : t(\"显示空闲月份\")}\n        </Button>\n      )}\n      <Timeline mode=\"left\">{str}</Timeline>\n    </>\n  );\n});\nconst RaceCheckbox = (props) => {\n  const [raceFilterCondition, setRaceFilterCondition] = useState(props.raceFilterCondition);\n\n  const filterList = {\n    distanceType: [\n      { label: \"短距離\", value: \"短距離\" },\n      { label: \"マイル\", value: \"マイル\" },\n      { label: \"中距離\", value: \"中距離\" },\n      { label: \"長距離\", value: \"長距離\" },\n    ],\n    grade: [\n      { label: \"Pre-OP\", value: \"Pre-OP\" },\n      { label: \"OP\", value: \"OP\" },\n      { label: \"G1\", value: \"G1\" },\n      { label: \"G2\", value: \"G2\" },\n      { label: \"G3\", value: \"G3\" },\n    ],\n    ground: [\n      { label: \"芝\", value: \"芝\" },\n      { label: \"ダート\", value: \"ダート\" },\n    ],\n  };\n  const onChange = (checkedValues, type) => {\n    let tmpObj = {};\n    tmpObj[type] = checkedValues;\n    props.onChange({ ...raceFilterCondition, ...tmpObj });\n    setRaceFilterCondition({ ...raceFilterCondition, ...tmpObj });\n  };\n  return (\n    <>\n      {Object.keys(filterList).map((key) => (\n        <div key={key}>\n          <Checkbox.Group\n            options={filterList[key]}\n            defaultValue={props.raceFilterCondition[key]}\n            onChange={(checkedValues) => onChange(checkedValues, key)}\n          />\n        </div>\n      ))}\n    </>\n  );\n};\nexport { RaceSchedule, RaceTimeline, RaceCheckbox };\n","import React from \"react\";\n\nimport { CDN_SERVER } from \"@/config\";\nimport EventList from \"../event/EventList\";\nimport SkillList from \"../skill/SkillList\";\n// import RaceList from './player-race.js'\nimport {\n  // RaceSchedule,\n  RaceTimeline,\n} from \"../race\";\n// import {EffectTable} from './effect.js'\nimport { useDB } from \"../../hooks/index.js\";\nimport { useTranslation } from \"react-i18next\";\nconst PlayerItem = ({ data }) => {\n  const { name, imgUrl, charaName } = data;\n  const { t } = useTranslation();\n  return (\n    <div className=\"h-16 w-full flex flex-shrink-0\">\n      <img alt={name} src={CDN_SERVER + imgUrl} height={64} width={64} />\n      <div className=\"flex-auto flex flex-wrap h-full items-center\">\n        <div className=\"w-full flex items-center justify-between\">\n          <div className=\" text-xl font-semibold truncate\">{name}</div>\n          <div className=\"flex-shrink-0 text-gray-700 truncate\">{t(name)}</div>\n        </div>\n        <div className=\"w-full flex items-center justify-between\">\n          <div className=\" text-xl font-semibold truncate\">{charaName}</div>\n          <div className=\"flex-shrink-0 text-gray-700 truncate\">{t(charaName)}</div>\n        </div>\n      </div>\n    </div>\n  );\n};\nconst PlayerDetail = (props) => {\n  const { t } = useTranslation();\n  const db = useDB();\n  if (!db) return null;\n  const id = props.id || props.match?.params?.id;\n  // 是否育成 育成顺序样式不同\n  const isNur = props.isNur ?? parseInt(props.match?.params?.nur);\n  const data = props.data || db.get(\"players\").find({ id }).value();\n  if (!data) return null;\n\n  if (isNur) {\n    return (\n      <div className=\"w-full flex flex-col  p-3\">\n        <PlayerItem data={data} />\n        <div>{t(\"多选项事件\")}</div>\n        <EventList idList={data.eventList0} />\n        <div>{t(\"赛后事件\")}</div>\n        <EventList idList={data.eventList2} />\n        <div>{t(\"通用事件\")}</div>\n        <EventList idList={data.eventList3} />\n        <div>{t(\"隐藏事件\")}</div>\n        <EventList idList={data.hideEvent} type=\"all\" />\n        <div>{t(\"赛程\")}</div>\n        {/* <RaceSchedule raceList={data.raceList}/> */}\n        <RaceTimeline raceList={data.raceList} showButton={false} />\n        <div>{t(\"技能\")}</div>\n        <SkillList idList={data.skillList} />\n      </div>\n    );\n  } else {\n    return (\n      <div className=\"w-full flex flex-col  p-3\">\n        <PlayerItem data={data} />\n        <AdaptBox player={data} />\n        <div className=\"h-2\"></div>\n        <GrowBox player={data} />\n        <div className=\"h-2\"></div>\n        <SkillList idList={data.skillList} />\n        <div>{t(\"多选项事件\")}</div>\n        <EventList idList={data.eventList0} />\n        <div>{t(\"无选项事件\")}</div>\n        <EventList idList={data.eventList1} />\n        <div>{t(\"赛后事件\")}</div>\n        <EventList idList={data.eventList2} />\n        <div>{t(\"通用事件\")}</div>\n        <EventList idList={data.eventList3} />\n        <div>{t(\"隐藏事件\")}</div>\n        <EventList idList={data.eventList4} />\n        <div>{t(\"赛程\")}</div>\n        {/* <RaceSchedule raceList={data.raceList}/> */}\n        <RaceTimeline raceList={data.raceList} />\n      </div>\n    );\n  }\n};\n\nconst coloredGradeText = (text) => {\n  let color = \"gray\";\n  switch (text) {\n    case \"S\":\n      color = \"#FFD700\";\n      break;\n    case \"A\":\n      color = \"#FFA500\";\n      break;\n    case \"B\":\n      color = \"#BA55D3\";\n      break;\n    case \"C\":\n      color = \"#90EE90\";\n      break;\n    case \"D\":\n      color = \"#87CEEB\";\n      break;\n    default:\n      color = \"gray\";\n  }\n  return (\n    <div style={{ fontSize: 22, fontWeight: 700, textShadow: \"0 2px #33333370\", color: color }}>\n      {text}\n    </div>\n  );\n};\nconst AdaptBox = (props) => {\n  const { t } = useTranslation();\n\n  return (\n    <div className=\"my-1 rounded-lg border border-solid border-gray-500 grid grid-cols-5\">\n      <div className=\"col-span-1 md_text-xl bg-green-400 text-gray-700 flex justify-center items-center\">\n        {t(\"场地适应\")}\n      </div>\n      <div className=\"col-span-1 flex items-center justify-around\">\n        {[`${t(\"芝\")}`, coloredGradeText(props.player.grass)]}\n      </div>\n      <div className=\"col-span-1 flex items-center justify-around\">\n        {[`${t(\"ダート\")}`, coloredGradeText(props.player.dirt)]}\n      </div>\n      <div className=\"col-span-2\"></div>\n      <div className=\"col-span-1 md_text-xl bg-green-400 text-gray-700 flex justify-center items-center\">\n        {t(\"赛程适应\")}\n      </div>\n      <div className=\"col-span-1 flex items-center justify-around\">\n        {[`${t(\"短距離\")}`, coloredGradeText(props.player.shortDistance)]}\n      </div>\n      <div className=\"col-span-1 flex items-center justify-around\">\n        {[`${t(\"マイル\")}`, coloredGradeText(props.player.mile)]}\n      </div>\n      <div className=\"col-span-1 flex items-center justify-around\">\n        {[`${t(\"中距離\")}`, coloredGradeText(props.player.mediumDistance)]}\n      </div>\n      <div className=\"col-span-1 flex items-center justify-around\">\n        {[`${t(\"長距離\")}`, coloredGradeText(props.player.longDistance)]}\n      </div>\n      <div className=\"col-span-1 md_text-xl bg-green-400 text-gray-700 flex justify-center items-center\">\n        {t(\"脚质适应\")}\n      </div>\n      <div className=\"col-span-1 flex items-center justify-around\">\n        {[`${t(\"逃げ\")}`, coloredGradeText(props.player.escape)]}\n      </div>\n      <div className=\"col-span-1 flex items-center justify-around\">\n        {[`${t(\"先行\")}`, coloredGradeText(props.player.leading)]}\n      </div>\n      <div className=\"col-span-1 flex items-center justify-around\">\n        {[`${t(\"差し\")}`, coloredGradeText(props.player.insert)]}\n      </div>\n      <div className=\"col-span-1 flex items-center justify-around\">\n        {[`${t(\"追込\")}`, coloredGradeText(props.player.tracking)]}\n      </div>\n    </div>\n  );\n};\n\nconst GrowBox = (props) => {\n  const { t } = useTranslation();\n  return (\n    <div className=\"my-1 rounded-lg border border-solid border-gray-500 grid grid-cols-5\">\n      <div className=\"col-span-1 md_text-xl bg-green-400 text-gray-700 flex justify-center items-center\">\n        {t(\"スピード\")}\n      </div>\n      <div className=\"col-span-1 md_text-xl bg-green-400 text-gray-700 flex justify-center items-center\">\n        {t(\"スタミナ\")}\n      </div>\n      <div className=\"col-span-1 md_text-xl bg-green-400 text-gray-700 flex justify-center items-center\">\n        {t(\"パワー\")}\n      </div>\n      <div className=\"col-span-1 md_text-xl bg-green-400 text-gray-700 flex justify-center items-center\">\n        {t(\"根性\")}\n      </div>\n      <div className=\"col-span-1 md_text-xl bg-green-400 text-gray-700 flex justify-center items-center\">\n        {t(\"賢さ\")}\n      </div>\n      <div className=\"col-span-1 flex items-center justify-around\">{props.player.speedGrow}</div>\n      <div className=\"col-span-1 flex items-center justify-around\">{props.player.staminaGrow}</div>\n      <div className=\"col-span-1 flex items-center justify-around\">{props.player.powerGrow}</div>\n      <div className=\"col-span-1 flex items-center justify-around\">{props.player.gutsGrow}</div>\n      <div className=\"col-span-1 flex items-center justify-around\">{props.player.wisdomGrow}</div>\n    </div>\n  );\n};\n\nexport default PlayerDetail;\n","import React from \"react\";\nimport { useHistory } from \"react-router\";\nimport PlayerCard from \"./PlayerCard\";\nimport PlayerDetail from \"./PlayerDetail\";\nimport List from \"../common/List\";\nimport useUa from \"../../utils/ua\";\nconst PlayerList = ({ className, dataList, onClick, sortFlag = false }) => {\n  const ua = useUa();\n  const history = useHistory();\n  const sort = {\n    key: \"rare\",\n    data: [\n      { value: \"3\", title: \"3星\" },\n      { value: \"2\", title: \"2星\" },\n      { value: \"1\", title: \"1星\" },\n    ],\n  };\n  return (\n    <List\n      className={className}\n      listKey=\"players\"\n      dataList={dataList}\n      sort={sortFlag && sort}\n      itemRender={(data, setCur) => (\n        <div key={`player_${data.id}`} className=\"w-24 max-w-1/4 p-1\">\n          <PlayerCard\n            className=\"\"\n            data={data}\n            onClick={() =>\n              onClick\n                ? onClick(data)\n                : ua.isPhone\n                ? history.push(`/player-detail/${data.id}`)\n                : setCur(data)\n            }\n          />\n        </div>\n      )}\n      itemClass=\"w-24 max-w-1/4 \"\n      detailRender={(data) => <PlayerDetail data={data} isNur={false} />}\n      // detailModalSize='regular'\n    />\n  );\n};\n\nexport default PlayerList;\n","import React from \"react\";\nimport { useDidRecover } from \"react-router-cache-route\";\nimport PlayerList from \"../../components/player/PlayerList.js\";\n\nconst TITLE = \"角色 - 乌拉拉大胜利 - 赛马娘资料站\";\n\n//todo filter\nconst Player = (props) => {\n  document.title = TITLE;\n  useDidRecover(() => {\n    document.title = TITLE;\n  });\n  return <PlayerList className=\"justify-between\" sortFlag={true} onClick={props.onClick} />;\n};\n\nexport default Player;\n","import low from 'lowdb';\nimport LocalStorage from 'lowdb/adapters/LocalStorage'\n// import Memory from 'lowdb/adapters/Memory'\nimport axios from 'axios'\n// import jsonDB from './assert/db.json'\n\nconst adapterL = new LocalStorage('db')\n// const adapterM = new Memory()\nconst db = low(adapterL)\n\n\nconst d = async ()=>{\n  // let res = await axios.get('https://urarawin.com/d')\n  let res = await axios.get('https://urarawin.com/api/sqlite/d')\n  db.set('userId',res.data).write()\n}\ndb.get('userId').value()||d()\ndb.get('lan').value()||db.set('lan','cn').write()\ndb.get('selected').value()||db.set('selected',{\n  supports:{0:{},1:{},2:{},3:{},4:{},5:{}},\n  player:{},\n  races:[]\n}).write()\ndb.get('myDecks').value()||db.set('myDecks',[]).write()\ndb.get('mySupports').value()||db.set('mySupports',[]).write()\nexport  default db\n","const CheckBox = ({ register, name, value, label, icon }) => {\n  return (\n    <div key={value} className=\"flex items-center mr-1 mb-1\">\n      <input\n        id={value}\n        type=\"checkbox\"\n        className={`mt-checkbox mt-checkbox-light-blue-500 hidden overflow-hidden`}\n        value={value}\n        {...register(name)}\n      />\n      <label\n        htmlFor={value}\n        className=\"flex items-center cursor-pointer text-gray-400 select-none transition-all duration-300\"\n      >\n        <span className=\"relative w-5 h-5 inline-block mr-2 rounded border border-gray-500 transition-all duration-300\"></span>\n        {icon && <img alt=\"\" src={icon} width={20} />}\n        {label}\n      </label>\n    </div>\n  );\n};\nexport default CheckBox;\n","const Input = ({ className,register,name,placeholder})=>{\n  return <div className=\"w-full relative h-11\">\n  <input\n    className={`w-full h-full text-gray-800 leading-normal shadow-none outline-none focus:outline-none focus:ring-0 focus:text-gray-800 px-3 pt-2.5 pb-1.5 mt-input-outline-light-blue-500 mt-input-outline bg-transparent border border-1 border-gray-300 rounded-lg focus:border-2 focus:border-light-blue-500 undefined undefined`}\n    placeholder=\" \"\n    {...register(\"q\")}\n  />\n  <label\n    className={`text-gray-400 absolute left-0 -top-1.5 w-full h-full false border-gray-300 pointer-events-none flex false leading-10 transition-all duration-300`}\n  >\n    {placeholder || '请输入'}\n  </label>\n</div>\n}\n\nexport default Input","import React from \"react\";\n\nimport { useForm } from \"react-hook-form\";\nimport CheckBox from \"../common/CheckBox\";\nimport Input from \"../common/Input\";\n\nimport { useDB } from \"../../hooks/index.js\";\nimport { useTranslation } from \"react-i18next\";\nimport {\n  CDN_SERVER,\n  SKILL_CONDITION_OPTIONS,\n  SKILL_TYPE_OPTIONS,\n  SKILL_RARITY_OPTIONS,\n} from \"@/config\";\n\nconst SkillFilterForm = (props) => {\n  const { t } = useTranslation();\n  const { onUpdate, needId, checkOnly, formName = \"skill\" } = props;\n\n  const { register, watch } = useForm();\n\n  React.useEffect(() => {\n    const subscription = watch((value, { name, type }) => getFilterList(value));\n    return () => subscription.unsubscribe();\n  }, [watch]);\n  const getFilterList = (value) => {\n    const q = value[`${formName}q`];\n    const condition =\n      value[`${formName}condition`] &&\n      value[`${formName}condition`]?.map((e) => e.replace(formName, \"\"));\n    const rare =\n      value[`${formName}rare`] && value[`${formName}rare`]?.map((e) => e.replace(formName, \"\"));\n    const type =\n      value[`${formName}type`] && value[`${formName}type`]?.map((e) => e.replace(formName, \"\"));\n    if (checkOnly && !q && !type?.length && !rare?.length && !condition?.length) {\n      onUpdate([]);\n      return;\n    }\n    let tempList = db.get(\"skills\").orderBy(\"db_id\").value();\n    if (q) {\n      tempList = tempList.filter((item) => item.name.indexOf(q) > -1);\n    }\n    if (type && type.length) {\n      tempList = tempList.filter((skill) => {\n        let flag = 0;\n        type.forEach((value) => {\n          let str = skill.icon_id + \"\";\n          if (str) {\n            if (str[0] === value[0] && str[3] === value[3]) {\n              flag = 1;\n            }\n          }\n        });\n        return flag;\n      });\n    }\n    if (rare && rare.length) {\n      tempList = tempList.filter((skill) => {\n        let flag = 0;\n        rare.forEach((value) => {\n          if (skill.rare === value) {\n            flag = 1;\n          }\n        });\n        return flag;\n      });\n    }\n    if (condition && condition.length) {\n      const str = condition.join(\"|\");\n      const reg = RegExp(str);\n      tempList = tempList.filter((skill) => skill.condition?.match(reg));\n    }\n    if (needId) {\n      tempList = tempList.reduce((list, skill) => {\n        list.push(skill?.id);\n        return list;\n      }, []);\n    }\n    onUpdate(tempList);\n  };\n  const db = useDB();\n  if (!db) return null;\n\n  return (\n    <div className=\"flex flex-wrap\">\n      <Input register={register} name=\"q\" placeholder={t(\"输入关键词\")} />\n      <p className=\"w-full  my-1 text-gray-700\">触发条件</p>\n      {SKILL_CONDITION_OPTIONS.map(({ label, value }) => (\n        <CheckBox\n          key={formName + \"condition\" + value}\n          register={register}\n          name={formName + \"condition\"}\n          label={t(label)}\n          value={formName + value}\n        />\n      ))}\n      <p className=\"w-full my-1 text-gray-700\">类型</p>\n      {SKILL_TYPE_OPTIONS.map(({ label, value }) => (\n        <CheckBox\n          key={formName + \"type\" + value}\n          register={register}\n          name={formName + \"type\"}\n          label={t(label)}\n          value={formName + value}\n          icon={CDN_SERVER + \"img/skill_icons/\" + value + \".png\"}\n        />\n      ))}\n      <p className=\"w-full  my-1 text-gray-700\">稀有度</p>\n      {SKILL_RARITY_OPTIONS.map(({ label, value }) => (\n        <CheckBox\n          key={formName + \"rare\" + value}\n          register={register}\n          name={formName + \"rare\"}\n          label={t(label)}\n          value={formName + value}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default SkillFilterForm;\n","import React from \"react\";\nimport { useForm } from \"react-hook-form\";\n\nimport CheckBox from \"../common/CheckBox\";\nimport Input from \"../common/Input\";\nimport { useTranslation } from \"react-i18next\";\nimport { useDB } from \"../../hooks\";\nimport SkillFilterForm from \"../skill/SkillFilterForm\";\n\nimport { SUPPORT_TYPE_OPTIONS } from \"@/config\";\n\nconst SupportFilterForm = (props) => {\n  const { t } = useTranslation();\n  const { onUpdate, needId, formName = \"sup\" } = props;\n  const { register, watch, setValue } = useForm();\n\n  React.useEffect(() => {\n    const subscription = watch((value, { name, type }) => getFilterList(value));\n    return () => subscription.unsubscribe();\n  }, [watch]);\n\n  const db = useDB();\n  if (!db) return null;\n  const allSupports = db.get(\"supports\").value();\n  const effects = db.get(\"effects\").value();\n  const effectOptions = Object.keys(effects).map((key) => {\n    return { label: effects[key].name, value: key };\n  });\n  const getFilterList = (value) => {\n    // const { type, effect, q, skill } = value;\n    const q = value[`${formName}q`];\n    const skill = value[\"skill\"];\n    const effect =\n      value[`${formName}effect`] && value[`${formName}effect`]?.map((e) => e.replace(formName, \"\"));\n    const type =\n      value[`${formName}type`] && value[`${formName}type`]?.map((e) => e.replace(formName, \"\"));\n    let tempList = [...allSupports];\n    console.log({effect})\n    if (type?.length) {\n      tempList = tempList.filter((support) => {\n        let flag = 0;\n        if (type.indexOf(support?.type) !== -1) {\n          return (flag = 1);\n        }\n        return flag;\n      });\n    }\n\n    if (effect?.length) {\n      tempList = tempList.filter((support) => {\n        let flag = 0;\n        effect.forEach((value) => {\n          support.effects &&\n            support.effects.forEach((effect) => {\n              if (effect.type == value) {\n                flag += 1;\n              }\n            });\n        });\n        return flag === effect.length;\n      });\n    }\n    if (skill?.length) {\n      tempList = tempList.filter((support) => {\n        let flag = 0;\n        support.skillList?.forEach((skillId) => {\n          if (skill.indexOf(skillId) !== -1) {\n            return (flag = 1);\n          }\n        });\n        return flag;\n      });\n    }\n    if (q) {\n      const allEventList = db.get(\"events\").value();\n      const eventIdList = allEventList\n        .filter((event) => {\n          let jsonEvent = JSON.stringify(event);\n          if (jsonEvent.indexOf(q) !== -1) {\n            return true;\n          } else {\n            return false;\n          }\n        })\n        .reduce((list, event) => {\n          list.push(event.id);\n          return list;\n        }, []);\n      tempList = tempList.filter((support) => {\n        let flag = 0;\n        support.eventList.forEach((eventId) => {\n          if (eventIdList.indexOf(eventId) !== -1) {\n            return (flag = 1);\n          }\n        });\n        return flag;\n      });\n    }\n    if (needId) {\n      tempList = tempList.reduce((list, support) => {\n        list.push(support?.id);\n        return list;\n      }, []);\n    }\n    onUpdate && onUpdate(tempList);\n  };\n  const handleSkillFilterFormChange = (list) => {\n    setValue(\"skill\", list);\n  };\n  return (\n    <div className=\"flex flex-wrap\">\n      <Input register={register} name=\"q\" placeholder={t(\"事件关键词搜索\")} />\n      <p className=\"w-full my-1 text-gray-700\">{t(\"类型\")}</p>\n      {SUPPORT_TYPE_OPTIONS.map(({ label, value }) => (\n        <CheckBox\n          key={formName + \"type\" + value}\n          register={register}\n          name={formName + \"type\"}\n          label={t(label)}\n          value={formName + value}\n        />\n      ))}\n      <p className=\"w-full my-1 text-gray-700\">{t(\"技能筛选\")}</p>\n      <SkillFilterForm\n        formName={formName}\n        onUpdate={handleSkillFilterFormChange}\n        checkOnly={true}\n        needId={true}\n      />\n      <p className=\"w-full my-1 text-gray-700\">{t(\"育成效果\")}</p>\n      {effectOptions.map(({ label, value }) => (\n        <CheckBox\n          key={formName + \"effect\" + value}\n          register={register}\n          name={formName + \"effect\"}\n          label={t(label)}\n          value={formName + value}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default SupportFilterForm;\n","import React from 'react'\nconst useViewport = () => {\n  const [width, setWidth] = React.useState(window.innerWidth);\n  const [height, setHeight] = React.useState(window.innerHeight);\n  React.useEffect(() => {\n    const handleWindowResize = () => {\n      setHeight(window.innerHeight);\n      setWidth(window.innerWidth);\n    };\n    window.addEventListener(\"resize\", handleWindowResize);\n    return () => window.removeEventListener(\"resize\", handleWindowResize);\n  }, []);\n  return { height, width };\n};\nexport default useViewport","// import classnames from \"classnames\";\nimport React, { useState, useEffect } from \"react\";\nimport { useDidRecover } from \"react-router-cache-route\";\nimport Modal from \"@material-tailwind/react/Modal\";\nimport ModalBody from \"@material-tailwind/react/ModalBody\";\nimport ModalHeader from \"@material-tailwind/react/ModalHeader\";\nimport Button from \"@material-tailwind/react/Button\";\n\nimport { useDB } from \"../../hooks\";\nimport { useTranslation } from \"react-i18next\";\nimport dbL from \"@/dbL.js\";\n\nimport SupportList from \"@/components/support/SupportList\";\nimport SupportFilterForm from \"@/components/support/SupportFilterForm\";\nimport useViewport from \"@/utils/useViewport\";\n\nconst TITLE = \"支援 - 乌拉拉大胜利 - 赛马娘资料站\";\n\ndocument.title = TITLE;\nconst SupportListWithFilter = (props) => {\n  const { onClick, limitHeight, formName } = props;\n  const { t } = useTranslation();\n  const viewport = useViewport();\n  const [show, setShow] = React.useState(false);\n  const [list, setList] = useState(props.supportList || []);\n  const [chooseMode, setChooseMode] = useState(false);\n  const [showMode, setShowMode] = useState(false);\n  const [chosenList, setChosenList] = useState(dbL.get(\"mySupports\").value() || []);\n\n  useDidRecover(() => {\n    document.title = TITLE;\n  });\n  const db = useDB();\n  useEffect(() => {\n    if (db) setList(props.supportList || db.get(\"supports\").value() || []);\n  }, [db, props.supportList]);\n  if (!db) return null;\n  const changeChooseMode = () => {\n    setShowMode(!showMode);\n    setChooseMode(!chooseMode);\n  };\n\n  const changeShowMode = () => {\n    setShowMode(!showMode);\n  };\n\n  const onSelect = (item) => {\n    let tmpList = [...chosenList];\n    const index = tmpList.indexOf(item.id);\n    if (index === -1) {\n      tmpList.push(item.id);\n    } else {\n      tmpList.splice(index, 1);\n    }\n    dbL.update(\"mySupports\", tmpList).write();\n    setChosenList([...tmpList]);\n  };\n\n  return (\n    <>\n      {viewport?.width >= 768 ? (\n        <div\n          className=\"sticky top-20 hidden md:flex w-1/4 flex-col p-1 overflow-auto\"\n          style={{\n            height: \"calc(100vh - 120px)\",\n          }}\n        >\n          <Button className=\"my-1 flex-shrink-0\" onClick={changeShowMode} ripple=\"light\">\n            {t(\"高亮我的卡组\")}\n          </Button>\n          <Button className=\"my-1 flex-shrink-0\" onClick={changeChooseMode} ripple=\"light\">\n            {t(\"配置卡组\")}\n          </Button>\n          {chooseMode && (\n            <Button className=\"my-1 flex-shrink-0\" onClick={changeChooseMode} ripple=\"light\">\n              {t(\"配置完成\")}\n            </Button>\n          )}\n          <SupportFilterForm formName={formName} onUpdate={setList} />\n        </div>\n      ) : (\n        <>\n          <Button\n            className=\"md:hidden fixed top-20 z-40 bg-opacity-80\"\n            onClick={() => setShow(true)}\n          >\n            筛选\n          </Button>\n          <Modal size={\"lg\"} active={show} toggler={() => setShow(false)}>\n            <ModalHeader toggler={() => setShow(false)}>{\"筛选支援卡\"}</ModalHeader>\n            <ModalBody className=\"flex flex-col\">\n              <SupportFilterForm formName={formName} onUpdate={setList} />\n            </ModalBody>\n          </Modal>\n        </>\n      )}\n\n      <SupportList\n        className={`md:w-3/4 justify-between ${limitHeight && \"h-80vh overflow-auto\"}`}\n        sortFlag={true}\n        dataList={list}\n        ownList={showMode ? chosenList : null}\n        onClick={chooseMode ? onSelect : onClick}\n      />\n    </>\n  );\n};\nexport default SupportListWithFilter;\n","import React from \"react\";\nimport { useDidRecover } from \"react-router-cache-route\";\n\nimport SupportListWithFilter from \"../../components/support/SupportListWithFilter\";\nconst TITLE = \"支援 - 乌拉拉大胜利 - 赛马娘资料站\";\n\nconst Support = () => {\n  document.title = TITLE;\n  useDidRecover(() => {\n    document.title = TITLE;\n  });\n\n  return <SupportListWithFilter />;\n};\nexport default Support;\n","import React from \"react\";\nimport Button from \"@material-tailwind/react/Button\";\n// import {useState} from 'react';\nimport { useDB } from \"../hooks/index.js\";\nimport { useTranslation } from \"react-i18next\";\nconst BuffButton = (props) => {\n  return (\n    <Button size=\"sm\" buttonType=\"outline\" data-tip=\"buff list\">\n      Buff\n    </Button>\n  );\n};\nconst BuffList = (props) => {\n  const { t } = useTranslation();\n  const db = useDB();\n  if (!db) return null;\n  const buffs = db.get(\"buffs\").value();\n  const cellStyle = {\n    // width:'20%',\n    height: \"32px\",\n    fontSize: 16,\n    textAlign: \"flex-start\",\n    paddingLeft: 16,\n    fontWeight: 500,\n    borderWidth: \"thin\",\n    borderStyle: \"solid solid solid solid\",\n    borderColor: \"gray\",\n  };\n  return (\n    <table>\n      <tbody>\n        {buffs.map((buff) => (\n          <tr key={buff.name}>\n            <td style={{ ...cellStyle }}>{t(buff.name)}</td>\n            <td style={{ ...cellStyle }}>{t(buff.describe)}</td>\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  );\n};\nexport { BuffButton, BuffList };\n","import React, { useState } from \"react\";\nimport shortid from \"shortid\";\nimport axios from \"axios\";\n\nimport Button from \"@material-tailwind/react/Button\";\nimport { Tag, message, Popover, Popconfirm, Checkbox } from \"antd\";\n\nimport dbL from \"../dbL.js\";\n\nimport { useTranslation } from \"react-i18next\";\nimport { CDN_SERVER, DECK_LABELS } from \"@/config\";\n\nconst MyDecks = (props) => {\n  const { t } = useTranslation();\n  const [decks, setDecks] = useState(dbL.get(\"myDecks\").value());\n  // 卡组相关操作\n  const saveDeck = (deck) => {\n    let tmpDeck = {\n      imgUrls: [],\n      supportsId: [],\n      tags: [],\n    };\n    if (props.player.id) {\n      tmpDeck.playerId = props.player.id;\n      tmpDeck.imgUrls.push(props.player.imgUrl);\n    }\n    [0, 1, 2, 3, 4, 5].forEach((index) => {\n      if (props.supports[index] && props.supports[index].id) {\n        tmpDeck.imgUrls.push(props.supports[index].imgUrl);\n        tmpDeck.supportsId.push(props.supports[index].id);\n      } else {\n        tmpDeck.supportsId.push(null);\n      }\n    });\n    if (deck) {\n      //update\n      dbL.get(\"myDecks\").find({ id: deck.id }).assign(tmpDeck).write();\n    } else {\n      //\n      tmpDeck.id = shortid.generate();\n      dbL.get(\"myDecks\").push(tmpDeck).write();\n    }\n    setDecks([...dbL.get(\"myDecks\").value()]);\n  };\n\n  const deleteDeck = (deck) => {\n    dbL.get(\"myDecks\").remove({ id: deck.id }).write();\n    setDecks([...dbL.get(\"myDecks\").value()]);\n  };\n  const shareDeck = async (deck) => {\n    //判断表格\n    // if(deck.playerId)\n    const formData = {\n      ...deck,\n      id: deck.playerId + deck.supportsId.sort((a, b) => a.localeCompare(b)).join(\"\"),\n    };\n    const res = await axios.post(\"https://urarawin.com/api/sqlite/addDeck\", formData);\n    const data = res.data;\n    data && message.info(data.msg);\n  };\n\n  const onChangeTag = (values, deck) => {\n    dbL.get(\"myDecks\").find({ id: deck.id }).assign({ tags: values }).write();\n    setDecks([...dbL.get(\"myDecks\").value()]);\n  };\n\n  return (\n    <Popover\n      width={\"100%\"}\n      overlayStyle={{ maxHeight: 800, overflow: \"auto\" }}\n      content={\n        <>\n          <Button size=\"sm\" buttonType=\"outline\" onClick={() => saveDeck()}>\n            {t(\"保存为新卡组\")}\n          </Button>\n          {decks.map((deck) => (\n            <div key={deck.id} className=\"w-full grid grid-cols-8\">\n              <div className=\"col-span-full\">\n                <Checkbox.Group\n                  options={DECK_LABELS}\n                  defaultValue={deck.tags || []}\n                  onChange={(values) => onChangeTag(values, deck)}\n                />\n              </div>\n              {deck.imgUrls.map((imgUrl) => (\n                <div className=\"col-span-1\" key={imgUrl}>\n                  <img src={CDN_SERVER + imgUrl} alt={imgUrl} width={\"100\"} />\n                </div>\n              ))}\n              <div className=\"col-span-1\">\n                <Button type=\"primary\" onClick={() => props.loadDeck(deck)}>\n                  {t(\"读取卡组\")}\n                </Button>\n                <Popconfirm title={t(\"确认覆盖？\")} onConfirm={() => saveDeck(deck)}>\n                  <Button danger type=\"dashed\">\n                    {t(\"覆盖卡组\")}\n                  </Button>\n                </Popconfirm>\n                <Popconfirm title={t(\"确认删除？\")} onConfirm={() => deleteDeck(deck)}>\n                  <Button danger type=\"dashed\">\n                    {t(\"删除卡组\")}\n                  </Button>\n                </Popconfirm>\n                <Popconfirm title={t(\"确认分享？\")} onConfirm={() => shareDeck(deck)}>\n                  <Button>分享卡组</Button>\n                </Popconfirm>\n              </div>\n            </div>\n          ))}\n        </>\n      }\n    >\n      <Button size=\"sm\" buttonType=\"outline\">\n        {t(\"我的卡组\")}\n      </Button>\n    </Popover>\n  );\n};\n\nconst RecommendDecks = (props) => {\n  // const [recommendDecks,setRecommendDecks] = useState(res.data||[])\n  const { t } = useTranslation();\n  const [recommendDecks, setRecommendDecks] = useState([]);\n  const [playerId, setPlayerId] = useState(\"\");\n  const searchDeck = async () => {\n    if (playerId !== props.player.id) {\n      const formData = props.player ? { playerId: props.player.id } : {};\n      const res = await axios.post(\"https://urarawin.com/api/sqlite/searchDeck\", formData);\n      setRecommendDecks(res.data || []);\n      setPlayerId(props.player.id);\n    }\n  };\n  // const deleteDeck = async (deck) => {\n  //   const res = await axios.post(\"https://urarawin.com/api/sqlite/deleteDeck\", deck)\n  //   searchDeck()\n  // }\n  return (\n    <Popover\n      width={\"100%\"}\n      onVisibleChange={searchDeck}\n      overlayStyle={{ maxHeight: 800, overflow: \"auto\" }}\n      content={recommendDecks.map((deck) => (\n        <div key={deck.id} className=\"w-full grid grid-cols-8\">\n          <div className=\"col-span-full\">\n            {deck.tags && deck.tags.map((tag) => <Tag key={tag}>{tag}</Tag>)}\n          </div>\n          {deck.imgUrls.map((imgUrl) => (\n            <div className=\"col-span-1\" key={imgUrl}>\n              <img src={CDN_SERVER + imgUrl} alt={imgUrl} width={\"100\"} />\n            </div>\n          ))}\n          <div className=\"col-span-1\">\n            <Button type=\"primary\" onClick={() => props.loadDeck(deck)}>\n              {t(\"读取卡组\")}\n            </Button>\n          </div>\n        </div>\n      ))}\n    >\n      <Button size=\"sm\" buttonType=\"outline\">\n        {t(\"推荐卡组\")}\n      </Button>\n    </Popover>\n  );\n};\n\nexport { MyDecks, RecommendDecks };\n","import React, { useState } from \"react\";\nimport { useDidRecover } from \"react-router-cache-route\";\nimport Button from \"@material-tailwind/react/Button\";\n// import shortid from 'shortid'\n// import axios from \"axios\";\nimport ScrollBars from \"react-custom-scrollbars\";\nimport { Popover } from \"antd\";\n\nimport Modal from \"@material-tailwind/react/Modal\";\nimport ModalBody from \"@material-tailwind/react/ModalBody\";\nimport ModalHeader from \"@material-tailwind/react/ModalHeader\";\n\nimport { useDB } from \"../../hooks\";\nimport { useTranslation } from \"react-i18next\";\n\nimport dbL from \"@/dbL.js\";\nimport EventList from \"@/components/event/EventList\";\nimport SkillList from \"@/components/skill/SkillList\";\nimport { BuffButton } from \"@/components/buff.js\";\n\nimport { RaceTimeline, RaceCheckbox } from \"@/components/race\";\nimport { MyDecks, RecommendDecks } from \"@/components/deck.js\";\n\nimport GridLayout from \"react-grid-layout\";\nimport \"react-grid-layout/css/styles.css\";\n// import Race from './race.js'\nimport SupportListWithFilter from \"@/components/support/SupportListWithFilter\";\nimport PlayerList from \"@/components/player/PlayerList\";\n\nimport { CDN_SERVER } from \"@/config\";\n\nconst TITLE = \"育成 - 乌拉拉大胜利 - 赛马娘资料站\";\nconst layoutWithBlank = [\n  { i: \"a\", x: 0, y: 0, w: 2, h: 2 },\n  { i: \"b\", x: 2, y: 0, w: 7, h: 2 },\n  { i: \"c\", x: 0, y: 2, w: 9, h: 7 },\n  { i: \"d\", x: 0, y: 10, w: 4, h: 4 },\n  { i: \"e\", x: 4, y: 10, w: 5, h: 7 },\n  { i: \"f\", x: 0, y: 14, w: 4, h: 3 },\n  // {i: 'w', x: 5, y: 10, w: 6, h: 7},\n  { i: \"s0\", x: 17, y: 0, w: 5, h: 8 },\n  { i: \"s1\", x: 22, y: 0, w: 5, h: 8 },\n  { i: \"s2\", x: 27, y: 0, w: 5, h: 8 },\n  { i: \"s3\", x: 17, y: 9, w: 5, h: 8 },\n  { i: \"s4\", x: 22, y: 9, w: 5, h: 8 },\n  { i: \"s5\", x: 27, y: 9, w: 5, h: 8 },\n];\nconst layoutWithoutBlank = [\n  { i: \"a\", x: 0, y: 0, w: 2, h: 2 },\n  { i: \"b\", x: 2, y: 0, w: 9, h: 2 },\n  { i: \"c\", x: 0, y: 2, w: 11, h: 7 },\n  { i: \"d\", x: 0, y: 10, w: 5, h: 4 },\n  { i: \"e\", x: 5, y: 10, w: 6, h: 7 },\n  { i: \"f\", x: 0, y: 14, w: 5, h: 3 },\n  // {i: 'w', x: 5, y: 10, w: 6, h: 7},\n  { i: \"s0\", x: 11, y: 0, w: 7, h: 8 },\n  { i: \"s1\", x: 18, y: 0, w: 7, h: 8 },\n  { i: \"s2\", x: 25, y: 0, w: 7, h: 8 },\n  { i: \"s3\", x: 11, y: 9, w: 7, h: 8 },\n  { i: \"s4\", x: 18, y: 9, w: 7, h: 8 },\n  { i: \"s5\", x: 25, y: 9, w: 7, h: 8 },\n];\nconst Nurturing = () => {\n  const { t } = useTranslation();\n  document.title = TITLE;\n  useDidRecover(() => {\n    document.title = TITLE;\n  });\n  const [needSelect, setNeedSelect] = useState(false);\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\n\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\n  const [supportIndex, setSupportIndex] = useState(1);\n\n  const selected = dbL.get(\"selected\").value();\n  const [supports, setSupports] = useState(selected.supports);\n  const [player, setPlayer] = useState(selected.player);\n\n  const [raceFilterCondition, setRaceFilterCondition] = useState(\n    selected.raceFilterCondition || {\n      distanceType: [],\n      grade: [],\n      ground: [],\n    }\n  );\n  const [filterRace, setFilterRace] = useState(selected.filterRace || {});\n  const db = useDB();\n  const useViewport = () => {\n    const [width, setWidth] = React.useState(window.innerWidth);\n    const [height, setHeight] = React.useState(window.innerHeight);\n    React.useEffect(() => {\n      const handleWindowResize = () => {\n        setHeight(window.innerHeight);\n        setWidth(window.innerWidth);\n      };\n      window.addEventListener(\"resize\", handleWindowResize);\n      return () => window.removeEventListener(\"resize\", handleWindowResize);\n    }, []);\n    return { height, width };\n  };\n\n  const dynamicRowHeight = Math.floor((useViewport().height - 128 - 40) / 18);\n  const dynamicGridWidth = Math.floor(useViewport().width - 10);\n  const originalLayout = dbL.get(\"layout\").value() || layoutWithoutBlank;\n  const [layout, setLayout] = useState(originalLayout);\n\n  if (!db) return null;\n  const races = db.get(\"races\").value();\n  const showPlayer = () => {\n    setIsPlayerVisible(true);\n  };\n  const closePlayer = () => {\n    setIsPlayerVisible(false);\n  };\n  const handleSelectPlayer = (data) => {\n    setIsPlayerVisible(false);\n    setPlayer(data);\n    // save player\n    selected.player = data;\n    dbL.get(\"selected\").assign(selected).write();\n  };\n\n  const showSupport = (index) => {\n    setNeedSelect(true);\n    setIsSupportVisible(true);\n    setSupportIndex(index);\n  };\n  const showSupport2 = (index) => {\n    setNeedSelect(false);\n    setIsSupportVisible(true);\n    setSupportIndex(index);\n  };\n\n  const closeSupport = () => {\n    setIsSupportVisible(false);\n  };\n  const handleSelectSupport = (data) => {\n    let newData = {};\n    newData[supportIndex] = data;\n    setSupports(Object.assign({}, supports, newData));\n    setIsSupportVisible(false);\n\n    // save\n    selected.supports[supportIndex] = data;\n    dbL.get(\"selected\").assign(selected).write();\n  };\n\n  const loadDeck = (deck) => {\n    selected.supports = { 0: {}, 1: {}, 2: {}, 3: {}, 4: {}, 5: {} };\n    selected.player = {};\n    if (deck.playerId) {\n      selected.player = db.get(\"players\").find({ id: deck.playerId }).value();\n    }\n    setPlayer(selected.player);\n    deck.supportsId.forEach((id, index) => {\n      if (id) {\n        selected.supports[index] = db.get(\"supports\").find({ id: id }).value();\n      }\n    });\n    setSupports({ ...selected.supports });\n    dbL.get(\"selected\").assign(selected).write();\n  };\n\n  // race checkbox发生变化\n  const onChangeRace = (filterCondition) => {\n    setRaceFilterCondition(filterCondition);\n    //根据条件过滤\n    let tmpRaceList = Object.values(filterCondition).some((f) => f.length > 0)\n      ? Object.entries(filterCondition)\n          .filter(([key, filters]) => filters.length > 0)\n          .reduce(\n            (result, [key, filters]) => result.filter((race) => filters.includes(race[key])),\n            races\n          )\n      : [];\n    //过滤后整理成 dataNum:[raceId]\n    let tmpFilterRace = {};\n    for (let race of tmpRaceList) {\n      if (tmpFilterRace[race.dateNum]) {\n        tmpFilterRace[race.dateNum].push(race.id);\n      } else {\n        tmpFilterRace[race.dateNum] = [race.id];\n      }\n    }\n    //更新state\n    setFilterRace(tmpFilterRace);\n    selected.raceFilterCondition = filterCondition;\n    selected.filterRace = tmpFilterRace;\n    dbL\n      .get(\"selected\")\n      .assign({ ...selected })\n      .write();\n  };\n\n  const onLayoutChange = (layout) => {\n    /*eslint no-console: 0*/\n    dbL.set(\"layout\", layout).write();\n    setLayout(layout);\n    // onLayoutChange(layout); // updates status display\n  };\n  const panelClass = \"bg-white border border-solid border-gray-500\";\n  const headClass = \"panel-heading w-full text-center bg-gray-300 cursor-move\";\n  const pBodyStyle = {\n    height: \"calc(100% - 22px)\",\n  };\n  return (\n    <>\n      <GridLayout\n        cols={32}\n        layout={layout}\n        draggableCancel=\".panel-title\"\n        draggableHandle=\".panel-heading\"\n        rowHeight={dynamicRowHeight}\n        width={dynamicGridWidth}\n        onLayoutChange={onLayoutChange}\n        useCSSTransforms={false}\n      >\n        <div key=\"a\" className={panelClass}>\n          <div className={headClass} onClick={showPlayer}>\n            {t(\"选择马娘\")}\n          </div>\n          {player.id && (\n            <img\n              src={CDN_SERVER + player.imgUrl}\n              alt={player.imgUrl}\n              style={{ ...pBodyStyle }}\n              onClick={showPlayer}\n            />\n          )}\n        </div>\n        <div key=\"b\" className={panelClass}>\n          <div className={headClass}>{t(\"操作\")}</div>\n          <div className=\"flex flex-wrap\">\n            <Button size=\"sm\" buttonType=\"outline\" className=\"add-player\" onClick={showPlayer}>\n              {t(\"选择马娘\")}\n            </Button>\n            <Button size=\"sm\" buttonType=\"outline\" onClick={showSupport2}>\n              {t(\"支援卡查询\")}\n            </Button>\n            <BuffButton />\n            <Popover\n              content={\n                <RaceCheckbox onChange={onChangeRace} raceFilterCondition={raceFilterCondition} />\n              }\n            >\n              <Button size=\"sm\" buttonType=\"outline\">\n                {t(\"比赛\")}\n              </Button>\n            </Popover>\n            <MyDecks player={player} supports={supports} loadDeck={loadDeck} />\n            <RecommendDecks player={player} loadDeck={loadDeck} />\n\n            <Button size=\"sm\" buttonType=\"outline\" onClick={() => setLayout(layoutWithBlank)}>\n              {t(\"初始化布局(有留白)\")}\n            </Button>\n            <Button size=\"sm\" buttonType=\"outline\" onClick={() => setLayout(layoutWithoutBlank)}>\n              {t(\"初始化布局(无留白)\")}\n            </Button>\n          </div>\n        </div>\n        <div key=\"c\" className={panelClass}>\n          <div className={headClass}>{t(\"事件\")}</div>\n          <ScrollBars autoHide={true} style={{ ...pBodyStyle }}>\n            {/* <p>{player.id}</p> */}\n            <EventList idList={player.eventList} sortFlag={true} />\n          </ScrollBars>\n        </div>\n        <div key=\"d\" className={panelClass}>\n          <div className={headClass}>{t(\"技能\")}</div>\n          <ScrollBars autoHide={true} style={{ ...pBodyStyle }}>\n            <SkillList idList={player.skillList} isNur={true} size=\"small\" />\n          </ScrollBars>\n        </div>\n        <div key=\"e\" className={panelClass}>\n          <div className={headClass}>{t(\"比赛\")}</div>\n          <ScrollBars autoHide={true} style={{ ...pBodyStyle }}>\n            <RaceTimeline raceList={player.raceList || []} filterRace={filterRace} />\n          </ScrollBars>\n        </div>\n        <div key=\"f\" className={panelClass}>\n          <div className={headClass}>{t(\"隐藏事件\")}</div>\n          <ScrollBars autoHide={true} style={{ ...pBodyStyle }}>\n            <EventList idList={player.hideEvent} />\n          </ScrollBars>\n        </div>\n        {[0, 1, 2, 3, 4, 5].map((index) => {\n          let support = supports[index];\n          if (support.id) {\n            return (\n              <div key={`s${index}`} className={panelClass}>\n                <div className={headClass}>\n                  <span\n                    className=\"panel-title\"\n                    onClick={() => showSupport(index)}\n                    style={{ cursor: \"pointer\" }}\n                  >\n                    {t(\"选择支援卡\")}\n                  </span>\n                </div>\n                <ScrollBars autoHide={true} style={{ ...pBodyStyle }}>\n                  <div style={{ display: \"flex\" }}>\n                    <img\n                      style={{ width: \"26%\", height: \"39%\" }}\n                      src={CDN_SERVER + support.imgUrl}\n                      alt={support.imgUrl}\n                    />\n                    <div style={{ flex: \"1 1 auto\" }}>\n                      <EventList idList={supports[index].eventList} pid={supports[index].id} />\n                    </div>\n                  </div>\n                  <div style={{ margin: \"4px 0\", background: \"rgba(255,255,255,0.6)\" }}>\n                    {t(\"培训技能\")}\n                  </div>\n                  <SkillList idList={supports[index].possessionSkill} isNur={true} size=\"small\" />\n                  <div style={{ margin: \"4px 0\", background: \"rgba(255,255,255,0.6)\" }}>\n                    {t(\"事件技能\")}\n                  </div>\n                  <SkillList\n                    idList={supports[index].trainingEventSkill}\n                    isNur={true}\n                    size=\"small\"\n                  />\n                </ScrollBars>\n              </div>\n            );\n          } else {\n            return (\n              <div key={`s${index}`} className={panelClass}>\n                <Button size=\"sm\" buttonType=\"outline\" onClick={() => showSupport(index)}>\n                  {t(\"选择支援卡\")}\n                </Button>\n              </div>\n            );\n          }\n        })}\n      </GridLayout>\n      <Modal size=\"lg\" active={isPlayerVisible} toggler={closePlayer}>\n        <ModalHeader toggler={closePlayer}>选择支援卡</ModalHeader>\n        <ModalBody>\n          <div className=\"w-full h-full\" style={{ maxHeight: \"80vh\", overflow: \"auto\" }}>\n            <PlayerList onClick={handleSelectPlayer} sortFlag={true} />\n          </div>\n        </ModalBody>\n      </Modal>\n      <Modal size=\"lg\" active={isSupportVisible} toggler={closeSupport}>\n        <ModalHeader toggler={closeSupport}>选择支援卡</ModalHeader>\n        <ModalBody>\n          <div\n            className=\"w-full h-full flex relative\"\n            style={{ maxHeight: \"80vh\", overflow: \"auto\" }}\n          >\n            <SupportListWithFilter\n              formName=\"nurSup\"\n              onClick={needSelect ? handleSelectSupport : null}\n              limitHeight={true}\n              sortFlag={true}\n            />\n          </div>\n        </ModalBody>\n      </Modal>\n    </>\n  );\n};\n\nexport default Nurturing;\n","import React, { useEffect, useState } from \"react\";\nimport { useDidRecover } from \"react-router-cache-route\";\n\nimport Modal from \"@material-tailwind/react/Modal\";\nimport ModalBody from \"@material-tailwind/react/ModalBody\";\nimport ModalHeader from \"@material-tailwind/react/ModalHeader\";\nimport Button from \"@material-tailwind/react/Button\";\n\nimport SkillList from \"@/components/skill/SkillList\";\nimport SkillFilterForm from \"@/components/skill/SkillFilterForm\";\n\nimport useViewport from \"@/utils/useViewport\";\n\nimport { useDB } from \"../../hooks\";\nconst TITLE = \"技能 - 乌拉拉大胜利 - 赛马娘资料站\";\n\ndocument.title = TITLE;\nconst Skill = (props) => {\n  const viewport = useViewport();\n  const [show, setShow] = React.useState(false);\n  useDidRecover(() => {\n    document.title = TITLE;\n  });\n  const [skillList, setSkillList] = useState();\n  const db = useDB();\n  useEffect(() => {\n    if (db) {\n      const allSkillList = db.get(\"skills\").orderBy(\"db_id\").value();\n      setSkillList(allSkillList);\n    }\n  }, [db]);\n  // 所有技能列表\n\n  if (!db) return null;\n  // init supportMode\n  localStorage.getItem(\"supportMode\") === null && localStorage.setItem(\"supportMode\", 0);\n\n  return (\n    <>\n      {viewport?.width >= 768 ? (\n        <div\n          className=\"sticky top-20 hidden md:flex w-1/4 flex-col p-1 overflow-auto\"\n          style={{\n            height: \"calc(100vh - 120px)\",\n          }}\n        >\n          <SkillFilterForm onUpdate={setSkillList} />\n        </div>\n      ) : (\n        <>\n          <Button\n            className=\"md:hidden fixed top-20 z-40 bg-opacity-80\"\n            onClick={() => setShow(true)}\n          >\n            筛选\n          </Button>\n          <Modal size={\"lg\"} active={show} toggler={() => setShow(false)}>\n            <ModalHeader toggler={() => setShow(false)}>{\"筛选技能\"}</ModalHeader>\n            <ModalBody className=\"flex flex-col\">\n              <SkillFilterForm onUpdate={setSkillList} />\n            </ModalBody>\n          </Modal>\n        </>\n      )}\n\n      <SkillList className=\"w-full md:w-3/4\" dataList={skillList} sortFlag={true} />\n    </>\n  );\n};\n\nexport default Skill;\n","import React, { useState } from \"react\";\nimport Button from \"@material-tailwind/react/Button\";\nimport {\n  Row,\n  Alert,\n  Image,\n  // Divider,\n  Table,\n  Modal,\n  Col,\n  Radio,\n  Rate,\n  Form,\n  Slider,\n  PageHeader,\n  Input,\n  // Space,\n  Card,\n  message\n} from \"antd\";\n//test\nimport {\n  PlusOutlined,\n  SmileOutlined,\n  FrownOutlined,\n  CopyOutlined,\n  DeleteOutlined,\n} from \"@ant-design/icons\";\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\nimport { useDidRecover } from \"react-router-cache-route\";\nimport axios from \"axios\";\nimport { useDB } from \"../../hooks\";\nimport dbL from \"@/dbL.js\";\n\nimport PlayerList from \"@/components/player/PlayerList\";\nimport SupportListWithFilter from \"@/components/support/SupportListWithFilter\";\nimport { CDN_SERVER, SEED_BLUE_LABELS, SEED_RED_LABELS, IMAGE_FALLBACK } from \"@/config\";\n\nlet userId = dbL.get(\"userId\").value();\nconst TITLE = \"分享 - 乌拉拉大胜利 - 赛马娘资料站\";\n\n/*\nuserId 随机生成\n种马玩家id\n种马id\n蓝色因子 - speed stamina power guts wisdom\n红色因子 - grass dirt shortDistance mile mediumDistance longDistance\n        - escapeR leadingR insertR trackingR\n绿色因子\n种马父id\n种马母id\n\ntotal blue\ntotal red\nwhite num\n*/\n// 生成一个userId\n\nconst PlayerInput = ({ value = {}, onChange }) => {\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\n  const [data, setData] = useState({});\n  const showPlayer = (index) => {\n    setIsPlayerVisible(true);\n  };\n  const closePlayer = () => {\n    setIsPlayerVisible(false);\n  };\n  const triggerChange = (changedValue) => {\n    setIsPlayerVisible(false);\n    onChange?.({\n      ...data,\n      ...value,\n      ...changedValue,\n    });\n  };\n  const handleSelectPlayer = (data) => {\n    setData(data);\n    triggerChange(data);\n  };\n  return (\n    <>\n      <Image\n        src={data.imgUrl ? CDN_SERVER + data.imgUrl : \"\"}\n        preview=\"false\"\n        fallback={IMAGE_FALLBACK}\n        width={80}\n        onClick={showPlayer}\n      />\n      <Modal\n        visible={isPlayerVisible}\n        onOk={closePlayer}\n        onCancel={closePlayer}\n        width={\"80%\"}\n        bodyStyle={{ maxHeight: \"80vh\", overflow: \"auto\" }}\n      >\n        <PlayerList sortFlag={true} onClick={handleSelectPlayer} />\n      </Modal>\n    </>\n  );\n};\nconst SupportInput = ({ value = {}, onChange }) => {\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\n  const [data, setData] = useState({});\n  const showSupport = (index) => {\n    setIsSupportVisible(true);\n  };\n  const closeSupport = () => {\n    setIsSupportVisible(false);\n  };\n  const triggerChange = (changedValue) => {\n    setIsSupportVisible(false);\n    onChange?.({\n      ...data,\n      ...value,\n      ...changedValue,\n    });\n  };\n  const handleSelectSupport = (data) => {\n    setData(data);\n    triggerChange(data);\n  };\n  return (\n    <>\n      <Image\n        src={data.imgUrl ? CDN_SERVER + data.imgUrl : \"\"}\n        preview=\"false\"\n        fallback={IMAGE_FALLBACK}\n        width={80}\n        onClick={showSupport}\n      />\n      <Modal\n        visible={isSupportVisible}\n        onOk={closeSupport}\n        onCancel={closeSupport}\n        width={\"80%\"}\n        bodyStyle={{ height: \"90vh\" }}\n      >\n        <div className=\"w-full h-full overflow-hidden flex relative\">\n          <SupportListWithFilter formName=\"seedSup\" onClick={handleSelectSupport} sortFlag={true} />\n        </div>\n      </Modal>\n    </>\n  );\n};\nconst SeedInput = (props) => {\n  const [form] = Form.useForm();\n  const [seed, setSeed] = useState({});\n\n  const onFinish = async (value) => {\n    let tmpSeed = seed;\n    tmpSeed = Object.assign({}, seed, value);\n    setSeed(tmpSeed);\n    // 修整成需要的数据\n    const formData = { ...tmpSeed };\n    formData.userId = userId || dbL.get(\"userId\").value();\n    let updateTime = new Date().getTime();\n    formData.updateTime = updateTime;\n    formData[\"playerId0\"] = value[\"player0\"].id;\n    formData[\"playerId1\"] = value[\"player1\"].id;\n    formData[\"playerId2\"] = value[\"player2\"].id;\n    formData[\"supportId\"] = value[\"support\"].id;\n    delete formData[\"support\"];\n    delete formData[\"player0\"];\n    delete formData[\"player1\"];\n    delete formData[\"player2\"];\n    // formData[formData['blue0']]=formData['blueLevel0']\n    // formData[formData['red0']]=formData['redLevel0']\n    let list = [\"0\", \"1\", \"2\"];\n    list.forEach((i) => {\n      //统计蓝色因子\n      if (formData[formData[`blue${i}`]] !== undefined) {\n        formData[formData[`blue${i}`]] += formData[`blueLevel${i}`];\n      } else {\n        formData[formData[`blue${i}`]] = formData[`blueLevel${i}`];\n      }\n      //统计红色因子\n      if (formData[formData[`red${i}`]] !== undefined) {\n        formData[formData[`red${i}`]] += formData[`redLevel${i}`];\n      } else {\n        formData[formData[`red${i}`]] = formData[`redLevel${i}`];\n      }\n      //统计红色因子\n      if (formData[\"white\"] !== undefined) {\n        formData[\"white\"] += formData[`whiteNum${i}`];\n      } else {\n        formData[\"white\"] = formData[`whiteNum${i}`];\n      }\n      //统计ura\n      if (formData[\"uraLevel\"] !== undefined) {\n        formData[\"uraLevel\"] += formData[`uraLevel${i}`];\n      } else {\n        formData[\"uraLevel\"] = formData[`uraLevel${i}`];\n      }\n    });\n    const res = await axios.post(\"https://urarawin.com/api/sqlite/add\", formData);\n    if (res.data && res.data.success) {\n      message.info(\"成功添加\");\n      props.onFinish();\n    } else {\n      message.info(\"有地方出错了\");\n    }\n  };\n  const list = [\"主要\", \"父辈1\", \"父辈2\"];\n\n  const getFields = () => {\n    const children = [];\n    for (let i = 0; i < 3; i++) {\n      children.push(\n        <Col span={8} key={i}>\n          <PageHeader title={`${list[i]}`} />\n          <Row>\n            <Col span={6} offset={4}>\n              <Form.Item label=\"角色\" name={`player${i}`} rules={[{ required: true }]}>\n                <PlayerInput />\n              </Form.Item>\n            </Col>\n          </Row>\n          <Form.Item label=\"蓝色因子\" name={`blue${i}`} rules={[{ required: true }]}>\n            <Radio.Group>\n              <Radio.Button value={\"speed\"}>{\"速度\"}</Radio.Button>\n              <Radio.Button value={\"stamina\"}>{\"耐力\"}</Radio.Button>\n              <Radio.Button value={\"power\"}>{\"力量\"}</Radio.Button>\n              <Radio.Button value={\"guts\"}>{\"根性\"}</Radio.Button>\n              <Radio.Button value={\"wisdom\"}>{\"智力\"}</Radio.Button>\n            </Radio.Group>\n          </Form.Item>\n          <Form.Item label=\"蓝色因子星数\" name={`blueLevel${i}`} rules={[{ required: true }]}>\n            <Rate count={3} />\n          </Form.Item>\n          <Form.Item label=\"红色因子\" name={`red${i}`} rules={[{ required: true }]}>\n            <Radio.Group>\n              <Radio.Button value={\"grass\"}>{\"草地/芝\"}</Radio.Button>\n              <Radio.Button value={\"dirt\"}>{\"泥地/ダート\"}</Radio.Button>\n              <hr />\n              <Radio.Button value={\"shortDistance\"}>{\"短距离\"}</Radio.Button>\n              <Radio.Button value={\"mile\"}>{\"英里\"}</Radio.Button>\n              <Radio.Button value={\"mediumDistance\"}>{\"中距离\"}</Radio.Button>\n              <Radio.Button value={\"longDistance\"}>{\"长距离\"}</Radio.Button>\n              <hr />\n              <Radio.Button value={\"escapeR\"}>{\"逃\"}</Radio.Button>\n              <Radio.Button value={\"leadingR\"}>{\"先\"}</Radio.Button>\n              <Radio.Button value={\"insertR\"}>{\"差\"}</Radio.Button>\n              <Radio.Button value={\"trackingR\"}>{\"追\"}</Radio.Button>\n            </Radio.Group>\n          </Form.Item>\n          <Form.Item label=\"红色因子星数\" name={`redLevel${i}`} rules={[{ required: true }]}>\n            <Rate count={3} />\n          </Form.Item>\n          <Form.Item label=\"绿色因子星数\" name={`greenLevel${i}`} initialValue={0}>\n            <Rate count={3} />\n          </Form.Item>\n          <Form.Item label=\"URA因子星数\" name={`uraLevel${i}`} initialValue={0}>\n            <Rate count={3} />\n          </Form.Item>\n          <Form.Item label=\"白色因子个数\" name={`whiteNum${i}`} initialValue={0}>\n            <Slider min={0} max={10} dots={true} tooltipPlacement={\"left\"} />\n          </Form.Item>\n        </Col>\n      );\n    }\n    return children;\n  };\n  return (\n    <Form name={\"因子信息\"} form={form} onFinish={onFinish}>\n      <Alert\n        message=\"目前每人只能配置一个种子 自觉维护自己的信息；第一次添加前先刷新 否则可能失败\"\n        type=\"info\"\n      />\n      <Row gutter={24}>{getFields()}</Row>\n      <Row justify=\"end\">\n        <Col span={3}>\n          <Form.Item label=\"辅助卡\" name={\"support\"} rules={[{ required: true }]}>\n            <SupportInput />\n          </Form.Item>\n        </Col>\n        <Col span={4} offset={1}>\n          <Form.Item label=\"辅助卡突破\" name={\"supportLevel\"} initialValue={0}>\n            <Rate count={4} />\n          </Form.Item>\n        </Col>\n        <Col span={4} offset={1}>\n          <Form.Item\n            label=\"玩家id\"\n            name=\"gameId\"\n            rules={[\n              { required: true },\n              ({ getFieldValue }) => ({\n                validator(_, value) {\n                  if (value.match(/^[0-9]\\d*$/g) && value.length === 9) {\n                    return Promise.resolve();\n                  }\n                  return Promise.reject(new Error(\"输入正确的9位数id\"));\n                },\n              }),\n            ]}\n          >\n            <Input placeholder=\"id\" style={{ width: \"100%\" }} />\n          </Form.Item>\n        </Col>\n        <Col span={2} offset={2}>\n          <Form.Item>\n            <Button type=\"primary\" htmlType=\"submit\">\n              提交\n            </Button>\n          </Form.Item>\n        </Col>\n      </Row>\n    </Form>\n  );\n};\n\nconst SearchOne = (props) => {\n  return (\n    <Form.List name={props.name}>\n      {(fields, { add, remove }, { errors }) => (\n        <>\n          <Row>\n            {fields.map((field, index) => (\n              <Col key={field.key} lg={8} md={12} xs={24}>\n                <Row>\n                  <Form.Item\n                    {...field}\n                    name={[field.name, \"attr\"]}\n                    fieldKey={[field.fieldKey, \"attr\"]}\n                    rules={[{ required: true }]}\n                    validateTrigger={[\"onChange\", \"onBlur\"]}\n                    noStyle\n                  >\n                    <Radio.Group>\n                      <Radio.Button value={\"speed\"}>{\"速度\"}</Radio.Button>\n                      <Radio.Button value={\"stamina\"}>{\"耐力\"}</Radio.Button>\n                      <Radio.Button value={\"power\"}>{\"力量\"}</Radio.Button>\n                      <Radio.Button value={\"guts\"}>{\"根性\"}</Radio.Button>\n                      <Radio.Button value={\"wisdom\"}>{\"智力\"}</Radio.Button>\n                      <br />\n                      <Radio.Button value={\"grass\"}>{\"草地/芝\"}</Radio.Button>\n                      <Radio.Button value={\"dirt\"}>{\"泥地/ダート\"}</Radio.Button>\n                      <br />\n                      <Radio.Button value={\"shortDistance\"}>{\"短距离\"}</Radio.Button>\n                      <Radio.Button value={\"mile\"}>{\"英里\"}</Radio.Button>\n                      <Radio.Button value={\"mediumDistance\"}>{\"中距离\"}</Radio.Button>\n                      <Radio.Button value={\"longDistance\"}>{\"长距离\"}</Radio.Button>\n                      <br />\n                      <Radio.Button value={\"escapeR\"}>{\"逃\"}</Radio.Button>\n                      <Radio.Button value={\"leadingR\"}>{\"先\"}</Radio.Button>\n                      <Radio.Button value={\"insertR\"}>{\"差\"}</Radio.Button>\n                      <Radio.Button value={\"trackingR\"}>{\"追\"}</Radio.Button>\n                      <br />\n                      <Radio.Button value={\"uraLevel\"}>{\"URA\"}</Radio.Button>\n                    </Radio.Group>\n                  </Form.Item>\n                </Row>\n                <Row>\n                  <Form.Item\n                    {...field}\n                    name={[field.name, \"level\"]}\n                    fieldKey={[field.fieldKey, \"level\"]}\n                    rules={[{ required: true }]}\n                  >\n                    <Rate count={props.max} />\n                  </Form.Item>\n                </Row>\n                <Col span={5}>\n                  <Button type=\"dashed\" onClick={() => remove(field.name)}>\n                    移除\n                  </Button>\n                </Col>\n              </Col>\n            ))}\n          </Row>\n          <Row justify=\"start\">\n            <Form.Item>\n              <Button\n                type=\"dashed\"\n                onClick={() => add()}\n                // style={{ width: '60%' }}\n                icon={<PlusOutlined />}\n              >\n                添加过滤条件\n              </Button>\n\n              <Form.ErrorList errors={errors} />\n            </Form.Item>\n          </Row>\n        </>\n      )}\n    </Form.List>\n  );\n};\n\nconst SearchForm = (props) => {\n  const [form] = Form.useForm();\n  const onFinish = async (value) => {\n    let formData = { attrs: [], levels: [] };\n    if (value[\"player0\"]) {\n      formData.attrs.push(\"playerId0\");\n      formData.levels.push(value[\"player0\"].id);\n    }\n    if (value[\"supportLevel\"]) {\n      formData.attrs.push(\"supportLevel\");\n      formData.levels.push(value[\"supportLevel\"]);\n    }\n    if (value[\"support\"]) {\n      formData.attrs.push(\"supportId\");\n      formData.levels.push(value[\"support\"].id);\n    }\n    value.p0?.forEach((item) => {\n      if (SEED_BLUE_LABELS[item.attr]) {\n        formData[\"blue0\"] = item.attr;\n        formData.attrs.push(\"blueLevel0\");\n        formData.levels.push(item.level);\n      } else if (SEED_RED_LABELS[item.attr]) {\n        formData[\"red0\"] = item.attr;\n        formData.attrs.push(\"redLevel0\");\n        formData.levels.push(item.level);\n      } else if (item.attr === \"uraLevel\") {\n        formData.attrs.push(\"uraLevel0\");\n        formData.levels.push(item.level);\n      }\n    });\n    value.p1?.forEach((item) => {\n      formData.attrs.push(item.attr);\n      formData.levels.push(item.level);\n    });\n\n    props.search(formData);\n  };\n  const onReset = () => {\n    form.resetFields();\n  };\n  return (\n    <Form name=\"搜索\" form={form} onFinish={onFinish} className=\"seed-form\">\n      <Row>\n        <Form.Item label=\"角色\" name={`player0`}>\n          <PlayerInput />\n        </Form.Item>\n      </Row>\n      <SearchOne name=\"p0\" max=\"3\" />\n      <div>总计:</div>\n      <SearchOne name=\"p1\" max=\"9\" />\n      <Row>\n        <Form.Item label=\"支援卡\" name={\"support\"}>\n          <SupportInput />\n        </Form.Item>\n        <Form.Item label=\"突破等级\" name={\"supportLevel\"} initialValue={0}>\n          <Rate count={4} />\n        </Form.Item>\n      </Row>\n      <Row justify=\"end\">\n        <Form.Item>\n          <Button htmlType=\"button\" onClick={() => onReset()}>\n            重置\n          </Button>\n        </Form.Item>\n        <Form.Item>\n          <Button type=\"primary\" htmlType=\"submit\">\n            搜索\n          </Button>\n        </Form.Item>\n      </Row>\n    </Form>\n  );\n};\n\nconst PlayerImage = (props) => {\n  const db = useDB();\n  if (!db) return null;\n  let imgUrl = db.get(\"players\").find({ id: props.id }).value().imgUrl;\n  return <Image src={CDN_SERVER + imgUrl} fallback={IMAGE_FALLBACK} width={80} preview=\"false\" />;\n};\n\nconst SupportImage = (props) => {\n  const db = useDB();\n  if (!db) return null;\n  let support = db.get(\"supports\").find({ id: props.id }).value();\n  let imgUrl = \"\";\n  if (support) {\n    imgUrl = support.imgUrl;\n  }\n  return <Image src={CDN_SERVER + imgUrl} fallback={IMAGE_FALLBACK} width={80} preview=\"false\" />;\n};\n\nconst Seed = () => {\n  document.title = TITLE;\n  useDidRecover(() => {\n    document.title = TITLE;\n  });\n  const [isSeedInputVisible, setIsSeedInputVisible] = useState(false);\n  const [seedList, setSeedList] = useState([]);\n  const [total, setTotal] = useState(0);\n  // const [current, setCurrent] = useState(0)\n  const [value, setValue] = useState();\n\n  const columns = [\n    {\n      title: \"玩家id\",\n      dataIndex: \"gameId\",\n      key: \"gameId\",\n      render: (text, seed) => (\n        <>\n          <Row>\n            <p>{text}</p>\n            <CopyToClipboard text={text} onCopy={() => message.info(\"成功\")}>\n              <CopyOutlined />\n            </CopyToClipboard>\n          </Row>\n          <Row align=\"middle\">\n            <SmileOutlined onClick={() => like(seed)} />\n            <p>{seed.likes}</p>\n          </Row>\n          <Row align=\"middle\">\n            <FrownOutlined onClick={() => dislike(seed)} />\n            <p>{seed.dislikes}</p>\n          </Row>\n          {seed.userId === userId && (\n            <Row align=\"middle\">\n              <DeleteOutlined onClick={() => deleteSeed(seed)} />\n            </Row>\n          )}\n        </>\n      ),\n    },\n    {\n      title: \"主要\",\n      dataIndex: \"playerId0\",\n      key: \"playerId0\",\n      render: (text) => <PlayerImage id={text} />,\n    },\n    {\n      title: \"蓝色因子\",\n      dataIndex: \"blue0\",\n      key: \"blue0\",\n      render: (text, record) => (\n        <span className=\"rate-label\">{`${SEED_BLUE_LABELS[text]}\\xa0\\xa0${record[\"blueLevel0\"]}`}</span>\n      ),\n    },\n    {\n      title: \"红色因子\",\n      dataIndex: \"red0\",\n      key: \"red0\",\n      render: (text, record) => (\n        <span className=\"rate-label\">{`${SEED_RED_LABELS[text]}\\xa0\\xa0${record[\"redLevel0\"]}`}</span>\n      ),\n    },\n    {\n      title: \"绿色因子\",\n      dataIndex: \"greenLevel0\",\n      key: \"greenLevel0\",\n      render: (text, record) => (\n        <span className=\"rate-label\">{`固有\\xa0\\xa0${record[\"greenLevel0\"]}`}</span>\n      ),\n    },\n    {\n      title: \"URA\",\n      dataIndex: \"uraLevel0\",\n      key: \"uraLevel0\",\n      render: (text, record) => (\n        <span className=\"rate-label\">\n          {`${record[\"uraLevel0\"] ? `URA  ${record[\"uraLevel0\"]}` : \"\"}`}\n        </span>\n      ),\n    },\n    {\n      title: \"父辈1\",\n      dataIndex: \"playerId1\",\n      key: \"playerId1\",\n      render: (text) => <PlayerImage id={text} />,\n    },\n    {\n      title: \"父辈2\",\n      dataIndex: \"playerId2\",\n      key: \"playerId2\",\n      render: (text) => <PlayerImage id={text} />,\n    },\n    {\n      title: \"总计蓝色\",\n      key: \"allBlue\",\n      render: (text, record) =>\n        Object.keys(SEED_BLUE_LABELS).map((key) => {\n          if (record[key]) {\n            return (\n              <span\n                key={key}\n                className=\"rate-label\"\n              >{`${SEED_BLUE_LABELS[key]}\\xa0\\xa0${record[key]}`}</span>\n            );\n          } else {\n            return null;\n          }\n        }),\n    },\n    {\n      title: \"总计红色\",\n      key: \"allRed\",\n      render: (text, record) =>\n        Object.keys(SEED_RED_LABELS).map((key) => {\n          if (record[key]) {\n            return (\n              <span\n                key={key}\n                className=\"rate-label\"\n              >{`${SEED_RED_LABELS[key]}\\xa0\\xa0${record[key]}`}</span>\n            );\n          } else {\n            return null;\n          }\n        }),\n    },\n    { title: \"总计URA\", dataIndex: \"uraLevel\", key: \"uraLevel\", render: (text) => text },\n    { title: \"总计白色\", dataIndex: \"white\", key: \"white\", render: (text) => text },\n    {\n      title: \"支援卡\",\n      dataIndex: \"supportId\",\n      key: \"supportId\",\n      render: (text) => <SupportImage id={text} />,\n    },\n    {\n      title: \"突破等级\",\n      dataIndex: \"supportLevel\",\n      key: \"supportLevel\",\n      render: (text, record) => (\n        <Row>\n          <Rate count={4} value={record[\"supportLevel\"]} disabled />\n        </Row>\n      ),\n    },\n  ];\n\n  const showSeedInput = (index) => {\n    setIsSeedInputVisible(true);\n  };\n  const closeSeedInput = () => {\n    setIsSeedInputVisible(false);\n  };\n  const showMySeed = () => {\n    search({ attrs: [\"userId\"], levels: [userId] });\n  };\n  const deleteSeed = async (value) => {\n    const res = await axios.post(\"https://urarawin.com/api/sqlite/delete\", value);\n    if (res.data) {\n      message.info(\"成功删除\");\n    } else {\n      message.info(\"出错了\");\n    }\n  };\n  const search = async (value) => {\n    setValue(value);\n    const res = await axios.post(\"https://urarawin.com/api/sqlite/search\", value);\n    // setCurrent(0)\n    if (res.data) {\n      if (res.data.count) {\n        setSeedList([...res.data.list]);\n        setTotal(res.data.count);\n      } else {\n        setSeedList([]);\n        setTotal(0);\n        message.info(\"暂无数据\");\n      }\n    } else {\n      message.info(\"出错了\");\n    }\n  };\n  const like = async (seed) => {\n    if (!userId) {\n      message.info(\"刷新后重试\");\n      return;\n    }\n    let id = seed.id;\n    const res = await axios.post(\"https://urarawin.com/api/sqlite/like\", { id, userId });\n    if (res.data) {\n      message.info(\"成功\");\n      seed.likes += 1;\n    }\n    setSeedList([...seedList]);\n  };\n  const dislike = async (seed) => {\n    if (!userId) {\n      message.info(\"刷新后重试\");\n      return;\n    }\n    let id = seed.id;\n    const res = await axios.post(\"https://urarawin.com/api/sqlite/dislike\", { id, userId });\n    if (res.data) {\n      message.info(\"成功\");\n      seed.dislikes += 1;\n    }\n    setSeedList([...seedList]);\n  };\n  const onChange = (e) => {\n    search({\n      ...value,\n      count: e.total,\n      offset: e.current * 10 - 10,\n    });\n  };\n  return (\n    <>\n      <div className=\"seed-container\">\n        <Card className=\"card\" title=\"过滤条件\">\n          <SearchForm search={search} />\n          <Button onClick={() => showSeedInput()}>配置我的种子</Button>\n          <Button onClick={() => showMySeed()}>查看我的种子</Button>\n        </Card>\n        <Card className=\"card\" title=\"结果\">\n          <Table\n            columns={columns}\n            dataSource={seedList}\n            onChange={onChange}\n            pagination={{\n              pageSize: 10,\n              total: total,\n              simple: true,\n              showQuickJumper: false,\n              position: [\"topRight\", \"bottomRight\"],\n            }}\n            rowKey={\"id\"}\n          />\n        </Card>\n      </div>\n      <Modal\n        visible={isSeedInputVisible}\n        onOk={closeSeedInput}\n        onCancel={closeSeedInput}\n        footer={null}\n        width={\"80%\"}\n      >\n        <SeedInput onFinish={closeSeedInput} />\n      </Modal>\n    </>\n  );\n};\nexport default Seed;\n","import React, { useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport shortid from \"shortid\";\nimport { useDidRecover } from \"react-router-cache-route\";\nimport Button from \"@material-tailwind/react/Button\";\n\nimport { useDB } from \"../../hooks\";\nimport dbL from \"@/dbL.js\";\nimport { useTranslation } from \"react-i18next\";\nimport {\n  Divider,\n  Row,\n  Col,\n  Modal,\n  Popconfirm,\n  Popover,\n  // Tooltip\n} from \"antd\";\nimport { EditOutlined } from \"@ant-design/icons\";\nimport SupportListWithFilter from \"@/components/support/SupportListWithFilter\";\nimport PlayerList from \"@/components/player/PlayerList.js\";\nimport { RaceTimeline, RaceCheckbox } from \"../../components/race\";\n\nimport { CDN_SERVER } from \"@/config\";\n\nconst TITLE = \"育成 - 乌拉拉大胜利 - 赛马娘资料站\";\n\nconst Nurturing = (props) => {\n  const { t } = useTranslation();\n  const history = useHistory();\n  document.title = TITLE;\n  useDidRecover(() => {\n    document.title = TITLE;\n  });\n  const [needSelect, setNeedSelect] = useState(false);\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\n\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\n  const [supportIndex, setSupportIndex] = useState(1);\n\n  // const [isRaceVisible, setIsRaceVisible] = useState(false);\n\n  const selected = dbL.get(\"selected\").value();\n  const [supports, setSupports] = useState(selected.supports);\n  const [player, setPlayer] = useState(selected.player);\n  const [raceFilterCondition, setRaceFilterCondition] = useState(\n    selected.raceFilterCondition || {\n      distanceType: [],\n      grade: [],\n      ground: [],\n    }\n  );\n  const [filterRace, setFilterRace] = useState(selected.filterRace || {});\n  const [decks, setDecks] = useState(dbL.get(\"myDecks\").value());\n  const db = useDB();\n  if (!db) return null;\n  const races = db.get(\"races\").value();\n  const showPlayer = () => {\n    setIsPlayerVisible(true);\n  };\n  const closePlayer = () => {\n    setIsPlayerVisible(false);\n  };\n  const handleSelectPlayer = (data) => {\n    setIsPlayerVisible(false);\n    setPlayer(data);\n\n    // save\n    selected.player = data;\n    dbL.get(\"selected\").assign(selected).write();\n    closePlayer();\n  };\n\n  const showSupport = (index) => {\n    setNeedSelect(true);\n    setIsSupportVisible(true);\n    setSupportIndex(index);\n  };\n  const showSupport2 = (index) => {\n    setNeedSelect(false);\n    setIsSupportVisible(true);\n    setSupportIndex(index);\n  };\n\n  const closeSupport = () => {\n    setIsSupportVisible(false);\n  };\n  const handleSelectSupport = (data) => {\n    let newData = {};\n    newData[supportIndex] = data;\n    setSupports(Object.assign({}, supports, newData));\n    setIsSupportVisible(false);\n\n    // save\n    selected.supports[supportIndex] = data;\n    dbL.get(\"selected\").assign(selected).write();\n    closeSupport();\n  };\n  const handleSelectSupportShow = (data) => {\n    history.push(`/support-detail/${data.id}`);\n    closeSupport();\n  };\n  // 卡组相关操作\n  const saveDeck = (deck) => {\n    let tmpDeck = {\n      imgUrls: [],\n      supportsId: [],\n    };\n    if (player.id) {\n      tmpDeck.playerId = player.id;\n      tmpDeck.imgUrls.push(player.imgUrl);\n    }\n    [0, 1, 2, 3, 4, 5].forEach((index) => {\n      if (supports[index] && supports[index].id) {\n        tmpDeck.imgUrls.push(supports[index].imgUrl);\n        tmpDeck.supportsId.push(supports[index].id);\n      } else {\n        tmpDeck.supportsId.push(null);\n      }\n    });\n    if (deck) {\n      //update\n      dbL.get(\"myDecks\").find({ id: deck.id }).assign(tmpDeck).write();\n    } else {\n      //\n      tmpDeck.id = shortid.generate();\n      dbL.get(\"myDecks\").push(tmpDeck).write();\n    }\n    setDecks([...dbL.get(\"myDecks\").value()]);\n  };\n  const loadDeck = (deck) => {\n    selected.supports = { 0: {}, 1: {}, 2: {}, 3: {}, 4: {}, 5: {} };\n    selected.player = {};\n    if (deck.playerId) {\n      selected.player = db.get(\"players\").find({ id: deck.playerId }).value();\n    }\n    setPlayer(selected.player);\n    deck.supportsId.forEach((id, index) => {\n      if (id) {\n        selected.supports[index] = db.get(\"supports\").find({ id: id }).value();\n      }\n    });\n    setSupports({ ...selected.supports });\n    db.get(\"selected\").assign(selected).write();\n  };\n  const deleteDeck = (deck) => {\n    dbL.get(\"myDecks\").remove({ id: deck.id }).write();\n    setDecks([...dbL.get(\"myDecks\").value()]);\n  };\n  // race checkbox发生变化\n  const onChangeRace = (filterCondition) => {\n    setRaceFilterCondition(filterCondition);\n    //根据条件过滤\n    let tmpRaceList = Object.values(filterCondition).some((f) => f.length > 0)\n      ? Object.entries(filterCondition)\n          .filter(([key, filters]) => filters.length > 0)\n          .reduce(\n            (result, [key, filters]) => result.filter((race) => filters.includes(race[key])),\n            races\n          )\n      : [];\n    //过滤后整理成 dataNum:[raceId]\n    let tmpFilterRace = {};\n    for (let race of tmpRaceList) {\n      if (tmpFilterRace[race.dateNum]) {\n        tmpFilterRace[race.dateNum].push(race.id);\n      } else {\n        tmpFilterRace[race.dateNum] = [race.id];\n      }\n    }\n    //更新state\n    setFilterRace(tmpFilterRace);\n    selected.raceFilterCondition = filterCondition;\n    selected.filterRace = tmpFilterRace;\n    dbL\n      .get(\"selected\")\n      .assign({ ...selected })\n      .write();\n  };\n\n  const toSupportDetail = (id) => {\n    props.history.push(`/support-detail/${id}`);\n  };\n  const toPlayerDetail = (id) => {\n    props.history.push(`/player-detail/${id}/1`);\n  };\n  const toBuffList = (id) => {\n    props.history.push(`/buff`);\n  };\n\n  return (\n    <>\n      <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n        {player.imgUrl && (\n          <img\n            src={CDN_SERVER + player.imgUrl}\n            alt={player.imgUrl}\n            width=\"128\"\n            onClick={() => toPlayerDetail(player.id)}\n          />\n        )}\n        <div className=\"flex-auto flex flex-wrap items-center\">\n          <Button size=\"sm\" buttonType=\"outline\" onClick={showPlayer}>\n            {t(\"选择马娘\")}\n          </Button>\n          <Button size=\"sm\" buttonType=\"outline\" onClick={showSupport2}>\n            {t(\"支援卡查询\")}\n          </Button>\n          <Button size=\"sm\" buttonType=\"outline\" onClick={toBuffList}>\n            {t(\"BUFF\")}\n          </Button>\n          <Popover\n            trigger=\"click\"\n            content={\n              <RaceCheckbox onChange={onChangeRace} raceFilterCondition={raceFilterCondition} />\n            }\n          >\n            <Button>{t(\"比赛\")}</Button>\n          </Popover>\n          <Popover\n            trigger=\"click\"\n            width={\"80%\"}\n            content={\n              <>\n                <Button size=\"sm\" buttonType=\"outline\" onClick={() => saveDeck()}>\n                  {t(\"保存为新卡组\")}\n                </Button>\n                {decks.map((deck) => (\n                  <Row key={deck.id}>\n                    {deck.imgUrls.map((imgUrl) => (\n                      <Col span={3} key={imgUrl}>\n                        <img src={CDN_SERVER + imgUrl} alt={imgUrl} width={\"100\"} />\n                      </Col>\n                    ))}\n                    <Col span={3}>\n                      <Button\n                        size=\"sm\"\n                        buttonType=\"outline\"\n                        type=\"primary\"\n                        onClick={() => loadDeck(deck)}\n                      >\n                        {t(\"读取卡组\")}\n                      </Button>\n                      <Popconfirm title=\"确认覆盖？\" onConfirm={() => saveDeck(deck)}>\n                        <Button size=\"sm\" buttonType=\"outline\" danger type=\"dashed\">\n                          {t(\"覆盖卡组\")}\n                        </Button>\n                      </Popconfirm>\n                      <Popconfirm title=\"确认删除？\" onConfirm={() => deleteDeck(deck)}>\n                        <Button size=\"sm\" buttonType=\"outline\" danger type=\"dashed\">\n                          {t(\"删除卡组\")}\n                        </Button>\n                      </Popconfirm>\n                    </Col>\n                  </Row>\n                ))}\n              </>\n            }\n          >\n            <Button>{t(\"我的卡组\")}</Button>\n          </Popover>\n        </div>\n      </div>\n\n      <Row justify=\"space-around\">\n        {[0, 1, 2, 3, 4, 5].map((index) => (\n          <Col span={7} key={index} style={{}}>\n            <Button\n              size=\"sm\"\n              buttonType=\"outline\"\n              icon={<EditOutlined />}\n              onClick={() => showSupport(index)}\n            >\n              {t(\"选择支援卡\")}\n            </Button>\n            {supports[index] && supports[index].id && (\n              <img\n                src={CDN_SERVER + supports[index].imgUrl}\n                alt={supports[index].name}\n                width={\"100%\"}\n                onClick={() => toSupportDetail(supports[index].id)}\n              />\n            )}\n          </Col>\n        ))}\n      </Row>\n\n      <Divider>比赛</Divider>\n      <div style={{ overflow: \"auto\", paddingTop: \"10px\", width: \"100%\", height: \"400px\" }}>\n        <RaceTimeline raceList={player.raceList} filterRace={filterRace} />\n      </div>\n\n      <Modal\n        visible={isPlayerVisible}\n        onOk={closePlayer}\n        onCancel={closePlayer}\n        footer={null}\n        width={\"100%\"}\n        bodyStyle={{ maxHeight: \"80vh\", overflow: \"auto\" }}\n      >\n        <PlayerList sortFlag={true} onClick={handleSelectPlayer} />\n      </Modal>\n      <Modal\n        visible={isSupportVisible}\n        onOk={closeSupport}\n        onCancel={closeSupport}\n        footer={null}\n        width={\"100%\"}\n        bodyStyle={{ height: \"80vh\", overflow: \"auto\" }}\n      >\n        <SupportListWithFilter\n          formName=\"nurSupMo\"\n          onClick={needSelect ? handleSelectSupport : handleSelectSupportShow}\n          sortFlag={true}\n        />\n      </Modal>\n    </>\n  );\n};\n\nexport default Nurturing;\n","import React, { useState } from \"react\";\nimport Button from \"@material-tailwind/react/Button\";\n\nimport { Picker, List } from \"antd-mobile\";\n\nimport { Image, Modal, Rate, Form, message } from \"antd\";\n//test\nimport { PlusOutlined, SmileOutlined, FrownOutlined, CopyOutlined } from \"@ant-design/icons\";\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\nimport { useDidRecover } from \"react-router-cache-route\";\nimport axios from \"axios\";\n\nimport dbL from \"../../dbL\";\nimport SupportListWithFilter from \"@/components/support/SupportListWithFilter\";\nimport PlayerList from \"@/components/player/PlayerList.js\";\n\nimport { useDB } from \"../../hooks\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { CDN_SERVER, SEED_BLUE_LABELS, SEED_RED_LABELS, IMAGE_FALLBACK } from \"@/config\";\n\nconst TITLE = \"分享 - 乌拉拉大胜利 - 赛马娘资料站\";\nlet userId = dbL.get(\"userId\").value();\n\nconst PlayerInput = ({ value = {}, onChange }) => {\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\n  const [data, setData] = useState({});\n  const showPlayer = (index) => {\n    setIsPlayerVisible(true);\n  };\n  const closePlayer = () => {\n    setIsPlayerVisible(false);\n  };\n  const triggerChange = (changedValue) => {\n    setIsPlayerVisible(false);\n    onChange?.({\n      ...data,\n      ...value,\n      ...changedValue,\n    });\n  };\n  const handleSelectPlayer = (data) => {\n    setData(data);\n    closePlayer();\n    triggerChange(data);\n  };\n  return (\n    <>\n      <div className=\"w-16 h-16\">\n        <Image\n          src={data.imgUrl ? CDN_SERVER + data.imgUrl : \"\"}\n          preview=\"false\"\n          fallback={IMAGE_FALLBACK}\n          onClick={showPlayer}\n        />\n      </div>\n      <Modal\n        visible={isPlayerVisible}\n        onOk={closePlayer}\n        onCancel={closePlayer}\n        width={\"100%\"}\n        bodyStyle={{ maxHeight: \"80vh\", overflow: \"auto\" }}\n      >\n        <PlayerList sortFlag={true} onClick={handleSelectPlayer} />\n      </Modal>\n    </>\n  );\n};\nconst SupportInput = ({ value = {}, onChange }) => {\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\n  const [data, setData] = useState({});\n  const showSupport = (index) => {\n    setIsSupportVisible(true);\n  };\n  const closeSupport = () => {\n    setIsSupportVisible(false);\n  };\n  const triggerChange = (changedValue) => {\n    setIsSupportVisible(false);\n    onChange?.({\n      ...data,\n      ...value,\n      ...changedValue,\n    });\n  };\n  const handleSelectSupport = (data) => {\n    setData(data);\n    closeSupport();\n    triggerChange(data);\n  };\n  return (\n    <>\n      <div className=\"w-16 h-16\">\n        <Image\n          src={data.imgUrl ? CDN_SERVER + data.imgUrl : \"\"}\n          preview=\"false\"\n          fallback={IMAGE_FALLBACK}\n          onClick={showSupport}\n        />\n      </div>\n      <Modal\n        visible={isSupportVisible}\n        onOk={closeSupport}\n        onCancel={closeSupport}\n        width={\"100%\"}\n        bodyStyle={{ height: \"80vh\" }}\n      >\n        <div className=\"w-full h-full overflow-hidden flex relative\">\n          <SupportListWithFilter\n            formName=\"seedSupMo\"\n            onClick={handleSelectSupport}\n            sortFlag={true}\n          />\n        </div>\n      </Modal>\n    </>\n  );\n};\n\nconst SearchOne = (props) => {\n  const { t } = useTranslation();\n  const PICKER_LISTS = [\n    [\n      { value: \"speed\", label: t(\"速度\") },\n      { value: \"stamina\", label: t(\"耐力\") },\n      { value: \"power\", label: t(\"力量\") },\n      { value: \"guts\", label: t(\"根性\") },\n      { value: \"wisdom\", label: t(\"智力\") },\n      { value: \"grass\", label: t(\"草地\") },\n      { value: \"dirt\", label: t(\"泥地\") },\n      { value: \"shortDistance\", label: t(\"短距离\") },\n      { value: \"mile\", label: t(\"英里\") },\n      { value: \"mediumDistance\", label: t(\"中距离\") },\n      { value: \"longDistance\", label: t(\"长距离\") },\n      { value: \"escapeR\", label: t(\"逃\") },\n      { value: \"leadingR\", label: t(\"先\") },\n      { value: \"insertR\", label: t(\"差\") },\n      { value: \"trackingR\", label: t(\"追\") },\n    ],\n    [\n      { value: 1, label: `1${t(\"星\")}` },\n      { value: 2, label: `2${t(\"星\")}` },\n      { value: 3, label: `3${t(\"星\")}` },\n      { value: 4, label: `4${t(\"星\")}` },\n      { value: 5, label: `5${t(\"星\")}` },\n      { value: 6, label: `6${t(\"星\")}` },\n      { value: 7, label: `7${t(\"星\")}` },\n      { value: 8, label: `8${t(\"星\")}` },\n      { value: 9, label: `9${t(\"星\")}` },\n    ],\n  ];\n  return (\n    <Form.List name={props.name}>\n      {(fields, { add, remove }, { errors }) => (\n        <List>\n          {fields.map((field, index) => (\n            <Form.Item\n              {...field}\n              key={field.key}\n              name={[field.name, \"attr\"]}\n              fieldKey={[field.fieldKey, \"attr\"]}\n              rules={[{ required: true }]}\n              validateTrigger={[\"onChange\", \"onBlur\"]}\n              noStyle\n            >\n              <Picker data={PICKER_LISTS} cascade={false} extra={t(\"请选择\")}>\n                <List.Item arrow=\"horizontal\">{t(\"过滤条件(总计)\")}</List.Item>\n              </Picker>\n            </Form.Item>\n          ))}\n          <List.Item>\n            <Button type=\"dashed\" onClick={() => add()} icon={<PlusOutlined />}>\n              {t(\"添加过滤条件\")}\n            </Button>\n          </List.Item>\n        </List>\n      )}\n    </Form.List>\n  );\n};\nconst SearchForm = (props) => {\n  const { t } = useTranslation();\n  const [form] = Form.useForm();\n\n  const onFinish = async (value) => {\n    let formData = { attrs: [], levels: [] };\n    if (value[\"player0\"]) {\n      formData.attrs.push(\"playerId0\");\n      formData.levels.push(value[\"player0\"].id);\n    }\n    if (value[\"support\"]) {\n      formData.attrs.push(\"supportId\");\n      formData.levels.push(value[\"support\"].id);\n    }\n    value.p1?.forEach((item) => {\n      formData.attrs.push(item.attr[0]);\n      formData.levels.push(item.attr[1]);\n    });\n\n    props.search(formData);\n  };\n  const onReset = () => {\n    form.resetFields();\n  };\n  return (\n    <Form name=\"搜索\" form={form} onFinish={onFinish} className=\"seed-form w-full\">\n      <SearchOne name=\"p1\" />\n      <div className=\"grid grid-cols-4 w-full \" align=\"start\">\n        <div>\n          {t(\"角色\")}\n          <Form.Item name={`player0`}>\n            <PlayerInput />\n          </Form.Item>\n        </div>\n        <div>\n          {t(\"支援卡\")}\n          <Form.Item name={\"support\"}>\n            <SupportInput />\n          </Form.Item>\n        </div>\n        <div className=\"col-span-2\">\n          {t(\"突破等级\")}\n          <Form.Item name={\"supportLevel\"} initialValue={0}>\n            <Rate count={4} />\n          </Form.Item>\n        </div>\n      </div>\n      <div className=\"flex justify-end\">\n        <Form.Item>\n          <Button htmlType=\"button\" onClick={() => onReset()}>\n            {t(\"重置\")}\n          </Button>\n        </Form.Item>\n        <Form.Item>\n          <Button type=\"primary\" htmlType=\"submit\">\n            {t(\"搜索\")}\n          </Button>\n        </Form.Item>\n      </div>\n    </Form>\n  );\n};\n\nconst SeedCard = (props) => {\n  const { t } = useTranslation();\n  const db = useDB();\n  if (!db) return null;\n  const data = props.data;\n  const player = db.get(\"players\").find({ id: data.playerId0 }).value();\n  const support = db.get(\"supports\").find({ id: data.supportId }).value();\n  const like = async (seed) => {\n    if (!userId) {\n      message.info(t(\"刷新后重试\"));\n      return;\n    }\n    let id = seed.id;\n    const res = await axios.post(\"https://urarawin.com/api/sqlite/like\", { id, userId });\n    if (res.data) {\n      message.info(t(\"成功\"));\n      seed.likes += 1;\n    }\n  };\n  const dislike = async (seed) => {\n    if (!userId) {\n      message.info(t(\"刷新后重试\"));\n      return;\n    } else if (seed.dislikes && seed.dislikes.indexOf(userId) !== -1) {\n      return;\n    }\n    let id = seed.id;\n    const res = await axios.post(\"https://urarawin.com/api/sqlite/dislike\", { id, userId });\n    if (res.data) {\n      message.info(t(\"成功\"));\n      seed.dislikes += 1;\n    }\n  };\n  return (\n    <div className=\"w-1/2 p-1\">\n      <div className=\"border-green-300 border border-solid flex flex-col\">\n        <CopyToClipboard text={data.gameId} onCopy={() => message.info(\"成功\")}>\n          <div className=\"w-full flex text-lg\">\n            {data.gameId}\n            <CopyOutlined />\n          </div>\n        </CopyToClipboard>\n        <div className=\"w-full flex items-center justify-around\">\n          {player && (\n            <img alt={player.name} src={CDN_SERVER + player.imgUrl} className=\"w-10 h-10\" />\n          )}\n          {support && <img alt={support.name} src={CDN_SERVER + support.imgUrl} className=\"w-10\" />}\n          <div className=\"text-lg flex\" onClick={() => like(data)}>\n            <SmileOutlined />\n            <div>{data.likes}</div>\n          </div>\n          <div className=\"text-lg flex\" onClick={() => dislike(data)}>\n            <FrownOutlined />\n            <div>{data.dislikes}</div>\n          </div>\n        </div>\n        <div>{`${t(SEED_BLUE_LABELS[data[\"blue0\"]])}: ${data[\"blueLevel0\"]}`}</div>\n        <div>{`${t(SEED_RED_LABELS[data[\"red0\"]])}: ${data[\"redLevel0\"]}`}</div>\n        {Object.keys(SEED_BLUE_LABELS).map((key) =>\n          data[key] ? (\n            <div key={key}>{`${t(\"总计\")} ${t(SEED_BLUE_LABELS[key])}: ${data[key]}`}</div>\n          ) : null\n        )}\n        {Object.keys(SEED_RED_LABELS).map((key) =>\n          data[key] ? (\n            <div key={key}>{`${t(\"总计\")} ${t(SEED_RED_LABELS[key])}: ${data[key]}`}</div>\n          ) : null\n        )}\n        <div>{`${t(\"突破等级\")}: ${data[\"supportLevel\"] || 0}`}</div>\n      </div>\n    </div>\n  );\n};\nconst Seed = () => {\n  const { t } = useTranslation();\n  document.title = TITLE;\n  useDidRecover(() => {\n    document.title = TITLE;\n  });\n\n  const [seedList, setSeedList] = useState([]);\n  const search = async (value) => {\n    const res = await axios.post(\"https://urarawin.com/api/sqlite/search\", value);\n    if (res.data) {\n      if (res.data.count) {\n        setSeedList([...res.data.list]);\n      } else {\n        message.info(t(\"暂无数据\"));\n      }\n    } else {\n      message.info(t(\"出错了\"));\n    }\n  };\n  return (\n    <div className=\"w-full flex flex-wrap px-3\">\n      <SearchForm search={search} />\n      <div className=\"w-full text-lg font-semibold\">{t(\"结果\")}</div>\n      {seedList.map((seed) => {\n        return <SeedCard key={seed.id} data={seed} />;\n      })}\n    </div>\n  );\n};\nexport default Seed;\n","import React from \"react\";\nimport { useDidRecover } from \"react-router-cache-route\";\nimport SupportDetail from \"../../components/support/SupportDetail.js\";\n\nconst TITLE = \"支援 - 乌拉拉大胜利 - 赛马娘资料站\";\nconst SupportDetailPage = (props) => {\n  const id = props.match?.params?.id;\n  document.title = TITLE;\n  useDidRecover(() => {\n    document.title = TITLE;\n  });\n  return (\n    <div className=\"flex flex-auto w-full flex-wrap max-w-6xl mx-auto\">\n      <SupportDetail id={id} />\n    </div>\n  );\n};\n\nexport default SupportDetailPage;\n","import React from \"react\";\nimport { useDidRecover } from \"react-router-cache-route\";\nimport PlayerDetail from \"../../components/player/PlayerDetail.js\";\n\nconst TITLE = \"角色 - 乌拉拉大胜利 - 赛马娘资料站\";\nconst PlayerDetailPage = (props) => {\n  const id = props.match?.params?.id;\n  document.title = TITLE;\n  useDidRecover(() => {\n    document.title = TITLE;\n  });\n  return (\n    <div className=\"flex flex-auto w-full flex-wrap max-w-6xl mx-auto\">\n      <PlayerDetail id={id} />\n    </div>\n  );\n};\n\nexport default PlayerDetailPage;\n","import React from \"react\";\nimport { useDidRecover } from \"react-router-cache-route\";\nimport SkillDetail from \"../../components/skill/SkillDetail.js\";\n\nconst TITLE = \"技能 - 乌拉拉大胜利 - 赛马娘资料站\";\nconst SkillDetailPage = (props) => {\n  const id = props.match?.params?.id;\n  document.title = TITLE;\n  useDidRecover(() => {\n    document.title = TITLE;\n  });\n  return <SkillDetail id={id} />;\n};\n\nexport default SkillDetailPage;\n","import i18n from \"i18next\";\nimport { initReactI18next } from \"react-i18next\";\nimport Backend from \"i18next-http-backend\";\nimport LanguageDetector from \"i18next-browser-languagedetector\";\ni18n\n  .use(Backend)\n  .use(LanguageDetector)\n  .use(initReactI18next)\n  .init({\n    react: {\n      // 是否需要在最外层加入Suspense标签\n      useSuspense: false,\n    },\n    lng: \"zh_CN\",\n    fallbackLng: \"zh_CN\",\n    load: \"currentOnly\",\n    backend: {\n      loadPath: `https://fastly.jsdelivr.net/gh/wrrwrr111/pretty-derby@master/src/assert/locales/{{lng}}.json`,\n      crossDomain: true,\n    },\n  });\n\n// https://fastly.jsdelivr.net/gh/wrrwrr111/pretty-derby@master/src/assert/locales/zh_CN.json\nexport default i18n;\n","import React, { useState } from \"react\";\n\nimport Modal from \"@material-tailwind/react/Modal\";\nimport ModalBody from \"@material-tailwind/react/ModalBody\";\nimport Button from \"@material-tailwind/react/Button\";\n\nimport i18n from \"../i18n\";\nconst LanButton = () => {\n  const [show, setShow] = useState(false);\n  const changeLanguage = (lan) => {\n    i18n.changeLanguage(lan);\n    setShow(false);\n  };\n  return (\n    <>\n      <Button size=\"sm\" color=\"lightBlue\" onClick={() => setShow(true)} ripple=\"light\">\n        {i18n.language}\n      </Button>\n      <Modal active={show} toggler={() => setShow(false)}>\n        <ModalBody>\n          <div className=\"grid grid-cols-3 gap-3\">\n            <Button onClick={() => changeLanguage(\"zh_CN\")}>zh_CN</Button>\n            <Button className=\"cursor-pointer\" onClick={() => changeLanguage(\"en\")}>\n              en\n            </Button>\n          </div>\n        </ModalBody>\n      </Modal>\n    </>\n  );\n};\n\nexport default LanButton;\n","import React, { useState } from \"react\";\nimport { useLocation, useHistory } from \"react-router-dom\";\n\nimport Navbar from \"@material-tailwind/react/Navbar\";\nimport NavbarContainer from \"@material-tailwind/react/NavbarContainer\";\nimport NavbarWrapper from \"@material-tailwind/react/NavbarWrapper\";\nimport NavbarBrand from \"@material-tailwind/react/NavbarBrand\";\nimport NavbarToggler from \"@material-tailwind/react/NavbarToggler\";\nimport NavbarCollapse from \"@material-tailwind/react/NavbarCollapse\";\nimport Nav from \"@material-tailwind/react/Nav\";\nimport NavLink from \"@material-tailwind/react/NavLink\";\n\nimport useUa from \"@/utils/ua.js\";\nimport LanButton from \"@/components/lan-button.js\";\nimport { CDN_SERVER } from \"@/config\";\nimport dbL from \"@/dbL.js\";\nimport { useTranslation } from \"react-i18next\";\nimport { PC_MENU_LIST, MOBILE_MENU_LIST } from \"@/config\";\nconst Layout = ({ children, contentClass, rootClass }) => {\n  const { t } = useTranslation();\n  const [openNavbar, setOpenNavbar] = useState(false);\n  const ua = useUa();\n  const location = useLocation();\n  const history = useHistory();\n  const resetNur = () => {\n    dbL\n      .set(\"selected\", {\n        supports: { 0: {}, 1: {}, 2: {}, 3: {}, 4: {}, 5: {} },\n        player: {},\n        races: [],\n      })\n      .write();\n  };\n\n  const list = ua.isPhone ? MOBILE_MENU_LIST : PC_MENU_LIST;\n  return (\n    <div className={\"flex flex-col w-screen min-h-screen relative\"}>\n      <Navbar className=\"sticky top-0 z-50\" color=\"lightBlue\" navbar>\n        <NavbarContainer>\n          <NavbarWrapper>\n            <NavbarBrand>赛马娘</NavbarBrand>\n            <NavbarToggler\n              color=\"white\"\n              onClick={() => setOpenNavbar(!openNavbar)}\n              ripple=\"light\"\n            />\n          </NavbarWrapper>\n\n          <NavbarCollapse open={openNavbar}>\n            <Nav leftSide>\n              {list.map((item) => (\n                // <Link to={item.path} onClick={() => setOpenNavbar(!openNavbar)}>\n                <NavLink\n                  key={item.path}\n                  // href={item.path}\n                  onClick={() => {\n                    setOpenNavbar(!openNavbar);\n                    history.push(item.path);\n                  }}\n                  active={location.pathname === item.path ? \"light\" : \"normal\"}\n                  ripple=\"light\"\n                >\n                  {t(item.title)}\n                </NavLink>\n                // </Link>\n              ))}\n            </Nav>\n          </NavbarCollapse>\n        </NavbarContainer>\n      </Navbar>\n      {children}\n      <div className=\"w-full flex items-center flex-wrap pb-10 md:pb-0\">\n        <div className=\"cursor-pointer\" data-tip=\"无法打开育成页面时点一哈\" onClick={resetNur}>\n          {t(\"初始化育成\")}\n        </div>\n        <LanButton />\n        <div className=\"flex-auto\"></div>\n        <iframe\n          title=\"GitHub\"\n          src=\"https://ghbtns.com/github-btn.html?user=wrrwrr111&repo=pretty-derby&type=star&count=true&size=large&v=2\"\n          frameBorder=\"0\"\n          scrolling=\"0\"\n          width=\"160px\"\n          height=\"30px\"\n        ></iframe>\n        <a\n          target=\"_blank\"\n          rel=\"noreferrer\"\n          href=\"https://qm.qq.com/cgi-bin/qm/qr?k=f2Q2MIqkkxiiYq-sfRYmI7E4v17-r3V2&jump_from=webapi\"\n          data-tip={`\n          <img src=${CDN_SERVER + \"img/q.jpg\"} width={300} />\n          <p>${t(\"闲聊为主\")}</p>\n          `}\n        >\n          <img\n            border=\"0\"\n            src=\"//pub.idqqimg.com/wpa/images/group.png\"\n            alt=\"轻 松 赛 马\"\n            title=\"轻 松 赛 马\"\n          />\n        </a>\n        <div\n          className=\"flex mx-2 items-center\"\n          data-tip={`<img src=${CDN_SERVER + \"img/weapp.jpg\"} width={200} />`}\n        >\n          <img alt=\"reimu\" src={CDN_SERVER + \"reimu.gif\"} preview=\"false\" width={24} />\n          <div>{t(\"微信小程序\")}</div>\n        </div>\n      </div>\n    </div>\n  );\n};\nexport default Layout;\n","import React from \"react\";\n\nimport CacheRoute, { CacheSwitch } from \"react-router-cache-route\";\nimport ReactTooltip from \"react-tooltip\";\n\nimport Race from \"@/pages/race\";\nimport Player from \"@/pages/player\";\nimport Support from \"@/pages/support\";\nimport Nurturing from \"@/pages/nurturing/index\";\nimport Skill from \"@/pages/skill\";\nimport Seed from \"@/pages/seed\";\n// import NotFound from \"@/pages/404\";\n\nimport NurturingMO from \"@/pages/nurturingMo\";\nimport SeedMo from \"@/pages/seedMo\";\n\nimport SupportDetailPage from \"@/pages/support/detail\";\nimport PlayerDetailPage from \"@/pages/player/detail\";\nimport SkillDetailPage from \"@/pages/skill/detail\";\nimport { BuffList } from \"./components/buff.js\";\nimport Layout from \"./components/common/Layout.js\";\nconst AppPc = () => {\n  return (\n    <CacheSwitch>\n      <Layout>\n        <CacheRoute\n          saveScrollPosition\n          className=\"container mx-auto flex-auto\"\n          exact\n          path=\"/\"\n          component={Player}\n        />\n        <CacheRoute\n          saveScrollPosition\n          className=\"container mx-auto flex\"\n          path=\"/support\"\n          component={Support}\n        />\n        <CacheRoute\n          saveScrollPosition\n          className=\"container mx-auto flex\"\n          path=\"/skill\"\n          component={Skill}\n        />\n        <CacheRoute saveScrollPosition path={[\"/nurturing\"]} component={Nurturing} />\n        <CacheRoute saveScrollPosition path={[\"/nurturingMo\"]} component={NurturingMO} />\n        <CacheRoute saveScrollPosition path=\"/seed\" component={Seed} />\n        <CacheRoute saveScrollPosition path=\"/SeedMo\" component={SeedMo} />\n        <CacheRoute saveScrollPosition path=\"/race\" component={Race} />\n        <CacheRoute\n          saveScrollPosition\n          path={[\"/support-detail/:id\", \"/support-detail/:id/:nur\"]}\n          component={SupportDetailPage}\n        />\n        <CacheRoute\n          saveScrollPosition\n          path={[\"/player-detail/:id\", \"/player-detail/:id/:nur\"]}\n          component={PlayerDetailPage}\n        />\n        <CacheRoute saveScrollPosition path=\"/skill-detail/:id\" component={SkillDetailPage} />\n        <CacheRoute saveScrollPosition path=\"/buff\" component={BuffList} />\n        {/* <CacheRoute saveScrollPosition component={NotFound}></CacheRoute> */}\n        <ReactTooltip className=\"z-max !hidden md:!inline-block\" html={true} />\n      </Layout>\n    </CacheSwitch>\n  );\n};\n\nexport default AppPc;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport App from \"./app\";\nimport \"./i18n\";\n\nimport \"antd/dist/antd.css\";\nimport \"./styles/index.css\";\nimport \"./styles/tailwind.css\";\n\nconst Index = () => {\n  return (\n    <Router>\n      <App></App>\n    </Router>\n  );\n};\n\nReactDOM.render(<Index></Index>, document.getElementById(\"root\"));\n"],"sourceRoot":""}