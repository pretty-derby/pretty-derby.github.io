{"version":3,"sources":["hooks/index.js","config/index.js","pages/race/index.js","components/player/PlayerCard.js","components/event/EventCard.js","components/skill/SkillCard.js","components/support/SupportCard.js","components/effect/index.js","components/support/SupportDetail.js","components/common/List.js","utils/ua.js","components/support/SupportList.js","components/skill/SkillDetail.js","components/skill/SkillList.js","components/event/EventDetail.js","components/event/EventList.js","components/race/index.js","components/player/PlayerDetail.js","components/player/PlayerList.js","pages/player/index.js","dbL.js","components/common/CheckBox.js","components/common/Input.js","components/skill/SkillFilterForm.js","components/support/SupportFilterForm.js","utils/useViewport.js","components/support/SupportListWithFilter.js","pages/support/index.js","components/buff.js","components/deck.js","pages/nurturing/index.js","pages/skill/index.js","pages/seed/index.js","pages/nurturingMo/index.js","pages/seedMo/index.js","pages/support/detail.js","pages/player/detail.js","pages/skill/detail.js","i18n.js","components/lan-button.js","components/common/Layout.js","app.js","index.js"],"names":["useDB","useSWRImmutable","fetch","then","res","json","data","adapterM","Memory","db","low","set","players","write","supports","skills","events","updateTime","races","buffs","effects","CDN_SERVER","PC_MENU_LIST","path","title","MOBILE_MENU_LIST","EFFECT_LIMITS","SKILL_TYPES","1","2","3","4","5","6","7","8","9","10","13","14","21","27","28","31","SKILL_CONDITION_OPTIONS","label","value","SKILL_TYPE_OPTIONS","SKILL_RARITY_OPTIONS","SUPPORT_TYPE_OPTIONS","map","item","DECK_LABELS","RACE_FILTER_LIST","class","text","grade","place","ground","distanceType","direction","side","SEED_BLUE_LABELS","speed","stamina","power","guts","wisdom","SEED_RED_LABELS","grass","dirt","shortDistance","mile","mediumDistance","longDistance","escapeR","leadingR","insertR","trackingR","TITLE","RACE_TABLE_LABELS","labelTextDict","name","date","distance","Race","props","useState","selectedRowKeys","setSelectedRowKeys","t","useTranslation","document","useDidRecover","dynamicTableHeight","React","window","innerHeight","height","setHeight","useEffect","handleWindowResize","addEventListener","removeEventListener","useViewport","getColumns","dataIndex","filters","width","fixed","onFilter","record","allRaceList","get","race","index","key","columns","type","rowSelection","onChange","selectedRows","selected","dateNum","push","id","onSelect","className","dataSource","pagination","sorter","extra","scroll","y","PlayerCard","onClick","show","setShow","style","paddingBottom","charaName","aspectRatio","onError","alt","src","imgUrl","EventCard","data-tip","choiceList","choice","result","join","SkillCard","rarity","describe","condition","preview","SupportCard","getValue","effect","cur","indexOf","min","min_limit","max","max_limit","slice","limit","length","Math","floor","EffectTable","render","description","div","divKey","getEffectMark","maxLevel","ok","15","20","25","30","35","40","TestEffectTable","getMaxLevel","selectingLevel","setSelectingLevel","calc","input","nodes","output","prevNode","level","i","upperNode","lowerNode","unique_effect","lv","marks","init","limit_lv5","limit_lv10","limit_lv15","limit_lv20","limit_lv25","limit_lv30","limit_lv35","limit_lv40","limit_lv45","limit_lv50","filter","SupportDetail","find","idList","eventList","pid","trainingEventSkill","possessionSkill","List","listKey","sort","filterFunc","dataList","itemRender","itemClass","detailRender","detailModalSize","setCur","ReactTooltip","rebuild","list","reduce","showModal","modal","size","active","toggler","sortItem","sortList","flag","func","Array","e","useUa","ua","ios","test","navigator","userAgent","maxTouchPoints","android","isPhone","SupportList","sortFlag","ownList","history","useHistory","includes","isNur","SkillDetail","undefined","parseInt","match","params","nur","supportList","support","skillList","forEach","a","b","playerList","player","maxWidth","ability","ability_time","cooldown","need_skill_point","grade_value","SkillList","EventDetail","EventList","JSON","stringify","raceGolds","raceNames","getGolds","golds","raceGold","uniqueName","RaceTimeline","memo","showSpare","setShowSpare","showButton","str","getDate","year","month","moment","getColor","curRace","raceList","Item","color","goal","filterRace","fontSize","mode","RaceCheckbox","raceFilterCondition","setRaceFilterCondition","filterList","Object","keys","Group","options","defaultValue","checkedValues","tmpObj","PlayerItem","coloredGradeText","fontWeight","textShadow","AdaptBox","escape","leading","insert","tracking","GrowBox","speedGrow","staminaGrow","powerGrow","gutsGrow","wisdomGrow","PlayerDetail","eventList0","eventList2","eventList3","hideEvent","eventList1","eventList4","PlayerList","Player","adapterL","LocalStorage","d","axios","0","CheckBox","register","icon","htmlFor","Input","placeholder","SkillFilterForm","onUpdate","needId","checkOnly","formName","useForm","watch","subscription","getFilterList","unsubscribe","q","replace","rare","tempList","orderBy","skill","icon_id","reg","RegExp","SupportFilterForm","setValue","allSupports","effectOptions","skillId","eventIdList","event","eventId","innerWidth","setWidth","SupportListWithFilter","limitHeight","viewport","setList","chooseMode","setChooseMode","showMode","setShowMode","dbL","chosenList","setChosenList","changeChooseMode","ripple","tmpList","splice","update","Support","BuffButton","buttonType","BuffList","cellStyle","textAlign","paddingLeft","borderWidth","borderStyle","borderColor","buff","MyDecks","decks","setDecks","saveDeck","deck","tmpDeck","imgUrls","supportsId","tags","playerId","assign","shortid","generate","shareDeck","formData","localeCompare","post","message","info","msg","overlayStyle","maxHeight","overflow","content","values","onChangeTag","loadDeck","onConfirm","danger","remove","deleteDeck","RecommendDecks","recommendDecks","setRecommendDecks","setPlayerId","searchDeck","onVisibleChange","tag","layoutWithBlank","x","w","h","layoutWithoutBlank","Nurturing","needSelect","setNeedSelect","isPlayerVisible","setIsPlayerVisible","isSupportVisible","setIsSupportVisible","supportIndex","setSupportIndex","setSupports","setPlayer","setFilterRace","dynamicRowHeight","dynamicGridWidth","originalLayout","layout","setLayout","showPlayer","closePlayer","showSupport","closeSupport","panelClass","headClass","pBodyStyle","cols","draggableCancel","draggableHandle","rowHeight","onLayoutChange","useCSSTransforms","filterCondition","tmpRaceList","some","f","entries","tmpFilterRace","autoHide","cursor","display","flex","margin","background","newData","Skill","setSkillList","allSkillList","localStorage","getItem","setItem","userId","PlayerInput","setData","triggerChange","changedValue","fallback","visible","onOk","onCancel","bodyStyle","SupportInput","SeedInput","Form","form","seed","setSeed","onFinish","tmpSeed","Date","getTime","success","gutter","children","span","offset","rules","required","Button","count","initialValue","dots","tooltipPlacement","getFields","justify","getFieldValue","validator","_","Promise","resolve","reject","Error","htmlType","SearchOne","fields","add","errors","field","lg","md","xs","fieldKey","validateTrigger","noStyle","PlusOutlined","ErrorList","SearchForm","attrs","levels","p0","attr","p1","search","resetFields","PlayerImage","SupportImage","Seed","isSeedInputVisible","setIsSeedInputVisible","seedList","setSeedList","total","setTotal","onCopy","CopyOutlined","align","SmileOutlined","like","likes","FrownOutlined","dislike","dislikes","DeleteOutlined","deleteSeed","disabled","closeSeedInput","current","pageSize","simple","showQuickJumper","position","rowKey","footer","justifyContent","trigger","EditOutlined","paddingTop","PICKER_LISTS","cascade","arrow","SeedCard","playerId0","supportId","gameId","SupportDetailPage","PlayerDetailPage","SkillDetailPage","i18n","use","Backend","LanguageDetector","initReactI18next","react","useSuspense","lng","fallbackLng","load","backend","loadPath","crossDomain","LanButton","changeLanguage","lan","language","Layout","contentClass","rootClass","openNavbar","setOpenNavbar","location","useLocation","navbar","open","leftSide","pathname","frameBorder","scrolling","target","rel","href","border","AppPc","saveScrollPosition","exact","component","NurturingMO","SeedMo","html","Index","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.31e5d9f9.chunk.js","sourcesContent":["import useSWRImmutable from \"swr/immutable\";\nimport low from \"lowdb\";\nimport Memory from \"lowdb/adapters/Memory\";\n\nconst useDB = () => {\n  const fetcher = (...args) =>\n    fetch(...args)\n      .then((res) => res.json())\n      .then((data) => {\n        const adapterM = new Memory();\n        const db = low(adapterM);\n        db.set(\"players\", data.players).write();\n        db.set(\"supports\", data.supports).write();\n        db.set(\"skills\", data.skills).write();\n        db.set(\"events\", data.events).write();\n        db.set(\"updateTime\", data.updateTime).write();\n        db.set(\"races\", data.races).write();\n        db.set(\"buffs\", data.buffs).write();\n        db.set(\"effects\", data.effects).write();\n        return db;\n      });\n  const { data } = useSWRImmutable(\n    \"https://fastly.jsdelivr.net/gh/wrrwrr111/pretty-derby@master/src/assert/db.json\",\n    fetcher\n  );\n  return data;\n};\n\nexport { useDB };\n","const CDN_SERVER = \"https://fastly.jsdelivr.net/gh/wrrwrr111/pretty-derby/public/\";\nconst PC_MENU_LIST = [\n  { path: \"/\", title: \"角色\" },\n  { path: \"/support\", title: \"支援\" },\n  { path: \"/skill\", title: \"技能\" },\n  { path: \"/race\", title: \"比赛\" },\n  { path: \"/nurturing\", title: \"育成\" },\n  { path: \"/seed\", title: \"种马\" },\n];\nconst MOBILE_MENU_LIST = [\n  { path: \"/\", title: \"角色\" },\n  { path: \"/support\", title: \"支援\" },\n  { path: \"/skill\", title: \"技能\" },\n  { path: \"/race\", title: \"比赛\" },\n  { path: \"/nurturingMo\", title: \"育成\" },\n  { path: \"/seedMo\", title: \"种马\" },\n];\nconst EFFECT_LIMITS = [\n  \"init\",\n  \"limit_lv5\",\n  \"limit_lv10\",\n  \"limit_lv15\",\n  \"limit_lv20\",\n  \"limit_lv25\",\n  \"limit_lv30\",\n  \"limit_lv35\",\n  \"limit_lv40\",\n  \"limit_lv45\",\n  \"limit_lv50\",\n];\n// 角色过滤相关\nconst PLAYER_ADAPT_FILTERS = [\n  { text: \"A\", value: \"A\" },\n  { text: \"B\", value: \"B\" },\n  { text: \"C\", value: \"C\" },\n  { text: \"D\", value: \"D\" },\n  { text: \"E\", value: \"E\" },\n  { text: \"F\", value: \"F\" },\n  { text: \"G\", value: \"G\" },\n];\nconst PLAYER_GROW_FILTERS = [\n  { text: \"14%\", value: \"+14%\" },\n  { text: \"15%\", value: \"+15%\" },\n  { text: \"14%\", value: \"+14%\" },\n  { text: \"10%\", value: \"+10%\" },\n  { text: \"8%\", value: \"+8%\" },\n  { text: \"0%\", value: \"+0%\" },\n];\nconst PLAYER_RARITIES = {\n  1: \"R\",\n  2: \"SR\",\n  3: \"SSR\",\n};\nconst PLAYER_ADAPT_TITLES = {\n  芝: \"grass\",\n  ダート: \"dirt\",\n  短距離: \"shortDistance\",\n  マイル: \"mile\",\n  中距離: \"mediumDistance\",\n  長距離: \"longDistance\",\n  逃げ: \"escape\",\n  先行: \"leading\",\n  差し: \"insert\",\n  追込: \"tracking\",\n  スピード: \"speedGrow\",\n  スタミナ: \"staminaGrow\",\n  パワー: \"powerGrow\",\n  根性: \"gutsGrow\",\n  賢さ: \"wisdomGrow\",\n};\nconst SKILL_TYPES = {\n  1: \"速度属性\",\n  2: \"耐力属性\",\n  3: \"力量属性\",\n  4: \"毅力属性\",\n  5: \"智力属性\",\n  6: \"体力\",\n  7: \"体力消耗\",\n  8: \"视野\",\n  9: \"体力恢复\",\n  10: \"出栏时机\",\n  13: \"掛かり时间\",\n  14: \"掛かり结束时间\",\n  21: \"瞬时速度\",\n  27: \"目标速度\",\n  28: \"走位速度\",\n  31: \"加速度\",\n};\nconst SKILL_CONDITION_OPTIONS = [\n  { label: \"短距離\", value: \"distance_type==1\" },\n  { label: \"マイル\", value: \"distance_type==2\" },\n  { label: \"中距離\", value: \"distance_type==3\" },\n  { label: \"長距離\", value: \"distance_type==4\" },\n  { label: \"逃げ\", value: \"running_style==1\" },\n  { label: \"先行\", value: \"running_style==2\" },\n  { label: \"差し\", value: \"running_style==3\" },\n  { label: \"追込\", value: \"running_style==4\" },\n  { label: \"通用\", value: \"running_style==\" },\n  { label: \"序盤\", value: \"phase==0|phase_random==0\" },\n  { label: \"中盤\", value: \"phase==1|phase_random==1\" },\n  { label: \"終盤\", value: \"phase==2|phase_random==2\" },\n  { label: \"冲刺\", value: \"phase==3|phase_random==3\" },\n  { label: \"コーナー\", value: \"corner_random==1\" },\n  { label: \"直線\", value: \"straight_random==1\" },\n  { label: \"最終直線/コーナー\", value: \"is_finalcorner==1\" },\n];\nconst SKILL_TYPE_OPTIONS = [\n  { label: \"速度被动\", value: \"10011\" },\n  { label: \"耐力被动\", value: \"10021\" },\n  { label: \"力量被动\", value: \"10031\" },\n  { label: \"毅力被动\", value: \"10041\" },\n  { label: \"智力被动\", value: \"10051\" },\n  { label: \"耐力恢复\", value: \"20021\" },\n  { label: \"速度提高\", value: \"20011\" },\n  // {label:'20031',value:'20031'},\n  { label: \"加速度提高\", value: \"20041\" },\n  { label: \"切换跑道\", value: \"20051\" },\n  { label: \"起步时间\", value: \"20061\" },\n  // {label:'20071',value:'20071'},\n  // {label:'20081',value:'20081'},\n  { label: \"视野提高\", value: \"20091\" },\n  { label: \"速度降低\", value: \"30011\" },\n  { label: \"无法冷静\", value: \"30041\" },\n  { label: \"耐力降低\", value: \"30051\" },\n  { label: \"视野降低\", value: \"30071\" },\n];\nconst SKILL_RARITY_OPTIONS = [\n  { label: \"ノーマル\", value: \"ノーマル\" },\n  { label: \"レア\", value: \"レア\" },\n  { label: \"固有\", value: \"固有\" },\n];\nconst SUPPORT_TYPE_OPTIONS = [\"スピード\", \"スタミナ\", \"パワー\", \"根性\", \"賢さ\", \"友人\"].map(\n  (item) => ({\n    label: item,\n    value: item,\n  })\n);\n\nconst DECK_LABELS = [\n  \"短距離\",\n  \"マイル\",\n  \"中距離\",\n  \"長距離\",\n  \"ダート\",\n  \"逃げ\",\n  \"先行\",\n  \"差し\",\n  \"追込\",\n  \"高速度\",\n  \"高耐力\",\n  \"高力量\",\n  \"高根性 \",\n  \"高智力\",\n  \"竞技场前排\",\n  \"萌新之友\",\n];\n\nconst RACE_FILTER_LIST = {\n  class: [\n    { text: \"初等/ジュニア\", value: \"ジュニア\" },\n    { text: \"经典/クラシック\", value: \"クラシック\" },\n    { text: \"经典&高级/クラシックシニア\", value: \"クラシックシニア\" },\n    { text: \"高级/シニア\", value: \"シニア\" },\n  ],\n  grade: [\n    { text: \"Pre-OP\", value: \"Pre-OP\" },\n    { text: \"OP\", value: \"OP\" },\n    { text: \"G1\", value: \"G1\" },\n    { text: \"G2\", value: \"G2\" },\n    { text: \"G3\", value: \"G3\" },\n  ],\n  place: [\n    { text: \"中京\", value: \"中京\" },\n    { text: \"函館\", value: \"函館\" },\n    { text: \"札幌\", value: \"札幌\" },\n    { text: \"小倉\", value: \"小倉\" },\n    { text: \"新潟\", value: \"新潟\" },\n    { text: \"阪神\", value: \"阪神\" },\n    { text: \"中山\", value: \"中山\" },\n    { text: \"京都\", value: \"京都\" },\n    { text: \"東京\", value: \"東京\" },\n    { text: \"福島\", value: \"福島\" },\n    { text: \"大井\", value: \"大井\" },\n  ],\n  ground: [\n    { text: \"芝\", value: \"芝\" },\n    { text: \"ダート\", value: \"ダート\" },\n  ],\n  distanceType: [\n    { text: \"短距離\", value: \"短距離\" },\n    { text: \"マイル\", value: \"マイル\" },\n    { text: \"中距離\", value: \"中距離\" },\n    { text: \"長距離\", value: \"長距離\" },\n  ],\n  direction: [\n    { text: \"左\", value: \"左\" },\n    { text: \"右\", value: \"右\" },\n    { text: \"直\", value: \"直\" },\n  ],\n  side: [\n    { text: \"空\", value: null },\n    { text: \"内\", value: \"内\" },\n    { text: \"外\", value: \"外\" },\n    { text: \"線\", value: \"線\" },\n  ],\n};\n\nconst SEED_BLUE_LABELS = {\n  speed: \"速度\",\n  stamina: \"耐力\",\n  power: \"力量\",\n  guts: \"根性\",\n  wisdom: \"智力\",\n};\nconst SEED_RED_LABELS = {\n  grass: \"草地\",\n  dirt: \"泥地\",\n  shortDistance: \"短距离\",\n  mile: \"英里\",\n  mediumDistance: \"中距离\",\n  longDistance: \"长距离\",\n  escapeR: \"逃\",\n  leadingR: \"先\",\n  insertR: \"差\",\n  trackingR: \"追\",\n};\nexport {\n  CDN_SERVER,\n  MOBILE_MENU_LIST,\n  PC_MENU_LIST,\n  EFFECT_LIMITS,\n  PLAYER_ADAPT_FILTERS,\n  PLAYER_GROW_FILTERS,\n  PLAYER_RARITIES,\n  PLAYER_ADAPT_TITLES,\n  SKILL_TYPES,\n  SKILL_CONDITION_OPTIONS,\n  SKILL_TYPE_OPTIONS,\n  SKILL_RARITY_OPTIONS,\n  SUPPORT_TYPE_OPTIONS,\n  DECK_LABELS,\n  RACE_FILTER_LIST,\n  SEED_BLUE_LABELS,\n  SEED_RED_LABELS\n};\n","import React, { useState } from \"react\";\nimport { Table } from \"antd\";\nimport { useDidRecover } from \"react-router-cache-route\";\nimport { useTranslation } from \"react-i18next\";\nimport { useDB } from \"../../hooks/index\";\nimport { RACE_FILTER_LIST } from \"@/config\";\n\nconst TITLE = \"比赛 - 乌拉拉大胜利 - 赛马娘资料站\";\n\nconst RACE_TABLE_LABELS = [\n  \"name\",\n  \"date\",\n  \"class\",\n  \"grade\",\n  \"place\",\n  \"ground\",\n  \"distance\",\n  \"distanceType\",\n  \"direction\",\n  \"side\",\n];\nconst labelTextDict = {\n  name: \"名称\",\n  date: \"时间\",\n  class: \"年级\",\n  grade: \"赛事等级\",\n  place: \"地点\",\n  ground: \"场地\",\n  distance: \"长度\",\n  distanceType: \"赛程\",\n  direction: \"方向\",\n  side: \"赛道\",\n};\nconst mediumLabels = [\"name\", \"date\", \"class\", \"grade\", \"ground\", \"distanceType\"];\n\nconst Race = (props) => {\n  const [selectedRowKeys, setSelectedRowKeys] = useState([]);\n  const { t } = useTranslation();\n  const db = useDB();\n\n  document.title = TITLE;\n  useDidRecover(() => {\n    document.title = TITLE;\n  });\n  const useViewport = () => {\n    // const [width, setWidth] = React.useState(window.innerWidth);\n    const [height, setHeight] = React.useState(window.innerHeight);\n    React.useEffect(() => {\n      const handleWindowResize = () => setHeight(window.innerHeight);\n      window.addEventListener(\"resize\", handleWindowResize);\n      return () => window.removeEventListener(\"resize\", handleWindowResize);\n    }, []);\n    return { height };\n  };\n\n  const dynamicTableHeight = useViewport().height - 168;\n  const getColumns = () => {\n    return RACE_TABLE_LABELS.map((label) => {\n      if (RACE_FILTER_LIST[\"class\"]) {\n        return {\n          title: t(labelTextDict[label]),\n          dataIndex: label,\n          filters: RACE_FILTER_LIST[label],\n          width: 100,\n          fixed: label === \"name\" ? \"left\" : null,\n          onFilter: (value, record) => record[label] === value,\n        };\n      } else {\n        return {\n          fixed: label === \"name\" ? \"left\" : null,\n          title: t(labelTextDict[label]),\n          dataIndex: label,\n        };\n      }\n    });\n  };\n  if (!db) return null;\n\n  const allRaceList = db\n    .get(\"races\")\n    .value()\n    .map((race, index) => {\n      race.key = index;\n      return race;\n    });\n  let columns = getColumns();\n  if (props.type === \"medium\") {\n    columns = getColumns(mediumLabels);\n  }\n  const onSelectChange = (selectedRowKeys, selectedRows) => {\n    let selected = {};\n    for (let race of selectedRows) {\n      if (selected[race.dateNum]) {\n        selected[race.dateNum].push(race.id);\n      } else {\n        selected[race.dateNum] = [race.id];\n      }\n    }\n    props.onSelect(selected);\n    setSelectedRowKeys(selectedRowKeys);\n  };\n  const rowSelection = {\n    selectedRowKeys,\n    onChange: onSelectChange,\n  };\n  // 筛选发生变化时清空已经选择的内容\n  const onChange = (pagination, filters, sorter, extra) => {\n    props.onSelect([]);\n    setSelectedRowKeys([]);\n  };\n  return (\n    <div className={\"w-full overflow-x-auto\"}>\n      <Table\n        rowSelection={props.onSelect ? rowSelection : null}\n        columns={columns}\n        dataSource={allRaceList}\n        onChange={onChange}\n        pagination={false}\n        scroll={{ y: dynamicTableHeight }}\n      />\n    </div>\n  );\n};\n\nexport default Race;\n","import { useState } from \"react\";\nimport { CDN_SERVER } from \"@/config\";\nimport { useTranslation } from \"react-i18next\";\nconst PlayerCard = (props) => {\n  const { data, onClick, className } = props;\n  const { t } = useTranslation();\n  const [show, setShow] = useState(true);\n  return data ? (\n    <div\n      className={`relative cursor-pointer ${className}`}\n      onClick={onClick}\n      style={{\n        paddingBottom: \"100%\",\n      }}\n    >\n      <div className=\"absolute top-3 left-1 right-1 bottom-2 flex items-center justify-center flex-wrap border-2 border-solid border-gray-500 rounded-lg\">\n        <p className=\"truncate\">{t(data.charaName)}</p>\n        <p className=\"truncate\">{t(data.name)}</p>\n      </div>\n      {show && (\n        <img\n          className=\"absolute top-0\"\n          style={{ aspectRatio: \"32 / 35\" }}\n          onError={() => setShow(false)}\n          alt={t(data.name)}\n          src={CDN_SERVER + data.imgUrl}\n          width={\"100%\"}\n        />\n      )}\n    </div>\n  ) : null;\n};\n\nexport default PlayerCard;\n","const EventCard = (props) => {\n  const { data, onClick, className } = props;\n  return data ? (\n    <div\n      className={`border border-solid border-gray-700 px-2 rounded truncate cursor-pointer ${className}`}\n      onClick={onClick}\n      data-tip={`<div>${data.choiceList\n        .map(\n          (choice, index) =>\n            `<div className=\"w-full flex\"><div>${choice[0]}</div><div>------</div>${choice[1]\n              .map((result) => `<div>${result}</div>`)\n              .join(\"\")}</div>`\n        )\n        .join(\"<div>===========</div>\")}</div>`}\n    >\n      {data.name}\n    </div>\n  ) : null;\n};\n\nexport default EventCard;\n","import { useState } from \"react\";\nimport { CDN_SERVER } from \"@/config\";\nimport { useTranslation } from \"react-i18next\";\nconst SkillCard = (props) => {\n  const { data, onClick, className } = props;\n  const { t } = useTranslation();\n  const [show, setShow] = useState(true);\n  return data ? (\n    <div\n      className={` rounded border-solid border-2  flex items-center cursor-pointer ${\n        data.rarity === 1 && \"bg-white\"\n      } ${data.rarity === 2 && \"bg-yellow-300\"} ${data.rarity === 3 && \" bg-purple-400\"} ${\n        data.rarity === 4 && \" bg-purple-400\"\n      } ${data.rarity === 5 && \" bg-purple-400\"} ${className}`}\n      onClick={onClick}\n      data-tip={`<div>${t(data.describe)}</div><div>${t(data.condition)}</div>`}\n    >\n      {show && (\n        <img\n          className=\"w-5 h-5 overflow-hidden\"\n          onError={() => setShow(false)}\n          alt={data.name}\n          src={CDN_SERVER + data.imgUrl}\n          preview=\"false\"\n        />\n      )}\n      <div className=\"flex-auto truncate\">{data.name}</div>\n    </div>\n  ) : null;\n};\n\nexport default SkillCard;\n","import { useState } from \"react\";\nimport { CDN_SERVER } from \"@/config\";\nimport { useTranslation } from \"react-i18next\";\nconst SupportCard = (props) => {\n  const { data, onClick, className } = props;\n  const { t } = useTranslation();\n  const [show, setShow] = useState(true);\n  return data ? (\n    <div\n      className={`relative cursor-pointer ${className}`}\n      onClick={onClick}\n      style={{\n        paddingBottom: \"134%\",\n      }}\n    >\n      <div className=\"absolute inset-1 flex items-center justify-center flex-wrap border-2 border-solid border-gray-500 rounded-lg\">\n        <p className=\"\">{t(data.charaName)}</p>\n        <p className=\"\">{t(data.name)}</p>\n      </div>\n      {show && (\n        <img\n          className=\"absolute top-0\"\n          onError={() => setShow(false)}\n          alt={data.name}\n          src={CDN_SERVER + data.imgUrl}\n          width={\"100%\"}\n        />\n      )}\n    </div>\n  ) : null;\n};\n\nexport default SupportCard;\n","import React from \"react\";\nimport { Table, Slider } from \"antd\";\n\nimport { useTranslation } from \"react-i18next\";\nimport { useDB } from \"../../hooks/index.js\";\n\nimport { EFFECT_LIMITS } from \"@/config\";\n\nconst getValue = (effect, cur) => {\n  if (effect[cur] !== -1) {\n    return effect[cur];\n  } else {\n    let index = EFFECT_LIMITS.indexOf(cur);\n    let min = 0;\n    let min_limit = \"init\";\n    let max = 0;\n    let max_limit = \"limit_lv50\";\n    for (let limit of EFFECT_LIMITS.slice(0, index)) {\n      if (effect[limit] > min) {\n        min = effect[limit];\n        min_limit = limit;\n      }\n    }\n    for (let limit of EFFECT_LIMITS.slice(index, EFFECT_LIMITS.length)) {\n      if (effect[limit] !== -1) {\n        max = effect[limit];\n        max_limit = limit;\n        break;\n      }\n    }\n    // cur=40 lv35=40 lv40=-1 lv50=-1\n    if (max <= min || max - min === 1 || min === 0) {\n      return min;\n    } else {\n      return (\n        <div data-tip=\"插值\">\n          {Math.floor(\n            min +\n              ((max - min) * (EFFECT_LIMITS.indexOf(cur) - EFFECT_LIMITS.indexOf(min_limit))) /\n                (EFFECT_LIMITS.indexOf(max_limit) - EFFECT_LIMITS.indexOf(min_limit))\n          )}\n        </div>\n      );\n    }\n  }\n};\nconst EffectTable = (props) => {\n  const { t } = useTranslation();\n  const db = useDB();\n  if (!db) return null;\n  const effects = db.get(\"effects\").value();\n  let columns = [\n    {\n      title: t(\"效果\"),\n      dataIndex: \"type\",\n      key: \"type\",\n      width: 200,\n      render: (type) => (\n        <p\n          data-tip={`<div><p>${effects[type].name}</p><p>${t(effects[type].name)}</p><p>${\n            effects[type].description\n          }</p><p>${t(effects[type].description)}</p></div>`}\n        >\n          {t(effects[type].name)}\n        </p>\n      ),\n    },\n    {\n      title: t(\"初始\"),\n      dataIndex: \"init\",\n      key: \"init\",\n      render: (div, record) => getValue(record, \"init\"),\n    },\n    {\n      title: \"lv25\",\n      dataIndex: \"limit_lv25\",\n      key: \"limit_lv25\",\n      render: (div, record) => getValue(record, \"limit_lv25\"),\n    },\n    {\n      title: \"lv30\",\n      dataIndex: \"limit_lv30\",\n      key: \"limit_lv30\",\n      render: (div, record) => getValue(record, \"limit_lv30\"),\n    },\n    {\n      title: \"lv35\",\n      dataIndex: \"limit_lv35\",\n      key: \"limit_lv35\",\n      render: (div, record) => getValue(record, \"limit_lv35\"),\n    },\n    {\n      title: \"lv40\",\n      dataIndex: \"limit_lv40\",\n      key: \"limit_lv40\",\n      render: (div, record) => getValue(record, \"limit_lv40\"),\n    },\n    {\n      title: \"lv45\",\n      dataIndex: \"limit_lv45\",\n      key: \"limit_lv45\",\n      render: (div, record) => getValue(record, \"limit_lv45\"),\n    },\n    {\n      title: \"lv50\",\n      dataIndex: \"limit_lv50\",\n      key: \"limit_lv50\",\n      render: (div, record) => getValue(record, \"limit_lv50\"),\n    },\n  ];\n  if (props.rarity === 2) {\n    columns = columns.slice(0, columns.length - 1);\n  } else if (props.rarity === 1) {\n    columns = columns.slice(0, columns.length - 2);\n  }\n\n  return (\n    <div className=\"w-full overflow-x-auto\">\n      <Table columns={columns} dataSource={props.effects} divKey=\"type\" pagination={false}></Table>\n    </div>\n  );\n};\n\nconst getEffectMark = (maxLevel) => {\n  let ok = {\n    1: \"lv1\",\n    5: \"lv5\",\n    10: \"lv10\",\n    15: \"lv15\",\n    20: \"lv20\",\n    25: \"lv25\",\n    30: \"lv30\",\n    35: \"lv35\",\n    40: \"lv40\",\n  };\n  if (maxLevel >= 45) {\n    ok[45] = \"lv45\";\n  }\n  if (maxLevel === 50) {\n    ok[50] = \"lv50\";\n  }\n  return ok;\n};\n\nconst TestEffectTable = (props) => {\n  const { t } = useTranslation();\n  const getMaxLevel = (rarity) => {\n    switch (rarity) {\n      case 1:\n        return 40;\n      case 2:\n        return 45;\n      case 3:\n        return 50;\n      default:\n        return 1;\n    }\n  };\n  const maxLevel = getMaxLevel(props.rarity);\n  const [selectingLevel, setSelectingLevel] = React.useState(maxLevel);\n  const calc = (data, input) => {\n    let nodes = [];\n    let output = 0;\n    let prevNode = { level: 0, value: 0 };\n    for (let i = 0; i < data.length; i += 1) {\n      if (data[i] !== -1) {\n        let level = i * 5;\n        if (level === 0) {\n          level = 1;\n        }\n        nodes.push({ level: level, value: data[i] });\n        prevNode = { level: level, value: data[i] };\n      }\n      if (i === data.length - 1 && data[i] === -1) {\n        nodes.push({ level: maxLevel, value: prevNode.value });\n      }\n    }\n    nodes.push({ level: 999, value: prevNode.value }); // 以后万一出SSSR？确保一定能找到区间。\n\n    const level = Math.floor(input);\n    let upperNode = { level: 0, value: 0 };\n    let lowerNode = { level: 0, value: 0 };\n    if (level < 0 || level > maxLevel) {\n      output = 0;\n    } else if (level < nodes[0].level) {\n      output = 0;\n    } else {\n      for (let i = 0; i < nodes.length; i += 1) {\n        if (level >= nodes[i].level && level < nodes[i + 1].level) {\n          lowerNode = nodes[i];\n          upperNode = nodes[i + 1] || nodes[i];\n          break;\n        }\n      }\n      output = Math.floor(\n        ((upperNode.value - lowerNode.value) / (upperNode.level - lowerNode.level)) *\n          (level - lowerNode.level) +\n          lowerNode.value\n      );\n    }\n\n    return output;\n  };\n  const db = useDB();\n  if (!db) return null;\n  const effects = db.get(\"effects\").value();\n  return (\n    <div>\n      {props.unique_effect && (\n        <>\n          <div className=\"flex w-full items-center justify-between p-2\">\n            <div>{t(\"固有效果\")}</div>\n            <div>{`${t(\"激活等级\")}:${props.unique_effect.lv}`}</div>\n          </div>\n          <div className=\"w-full grid grid-cols-2 gap-2\">\n            {[\"0\", \"1\"].map((index) =>\n              props.unique_effect[`type_${index}`] ? (\n                <div\n                  key={index}\n                  className=\"col-span-1 flex items-center rounded-xl border border-solid bg-green-300 border-green-500\"\n                >\n                  <div\n                    className=\"flex-auto truncate pl-2\"\n                    data-tip={`<div><p>${\n                      effects[props.unique_effect[`type_${index}`]]?.name\n                    }</p><p>${t(effects[props.unique_effect[`type_${index}`]]?.name)}</p><p>${\n                      effects[props.unique_effect[`type_${index}`]]?.description\n                    }</p><p>${t(\n                      effects[props.unique_effect[`type_${index}`]]?.description\n                    )}</p></div>`}\n                  >\n                    {t(effects[props.unique_effect[`type_${index}`]]?.name)}\n                  </div>\n                  <div className=\"bg-white h-full w-10 md:w-24 rounded-r-xl pl-2 flex items-center flex-shrink-0\">\n                    {props.unique_effect[`value_${index}`]}\n                  </div>\n                </div>\n              ) : null\n            )}\n          </div>\n        </>\n      )}\n      <div className=\"w-full flex items-center\">\n        <div className=\"mr-2\">{t(\"设置等级\")}</div>\n        <Slider\n          className=\"flex-auto\"\n          min={1}\n          max={maxLevel}\n          value={selectingLevel}\n          onChange={(value) => {\n            setSelectingLevel(value);\n          }}\n          marks={getEffectMark(maxLevel)}\n        />\n      </div>\n      <div className=\"w-full grid grid-cols-2 gap-2 \">\n        {props.effects?.map((item, index) => {\n          const data = [\n            item.init,\n            item.limit_lv5,\n            item.limit_lv10,\n            item.limit_lv15,\n            item.limit_lv20,\n            item.limit_lv25,\n            item.limit_lv30,\n            item.limit_lv35,\n            item.limit_lv40,\n            item.limit_lv45,\n            item.limit_lv50,\n          ].filter((item) => item);\n          return (\n            <div\n              key={item.type}\n              className=\"col-span-1 flex items-center rounded-xl border border-solid bg-green-300 border-green-500\"\n            >\n              <div\n                className=\"flex-auto truncate pl-2\"\n                data-tip={`<div><p>${effects[item.type].name}</p><p>${t(\n                  effects[item.type].name\n                )}</p><p>${effects[item.type].description}</p><p>${t(\n                  effects[item.type].description\n                )}</p></div>`}\n              >\n                {t(effects[item.type].name)}\n              </div>\n              <div className=\"bg-white h-full w-10 md:w-24 rounded-r-xl pl-2 flex items-center flex-shrink-0\">\n                {calc(data, selectingLevel)}\n              </div>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport { EffectTable, TestEffectTable };\n","import React from \"react\";\n\nimport { useDB } from \"../../hooks/index.js\";\nimport { useTranslation } from \"react-i18next\";\n\nimport EventList from \"../event/EventList\";\nimport SkillList from \"../skill/SkillList\";\nimport { EffectTable, TestEffectTable } from \"../effect\";\nimport { CDN_SERVER } from \"@/config\";\n\nconst SupportDetail = (props) => {\n  const { t } = useTranslation();\n  const db = useDB();\n  if (!db) return null;\n  const id = props.id;\n  const data = props.data || db.get(\"supports\").find({ id }).value();\n  return data ? (\n    <div className=\"w-full flex flex-col p-3 overflow-x-hidden\">\n      <div className=\"h-16 w-full flex flex-shrink-0\">\n        <img alt={data.name} src={CDN_SERVER + data.imgUrl} height={64} width={48} />\n        <div className=\"flex-auto flex flex-wrap h-full items-center\">\n          <div className=\"w-full flex items-center justify-between\">\n            <div className=\"flex-auto text-xl font-semibold truncate\">{data.name}</div>\n            <div className=\"flex-shrink-0 text-gray-700 truncate\">{t(data.name)}</div>\n          </div>\n          <div className=\"w-full flex items-center justify-between\">\n            <div className=\"flex-auto text-xl font-semibold truncate\">{data.charaName}</div>\n            <div className=\"flex-shrink-0 text-gray-700 truncate\">{t(data.charaName)}</div>\n          </div>\n        </div>\n      </div>\n      <div>{t(\"事件\")}</div>\n      <EventList idList={data.eventList} pid={data.id} />\n      <div>{t(\"事件技能\")}</div>\n      <SkillList idList={data.trainingEventSkill} />\n      <div>{t(\"训练技能\")}</div>\n      <SkillList idList={data.possessionSkill} />\n      <TestEffectTable\n        effects={data.effects}\n        unique_effect={data.unique_effect}\n        rarity={data.rarity}\n      />\n      <EffectTable effects={data.effects} rarity={data.rarity} />\n    </div>\n  ) : null;\n};\nexport default SupportDetail;\n","import React, { useState, useEffect } from \"react\";\nimport ReactTooltip from \"react-tooltip\";\n\nimport Modal from \"@material-tailwind/react/Modal\";\nimport ModalBody from \"@material-tailwind/react/ModalBody\";\nimport ModalHeader from \"@material-tailwind/react/ModalHeader\";\n\nimport { useDB } from \"../../hooks/index.js\";\nimport { useTranslation } from \"react-i18next\";\nconst List = ({\n  className,\n  listKey,\n  sort,\n  filterFunc,\n  idList,\n  dataList,\n  itemRender,\n  itemClass,\n  detailRender,\n  detailModalSize,\n}) => {\n  const { t } = useTranslation();\n  const [show, setShow] = React.useState(false);\n  const [cur, setCur] = useState(null);\n  useEffect(() => {\n    ReactTooltip.rebuild();\n  });\n  const db = useDB();\n  if (!db) return null;\n\n  const list = dataList\n    ? dataList\n    : idList\n    ? idList.reduce((list, cur) => {\n        return [...list, db.get(listKey).find({ id: cur }).value()];\n      }, [])\n    : db.get(listKey).value();\n\n  const showModal = (cur) => {\n    setCur(cur);\n    setShow(true);\n  };\n\n  const modal = (\n    <Modal size={\"lg\"} active={show} toggler={() => setShow(false)}>\n      {cur?.name && <ModalHeader toggler={() => setShow(false)}>{cur.name}</ModalHeader>}\n      <ModalBody>{detailRender(cur)}</ModalBody>\n    </Modal>\n  );\n\n  if (!list) return null;\n  if (sort) {\n    return (\n      <div className={` flex flex-wrap ${className}`}>\n        {sort.data.map((sortItem) => {\n          let sortList = list.filter((item) => {\n            let flag = false;\n            if (sort.key && sortItem.value) {\n              flag = item[sort.key] === sortItem.value;\n            }\n            if (sortItem.func) {\n              flag = sortItem.func(item);\n            }\n            return flag;\n          });\n          if (!sortList.length) return null;\n\n          return (\n            <>\n              <div key={sortItem.title} className=\"w-full text-lg font-semibold text-center\">\n                {t(sortItem.title)}\n              </div>\n              {sortList.map((data) => itemRender(data, showModal))}\n              {itemClass && (\n                <>\n                  {[...new Array(20)].map((e, i) => (\n                    <div key={`blank_${i}`} className={itemClass} />\n                  ))}\n                </>\n              )}\n            </>\n          );\n        })}\n        {modal}\n      </div>\n    );\n  } else {\n    return (\n      <div className={` flex flex-wrap ${className}`}>\n        {list\n          .filter((data) => (filterFunc ? filterFunc(data) : true))\n          .map((data) => itemRender(data, showModal))}\n        {modal}\n      </div>\n    );\n  }\n};\n\nexport default List;\n","const useUa = () => {\n  const ua = {};\n  ua.ios = /iPhone/.test(navigator.userAgent) || navigator.maxTouchPoints > 2;\n  ua.android = /Android \\d/.test(navigator.userAgent);\n  ua.isPhone = ua.ios || ua.android;\n  return ua;\n};\n\nexport default useUa;\n","import React from \"react\";\nimport { useHistory } from \"react-router\";\nimport SupportCard from \"./SupportCard\";\nimport SupportDetail from \"./SupportDetail\";\nimport List from \"../common/List\";\nimport useUa from \"../../utils/ua\";\nconst SupportList = ({ className, dataList, onClick, sortFlag = false, ownList }) => {\n  const ua = useUa();\n  const history = useHistory();\n  const sort = sortFlag\n    ? {\n        key: \"rare\",\n        data: [\n          { value: \"SSR\", title: \"SSR\" },\n          { value: \"SR\", title: \"SR\" },\n          { value: \"R\", title: \"R\" },\n        ],\n      }\n    : null;\n  return (\n    <List\n      className={className}\n      listKey=\"supports\"\n      dataList={dataList}\n      sort={sort}\n      onClick={onClick}\n      itemRender={(data, setCur) => (\n        <div key={data.id} className=\"w-24 max-w-1/4 p-1\">\n          <SupportCard\n            className={`${ownList?.length && !ownList?.includes(data.id) && \"un-chosen-card\"}`}\n            data={data}\n            onClick={() =>\n              onClick\n                ? onClick(data)\n                : ua.isPhone\n                ? history.push(`/support-detail/${data.id}`)\n                : setCur(data)\n            }\n          />\n        </div>\n      )}\n      itemClass={\"w-24 max-w-1/4\"}\n      detailRender={(data) => <SupportDetail data={data} isNur={false} />}\n      // detailModalSize='regular'\n    />\n  );\n};\n\nexport default SupportList;\n","import React from \"react\";\nimport SupportList from \"../support/SupportList\";\nimport PlayerList from \"../player/PlayerList\";\n\nimport { useDB } from \"../../hooks/index.js\";\nimport { SKILL_TYPES, CDN_SERVER } from \"@/config\";\n\nimport { useTranslation } from \"react-i18next\";\n\nconst SkillDetail = (props) => {\n  const { t } = useTranslation();\n  const db = useDB();\n  if (!db) return null;\n  const id = props.id;\n  const data = props.data || db.get(\"skills\").find({ id }).value();\n  const isNur = props.isNur !== undefined ? props.isNur : parseInt(props.match?.params?.nur);\n  const supportList = db\n    .get(\"supports\")\n    .filter((support) => {\n      let flag = 0;\n      support.skillList.forEach((id) => {\n        if (id === data?.id) {\n          flag = 1;\n        }\n      });\n      return flag;\n    })\n\n    .sort((a, b) => b.rarity - a.rarity)\n    .value();\n  const playerList = db\n    .get(\"players\")\n    .filter((player) => {\n      let flag = 0;\n      player.skillList.forEach((id) => {\n        if (id === data?.id) {\n          flag = 1;\n        }\n      });\n      return flag;\n    })\n    .sort((a, b) => b.rarity - a.rarity)\n    .value();\n\n  if (!data) return null;\n  return (\n    <div\n      className=\"w-full flex flex-col p-3\"\n      style={{\n        maxWidth: \"calc(100vw - 40px)\",\n      }}\n    >\n      <div className=\"w-full flex mb-1 bg-gray-100 items-center\">\n        <div className=\"w-20 flex items-center justify-center\">\n          <img alt={data.name} src={CDN_SERVER + data.imgUrl} className=\"w-14\" />\n        </div>\n        <div className=\"flex-auto\">\n          <p>{t(data.name)}</p>\n          <p className=\"text-gray-500\">{data.name}</p>\n        </div>\n      </div>\n      <div className=\"w-full flex mb-1\">\n        <div className=\"w-20 text-center flex-shrink-0\">{t(\"技能描述\")}</div>\n        <div className=\"flex-auto\">\n          <p>{t(data.describe)}</p>\n          <p className=\"text-gray-500\">{data.describe}</p>\n        </div>\n      </div>\n      <div className=\"w-full flex mb-1 bg-gray-100\">\n        <div className=\"w-20 text-center flex-shrink-0\">{t(\"触发条件\")}</div>\n        <div className=\"flex-auto\">\n          <p>{t(data.condition)}</p>\n          <p className=\"text-gray-500\">{data.condition}</p>\n        </div>\n      </div>\n      <div className=\"w-full flex mb-1\">\n        <div className=\"w-20 text-center flex-shrink-0\">{t(\"技能效果\")}</div>\n        <div className=\"flex-auto\">\n          {data.ability?.map((ability) => {\n            return (\n              <span key={ability.type}>{`${SKILL_TYPES[ability.type]} ${\n                ability.value / 10000\n              }`}</span>\n            );\n          })}\n        </div>\n      </div>\n      <div className=\"w-full flex mb-1 bg-gray-100\">\n        <div className=\"w-20 text-center flex-shrink-0\">{t(\"持续时间\")}</div>\n        <div className=\"flex-auto\">{`${data.ability_time / 10000}s * ${t(\n          \"赛道长度\"\n        )} / 1000}`}</div>\n      </div>\n      <div className=\"w-full flex mb-1\">\n        <div className=\"w-20 text-center flex-shrink-0\">{t(\"冷却时间\")}</div>\n        <div className=\"flex-auto\">{`${data.cooldown / 10000}s * ${t(\"赛道长度\")} / 1000`}</div>\n      </div>\n      <div className=\"w-full flex mb-1 bg-gray-100\">\n        <div className=\"w-20 text-center flex-shrink-0\">{t(\"技能价格\")}</div>\n        <div className=\"flex-auto\">{data.need_skill_point}</div>\n      </div>\n      <div className=\"w-full flex mb-1\">\n        <div className=\"w-20 text-center flex-shrink-0\">{t(\"技能评分\")}</div>\n        <div className=\"flex-auto\">{data.grade_value}</div>\n      </div>\n      {!isNur && (\n        <>\n          {supportList.length > 0 && (\n            <>\n              <div>{t(\"支援卡\")}</div>\n              <SupportList className=\"w-full\" dataList={supportList} sortFlag={false} />\n            </>\n          )}\n          {playerList.length > 0 && (\n            <>\n              <div>{t(\"角色\")}</div>\n              <PlayerList className=\"w-full\" dataList={playerList} />\n            </>\n          )}\n          {/* {data.events?.length > 0 && (\n            <>\n              <div>{t(\"事件\")}</div>\n              <EventList className=\"w-full\" idList={data.events} />\n            </>\n          )} */}\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default SkillDetail;\n","import React from \"react\";\nimport SkillCard from \"./SkillCard\";\nimport SkillDetail from \"./SkillDetail\";\nimport List from \"../common/List\";\nconst SkillList = ({ className, idList, dataList, onClick, sortFlag = false, size = \"medium\" }) => {\n  const sort = {\n    key: \"rare\",\n    data: [\n      { value: \"ノーマル\", title: \"普通\" },\n      { value: \"レア\", title: \"金色 稀有\" },\n      { value: \"固有\", title: \"独特\" },\n    ],\n  };\n  return (\n    <List\n      className={className}\n      listKey=\"skills\"\n      idList={idList}\n      dataList={dataList}\n      sort={sortFlag && sort}\n      itemRender={(data, setCur) => (\n        <div\n          key={data.id}\n          className={`${size === \"medium\" && \"w-1/3 md:max-w-none md:w-unset h-8 p-1 md:p-2\"} ${\n            size === \"small\" && \"h-6 p-1\"\n          }`}\n        >\n          <SkillCard\n            className={\"md:px-1 \"}\n            data={data}\n            onClick={\n              () => (onClick ? onClick(data) : setCur(data))\n              // ua.isPhone\n              // ? history.push(`/skill-detail/${data.id}`)\n              // : setCur(data)\n            }\n          />\n        </div>\n      )}\n      detailRender={(data) => <SkillDetail data={data} isNur={false} />}\n      // detailModalSize='regular'\n    />\n  );\n};\n\nexport default SkillList;\n","import SkillList from \"../skill/SkillList\";\nimport { useTranslation } from \"react-i18next\";\nconst EventDetail = ({ data }) => {\n  const { t } = useTranslation();\n  return data ? (\n    <>\n      <div className=\"font-semibold mb-1\">{data.name}</div>\n      <div className=\"font-semibold mb-1\">{t(data.name)}</div>\n      {data.choiceList.map((choice, index) => (\n        <div\n          key={choice}\n          className={`w-full flex py-2 ${index % 2 === 0 ? \"bg-white\" : \"bg-gray-100\"}`}\n        >\n          <div className=\"w-1/3 mr-4\">\n            <p>{choice[0]}</p>\n            <p>{t(choice[0])}</p>\n          </div>\n          <div className=\"flex-auto\">\n            {choice[1].map((result) => (\n              <p key={result}>{result}</p>\n            ))}\n          </div>\n        </div>\n      ))}\n      {data.skills && (\n        <>\n          <div className=\"font-semibold mb-1\">{t(\"技能\")}</div>\n          <SkillList idList={data.skills || []} />\n        </>\n      )}\n    </>\n  ) : null;\n};\nexport default EventDetail;\n","import React from \"react\";\n\nimport EventCard from \"./EventCard\";\nimport EventDetail from \"./EventDetail\";\nimport List from \"../common/List\";\n\nconst EventList = ({ dataList, idList, onClick, sortFlag = false, type = \"all\" }) => {\n  const sort = sortFlag\n    ? {\n        data: [\n          { title: \"切れ者\", func: (data) => JSON.stringify(data)?.indexOf(\"切れ者\") !== -1 },\n          { title: \"有选项\", func: (data) => data?.choiceList.length > 1 },\n          { title: \"无选项\", func: (data) => data?.choiceList.length <= 1 },\n        ],\n      }\n    : null;\n  const filterFunc =\n    type === \"multi\"\n      ? (data) => {\n          return data?.choiceList.length > 1;\n        }\n      : null;\n  return (\n    <List\n      listKey=\"events\"\n      dataList={dataList}\n      idList={idList}\n      sort={sort}\n      filterFunc={filterFunc}\n      onClick={onClick}\n      className=\"\"\n      itemRender={(item, setCur) => (\n        <EventCard\n          className=\"mr-1 mb-1\"\n          data={item}\n          onClick={() => (onClick ? onClick(item) : setCur(item))}\n        />\n      )}\n      detailRender={(item) => <EventDetail data={item} isNur={false} />}\n    />\n  );\n};\n\nexport default EventList;\n","import React, { useState } from \"react\";\nimport Button from \"@material-tailwind/react/Button\";\n\nimport { Row, Col, Timeline, Checkbox } from \"antd\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { useDB } from \"../../hooks/index.js\";\n\nconst RaceSchedule = (props) => {\n  // const { t } = useTranslation();\n  const  db = useDB();\n  if (!db) return null;\n  // const races = db.get('races').value()\n  const str = [];\n  const getDate = (i) => {\n    let year = Math.floor(i / 24) + 1;\n    let month = Math.floor((i - (year - 1) * 24) / 2) + 1;\n    let moment = i % 2 ? \"后\" : \"前\";\n    return `${year}年${month}月${moment}`;\n  };\n  for (let i = 13; i < 72; i++) {\n    let curRace;\n    if (props.raceList && props.raceList[i]) {\n      curRace = db.get(\"races\").find({ id: props.raceList[i].id }).value();\n      str.push(\n        <Col span={6} key={i} style={{ backgroundColor: \"#ff6b81\", border: \"1px solid #2f3542\" }}>\n          {getDate(i)}\n          <br />\n          {`${curRace.name}/${curRace.distanceType}/${props.raceList[i].goal}`}\n          {/* -{curRace.date} */}\n        </Col>\n      );\n    } else if (props.filterRace && props.filterRace[i]) {\n      str.push(\n        <Col\n          span={6}\n          key={i}\n          style={{\n            backgroundColor: \"#7bed9f\",\n            border: \"1px solid #2f3542\",\n            whiteSpace: \"pre-line\",\n          }}\n        >\n          {getDate(i)}\n          <br />\n          {props.filterRace[i].map((raceId) => {\n            let curRace = db.get(\"races\").find({ id: raceId }).value();\n            return `${curRace.name}/${curRace.grade}/${curRace.distanceType}\\n`;\n          })}\n        </Col>\n      );\n    } else {\n      str.push(\n        <Col span={6} key={i} style={{ backgroundColor: \"#a4b0be\", border: \"1px solid #2f3542\" }}>\n          {getDate(i)}\n        </Col>\n      );\n    }\n  }\n  return <Row style={{ color: \"black\" }}>{str}</Row>;\n};\n\nconst raceGolds = [\n  { name: \"传统三冠\", raceNames: [\"皐月賞30\", \"日本ダービー東京優駿33\", \"菊花賞43\"] },\n  { name: \"春日三冠\", raceNames: [\"大阪杯53\", \"天皇賞春55\", \"宝塚記念59\"] },\n  { name: \"秋日三冠\", raceNames: [\"天皇賞秋67\", \"ジャパンカップ69\", \"有馬記念71\"] },\n  { name: \"天皇春秋\", raceNames: [\"天皇賞春55\", \"天皇賞秋67\"] },\n  { name: \"纪念春秋Ⅰ\", raceNames: [\"宝塚記念35\", \"有馬記念47\"] },\n  { name: \"纪念春秋Ⅱ\", raceNames: [\"宝塚記念59\", \"有馬記念71\"] },\n  { name: \"母马三冠\", raceNames: [\"桜花賞30\", \"オークス33\", \"秋華賞43\"] },\n  { name: \"英里春秋Ⅰ\", raceNames: [\"安田記念34\", \"マイルチャンピオンシップ45\"] },\n  { name: \"英里春秋Ⅱ\", raceNames: [\"安田記念58\", \"マイルチャンピオンシップ69\"] },\n  { name: \"泥地春秋\", raceNames: [\"フェブラリーステークス51\", \"チャンピオンズカップ70\"] },\n  { name: \"短距春秋\", raceNames: [\"高松宮記念53\", \"スプリンターズステークス65\"] },\n];\nconst getGolds = (race) => {\n  return raceGolds\n    .reduce((golds, raceGold) => {\n      if (raceGold.raceNames.indexOf(race.uniqueName) !== -1) {\n        golds.push(\n          `${raceGold.name} ${raceGold.raceNames.indexOf(race.uniqueName) + 1}/${\n            raceGold.raceNames.length\n          }`\n        );\n      }\n      return golds;\n    }, [])\n    .join(\" , \");\n};\n\nconst RaceTimeline = React.memo((props) => {\n  const { t } = useTranslation();\n  const [showSpare, setShowSpare] = useState(false);\n  const  db = useDB();\n  if (!db) return null;\n  const { showButton } = props;\n  const str = [];\n\n  const getDate = (i) => {\n    let year = Math.floor(i / 24) + 1;\n    let month = Math.floor((i - (year - 1) * 24) / 2) + 1;\n    month = month < 10 ? `\\xa0\\xa0${month}` : month;\n    let moment = i % 2 ? \"后\" : \"前\";\n    return `${year}年\\xa0${month}月${moment}`;\n  };\n  const getColor = (grade) => {\n    switch (grade) {\n      case \"G1\":\n        return \"blue\";\n      case \"G2\":\n        return \"pink\";\n      case \"G3\":\n        return \"green\";\n      case \"OP\":\n        return \"orange\";\n      case \"Pre-OP\":\n        return \"orange\";\n      default:\n        return \"gray\";\n    }\n  };\n  for (let i = 13; i < 72; i++) {\n    let curRace, id, golds;\n    if (props.raceList && props.raceList[i]) {\n      id = props.raceList[i].id;\n      curRace = db.get(\"races\").find({ id }).value();\n      golds = getGolds(curRace);\n      str.push(\n        <Timeline.Item label={getDate(i)} color=\"red\" className=\"text-base\" key={id}>\n          {`${curRace.grade} / ${curRace.distanceType} / ${curRace.distance} / ${curRace.name} / ${\n            props.raceList[i].goal || \"参赛\"\n          }\n          ${golds ? \" / \" + golds : \"\"}`}\n        </Timeline.Item>\n      );\n    } else if (props.filterRace && props.filterRace[i]) {\n      props.filterRace[i].forEach((id, index) => {\n        curRace = db.get(\"races\").find({ id }).value();\n        golds = getGolds(curRace);\n        str.push(\n          <Timeline.Item\n            label={index === 0 ? getDate(i) : null}\n            color={getColor(curRace.grade)}\n            style={{ fontSize: \"14px\" }}\n            key={id}\n          >\n            {`${curRace.grade} / ${curRace.distanceType} / ${curRace.distance} / ${curRace.name}\n            ${golds ? \" / \" + golds : \"\"}`}\n          </Timeline.Item>\n        );\n      });\n    } else {\n      //普通\n      showSpare &&\n        str.push(\n          <Timeline.Item\n            label={getDate(i)}\n            color={getColor(\"normal\")}\n            style={{ fontSize: \"12px\" }}\n          />\n        );\n    }\n  }\n  return (\n    <>\n      {showButton && (\n        <Button onClick={() => setShowSpare(!showSpare)}>\n          {showSpare ? t(\"隐藏空闲月份\") : t(\"显示空闲月份\")}\n        </Button>\n      )}\n      <Timeline mode=\"left\">{str}</Timeline>\n    </>\n  );\n});\nconst RaceCheckbox = (props) => {\n  const [raceFilterCondition, setRaceFilterCondition] = useState(props.raceFilterCondition);\n\n  const filterList = {\n    distanceType: [\n      { label: \"短距離\", value: \"短距離\" },\n      { label: \"マイル\", value: \"マイル\" },\n      { label: \"中距離\", value: \"中距離\" },\n      { label: \"長距離\", value: \"長距離\" },\n    ],\n    grade: [\n      { label: \"Pre-OP\", value: \"Pre-OP\" },\n      { label: \"OP\", value: \"OP\" },\n      { label: \"G1\", value: \"G1\" },\n      { label: \"G2\", value: \"G2\" },\n      { label: \"G3\", value: \"G3\" },\n    ],\n    ground: [\n      { label: \"芝\", value: \"芝\" },\n      { label: \"ダート\", value: \"ダート\" },\n    ],\n  };\n  const onChange = (checkedValues, type) => {\n    let tmpObj = {};\n    tmpObj[type] = checkedValues;\n    props.onChange({ ...raceFilterCondition, ...tmpObj });\n    setRaceFilterCondition({ ...raceFilterCondition, ...tmpObj });\n  };\n  return (\n    <>\n      {Object.keys(filterList).map((key) => (\n        <div key={key}>\n          <Checkbox.Group\n            options={filterList[key]}\n            defaultValue={props.raceFilterCondition[key]}\n            onChange={(checkedValues) => onChange(checkedValues, key)}\n          />\n        </div>\n      ))}\n    </>\n  );\n};\nexport { RaceSchedule, RaceTimeline, RaceCheckbox };\n","import React from \"react\";\n\nimport { CDN_SERVER } from \"@/config\";\nimport EventList from \"../event/EventList\";\nimport SkillList from \"../skill/SkillList\";\n// import RaceList from './player-race.js'\nimport {\n  // RaceSchedule,\n  RaceTimeline,\n} from \"../race\";\n// import {EffectTable} from './effect.js'\nimport { useDB } from \"../../hooks/index.js\";\nimport { useTranslation } from \"react-i18next\";\nconst PlayerItem = ({ data }) => {\n  const { name, imgUrl, charaName } = data;\n  const { t } = useTranslation();\n  return (\n    <div className=\"h-16 w-full flex flex-shrink-0\">\n      <img alt={name} src={CDN_SERVER + imgUrl} height={64} width={64} />\n      <div className=\"flex-auto flex flex-wrap h-full items-center\">\n        <div className=\"w-full flex items-center justify-between\">\n          <div className=\" text-xl font-semibold truncate\">{name}</div>\n          <div className=\"flex-shrink-0 text-gray-700 truncate\">{t(name)}</div>\n        </div>\n        <div className=\"w-full flex items-center justify-between\">\n          <div className=\" text-xl font-semibold truncate\">{charaName}</div>\n          <div className=\"flex-shrink-0 text-gray-700 truncate\">{t(charaName)}</div>\n        </div>\n      </div>\n    </div>\n  );\n};\nconst PlayerDetail = (props) => {\n  const { t } = useTranslation();\n  const db = useDB();\n  if (!db) return null;\n  const id = props.id || props.match?.params?.id;\n  // 是否育成 育成顺序样式不同\n  const isNur = props.isNur ?? parseInt(props.match?.params?.nur);\n  const data = props.data || db.get(\"players\").find({ id }).value();\n  if (!data) return null;\n\n  if (isNur) {\n    return (\n      <div className=\"w-full flex flex-col  p-3\">\n        <PlayerItem data={data} />\n        <div>{t(\"多选项事件\")}</div>\n        <EventList idList={data.eventList0} />\n        <div>{t(\"赛后事件\")}</div>\n        <EventList idList={data.eventList2} />\n        <div>{t(\"通用事件\")}</div>\n        <EventList idList={data.eventList3} />\n        <div>{t(\"隐藏事件\")}</div>\n        <EventList idList={data.hideEvent} type=\"all\" />\n        <div>{t(\"赛程\")}</div>\n        {/* <RaceSchedule raceList={data.raceList}/> */}\n        <RaceTimeline raceList={data.raceList} showButton={false} />\n        <div>{t(\"技能\")}</div>\n        <SkillList idList={data.skillList} />\n      </div>\n    );\n  } else {\n    return (\n      <div className=\"w-full flex flex-col  p-3\">\n        <PlayerItem data={data} />\n        <AdaptBox player={data} />\n        <div className=\"h-2\"></div>\n        <GrowBox player={data} />\n        <div className=\"h-2\"></div>\n        <SkillList idList={data.skillList} />\n        <div>{t(\"多选项事件\")}</div>\n        <EventList idList={data.eventList0} />\n        <div>{t(\"无选项事件\")}</div>\n        <EventList idList={data.eventList1} />\n        <div>{t(\"赛后事件\")}</div>\n        <EventList idList={data.eventList2} />\n        <div>{t(\"通用事件\")}</div>\n        <EventList idList={data.eventList3} />\n        <div>{t(\"隐藏事件\")}</div>\n        <EventList idList={data.eventList4} />\n        <div>{t(\"赛程\")}</div>\n        {/* <RaceSchedule raceList={data.raceList}/> */}\n        <RaceTimeline raceList={data.raceList} />\n      </div>\n    );\n  }\n};\n\nconst coloredGradeText = (text) => {\n  let color = \"gray\";\n  switch (text) {\n    case \"S\":\n      color = \"#FFD700\";\n      break;\n    case \"A\":\n      color = \"#FFA500\";\n      break;\n    case \"B\":\n      color = \"#BA55D3\";\n      break;\n    case \"C\":\n      color = \"#90EE90\";\n      break;\n    case \"D\":\n      color = \"#87CEEB\";\n      break;\n    default:\n      color = \"gray\";\n  }\n  return (\n    <div style={{ fontSize: 22, fontWeight: 700, textShadow: \"0 2px #33333370\", color: color }}>\n      {text}\n    </div>\n  );\n};\nconst AdaptBox = (props) => {\n  const { t } = useTranslation();\n\n  return (\n    <div className=\"my-1 rounded-lg border border-solid border-gray-500 grid grid-cols-5\">\n      <div className=\"col-span-1 md_text-xl bg-green-400 text-gray-700 flex justify-center items-center\">\n        {t(\"场地适应\")}\n      </div>\n      <div className=\"col-span-1 flex items-center justify-around\">\n        {[`${t(\"芝\")}`, coloredGradeText(props.player.grass)]}\n      </div>\n      <div className=\"col-span-1 flex items-center justify-around\">\n        {[`${t(\"ダート\")}`, coloredGradeText(props.player.dirt)]}\n      </div>\n      <div className=\"col-span-2\"></div>\n      <div className=\"col-span-1 md_text-xl bg-green-400 text-gray-700 flex justify-center items-center\">\n        {t(\"赛程适应\")}\n      </div>\n      <div className=\"col-span-1 flex items-center justify-around\">\n        {[`${t(\"短距離\")}`, coloredGradeText(props.player.shortDistance)]}\n      </div>\n      <div className=\"col-span-1 flex items-center justify-around\">\n        {[`${t(\"マイル\")}`, coloredGradeText(props.player.mile)]}\n      </div>\n      <div className=\"col-span-1 flex items-center justify-around\">\n        {[`${t(\"中距離\")}`, coloredGradeText(props.player.mediumDistance)]}\n      </div>\n      <div className=\"col-span-1 flex items-center justify-around\">\n        {[`${t(\"長距離\")}`, coloredGradeText(props.player.longDistance)]}\n      </div>\n      <div className=\"col-span-1 md_text-xl bg-green-400 text-gray-700 flex justify-center items-center\">\n        {t(\"脚质适应\")}\n      </div>\n      <div className=\"col-span-1 flex items-center justify-around\">\n        {[`${t(\"逃げ\")}`, coloredGradeText(props.player.escape)]}\n      </div>\n      <div className=\"col-span-1 flex items-center justify-around\">\n        {[`${t(\"先行\")}`, coloredGradeText(props.player.leading)]}\n      </div>\n      <div className=\"col-span-1 flex items-center justify-around\">\n        {[`${t(\"差し\")}`, coloredGradeText(props.player.insert)]}\n      </div>\n      <div className=\"col-span-1 flex items-center justify-around\">\n        {[`${t(\"追込\")}`, coloredGradeText(props.player.tracking)]}\n      </div>\n    </div>\n  );\n};\n\nconst GrowBox = (props) => {\n  const { t } = useTranslation();\n  return (\n    <div className=\"my-1 rounded-lg border border-solid border-gray-500 grid grid-cols-5\">\n      <div className=\"col-span-1 md_text-xl bg-green-400 text-gray-700 flex justify-center items-center\">\n        {t(\"スピード\")}\n      </div>\n      <div className=\"col-span-1 md_text-xl bg-green-400 text-gray-700 flex justify-center items-center\">\n        {t(\"スタミナ\")}\n      </div>\n      <div className=\"col-span-1 md_text-xl bg-green-400 text-gray-700 flex justify-center items-center\">\n        {t(\"パワー\")}\n      </div>\n      <div className=\"col-span-1 md_text-xl bg-green-400 text-gray-700 flex justify-center items-center\">\n        {t(\"根性\")}\n      </div>\n      <div className=\"col-span-1 md_text-xl bg-green-400 text-gray-700 flex justify-center items-center\">\n        {t(\"賢さ\")}\n      </div>\n      <div className=\"col-span-1 flex items-center justify-around\">{props.player.speedGrow}</div>\n      <div className=\"col-span-1 flex items-center justify-around\">{props.player.staminaGrow}</div>\n      <div className=\"col-span-1 flex items-center justify-around\">{props.player.powerGrow}</div>\n      <div className=\"col-span-1 flex items-center justify-around\">{props.player.gutsGrow}</div>\n      <div className=\"col-span-1 flex items-center justify-around\">{props.player.wisdomGrow}</div>\n    </div>\n  );\n};\n\nexport default PlayerDetail;\n","import React from \"react\";\nimport { useHistory } from \"react-router\";\nimport PlayerCard from \"./PlayerCard\";\nimport PlayerDetail from \"./PlayerDetail\";\nimport List from \"../common/List\";\nimport useUa from \"../../utils/ua\";\nconst PlayerList = ({ className, dataList, onClick, sortFlag = false }) => {\n  const ua = useUa();\n  const history = useHistory();\n  const sort = {\n    key: \"rare\",\n    data: [\n      { value: \"3\", title: \"3星\" },\n      { value: \"2\", title: \"2星\" },\n      { value: \"1\", title: \"1星\" },\n    ],\n  };\n  return (\n    <List\n      className={className}\n      listKey=\"players\"\n      dataList={dataList}\n      sort={sortFlag && sort}\n      itemRender={(data, setCur) => (\n        <div key={`player_${data.id}`} className=\"w-24 max-w-1/4 p-1\">\n          <PlayerCard\n            className=\"\"\n            data={data}\n            onClick={() =>\n              onClick\n                ? onClick(data)\n                : ua.isPhone\n                ? history.push(`/player-detail/${data.id}`)\n                : setCur(data)\n            }\n          />\n        </div>\n      )}\n      itemClass=\"w-24 max-w-1/4 \"\n      detailRender={(data) => <PlayerDetail data={data} isNur={false} />}\n      // detailModalSize='regular'\n    />\n  );\n};\n\nexport default PlayerList;\n","import React from \"react\";\nimport { useDidRecover } from \"react-router-cache-route\";\nimport PlayerList from \"../../components/player/PlayerList.js\";\n\nconst TITLE = \"角色 - 乌拉拉大胜利 - 赛马娘资料站\";\n\n//todo filter\nconst Player = (props) => {\n  document.title = TITLE;\n  useDidRecover(() => {\n    document.title = TITLE;\n  });\n  return <PlayerList className=\"justify-between\" sortFlag={true} onClick={props.onClick} />;\n};\n\nexport default Player;\n","import low from 'lowdb';\nimport LocalStorage from 'lowdb/adapters/LocalStorage'\n// import Memory from 'lowdb/adapters/Memory'\nimport axios from 'axios'\n// import jsonDB from './assert/db.json'\n\nconst adapterL = new LocalStorage('db')\n// const adapterM = new Memory()\nconst db = low(adapterL)\n\n\nconst d = async ()=>{\n  // let res = await axios.get('https://urarawin.com/d')\n  let res = await axios.get('https://urarawin.com/api/sqlite/d')\n  db.set('userId',res.data).write()\n}\ndb.get('userId').value()||d()\ndb.get('lan').value()||db.set('lan','cn').write()\ndb.get('selected').value()||db.set('selected',{\n  supports:{0:{},1:{},2:{},3:{},4:{},5:{}},\n  player:{},\n  races:[]\n}).write()\ndb.get('myDecks').value()||db.set('myDecks',[]).write()\ndb.get('mySupports').value()||db.set('mySupports',[]).write()\nexport  default db\n","const CheckBox = ({ register, name, value, label, icon }) => {\n  return (\n    <div key={value} className=\"flex items-center mr-1 mb-1\">\n      <input\n        id={value}\n        type=\"checkbox\"\n        className={`mt-checkbox mt-checkbox-light-blue-500 hidden overflow-hidden`}\n        value={value}\n        {...register(name)}\n      />\n      <label\n        htmlFor={value}\n        className=\"flex items-center cursor-pointer text-gray-400 select-none transition-all duration-300\"\n      >\n        <span className=\"relative w-5 h-5 inline-block mr-2 rounded border border-gray-500 transition-all duration-300\"></span>\n        {icon && <img alt=\"\" src={icon} width={20} />}\n        {label}\n      </label>\n    </div>\n  );\n};\nexport default CheckBox;\n","const Input = ({ className,register,name,placeholder})=>{\n  return <div className=\"w-full relative h-11\">\n  <input\n    className={`w-full h-full text-gray-800 leading-normal shadow-none outline-none focus:outline-none focus:ring-0 focus:text-gray-800 px-3 pt-2.5 pb-1.5 mt-input-outline-light-blue-500 mt-input-outline bg-transparent border border-1 border-gray-300 rounded-lg focus:border-2 focus:border-light-blue-500 undefined undefined`}\n    placeholder=\" \"\n    {...register(\"q\")}\n  />\n  <label\n    className={`text-gray-400 absolute left-0 -top-1.5 w-full h-full false border-gray-300 pointer-events-none flex false leading-10 transition-all duration-300`}\n  >\n    {placeholder || '请输入'}\n  </label>\n</div>\n}\n\nexport default Input","import React from \"react\";\n\nimport { useForm } from \"react-hook-form\";\nimport CheckBox from \"../common/CheckBox\";\nimport Input from \"../common/Input\";\n\nimport { useDB } from \"../../hooks/index.js\";\nimport { useTranslation } from \"react-i18next\";\nimport {\n  CDN_SERVER,\n  SKILL_CONDITION_OPTIONS,\n  SKILL_TYPE_OPTIONS,\n  SKILL_RARITY_OPTIONS,\n} from \"@/config\";\n\nconst SkillFilterForm = (props) => {\n  const { t } = useTranslation();\n  const { onUpdate, needId, checkOnly, formName = \"skill\" } = props;\n\n  const { register, watch } = useForm();\n\n  React.useEffect(() => {\n    const subscription = watch((value, { name, type }) => getFilterList(value));\n    return () => subscription.unsubscribe();\n  }, [watch]);\n  const getFilterList = (value) => {\n    const q = value[`${formName}q`];\n    const condition =\n      value[`${formName}condition`] &&\n      value[`${formName}condition`]?.map((e) => e.replace(formName, \"\"));\n    const rare =\n      value[`${formName}rare`] && value[`${formName}rare`]?.map((e) => e.replace(formName, \"\"));\n    const type =\n      value[`${formName}type`] && value[`${formName}type`]?.map((e) => e.replace(formName, \"\"));\n    if (checkOnly && !q && !type?.length && !rare?.length && !condition?.length) {\n      onUpdate([]);\n      return;\n    }\n    let tempList = db.get(\"skills\").orderBy(\"db_id\").value();\n    if (q) {\n      tempList = tempList.filter((item) => item.name.indexOf(q) > -1);\n    }\n    if (type && type.length) {\n      tempList = tempList.filter((skill) => {\n        let flag = 0;\n        type.forEach((value) => {\n          let str = skill.icon_id + \"\";\n          if (str) {\n            if (str[0] === value[0] && str[3] === value[3]) {\n              flag = 1;\n            }\n          }\n        });\n        return flag;\n      });\n    }\n    if (rare && rare.length) {\n      tempList = tempList.filter((skill) => {\n        let flag = 0;\n        rare.forEach((value) => {\n          if (skill.rare === value) {\n            flag = 1;\n          }\n        });\n        return flag;\n      });\n    }\n    if (condition && condition.length) {\n      const str = condition.join(\"|\");\n      const reg = RegExp(str);\n      tempList = tempList.filter((skill) => skill.condition?.match(reg));\n    }\n    if (needId) {\n      tempList = tempList.reduce((list, skill) => {\n        list.push(skill?.id);\n        return list;\n      }, []);\n    }\n    onUpdate(tempList);\n  };\n  const db = useDB();\n  if (!db) return null;\n\n  return (\n    <div className=\"flex flex-wrap\">\n      <Input register={register} name=\"q\" placeholder={t(\"输入关键词\")} />\n      <p className=\"w-full  my-1 text-gray-700\">触发条件</p>\n      {SKILL_CONDITION_OPTIONS.map(({ label, value }) => (\n        <CheckBox\n          key={formName + \"condition\" + value}\n          register={register}\n          name={formName + \"condition\"}\n          label={t(label)}\n          value={formName + value}\n        />\n      ))}\n      <p className=\"w-full my-1 text-gray-700\">类型</p>\n      {SKILL_TYPE_OPTIONS.map(({ label, value }) => (\n        <CheckBox\n          key={formName + \"type\" + value}\n          register={register}\n          name={formName + \"type\"}\n          label={t(label)}\n          value={formName + value}\n          icon={CDN_SERVER + \"img/skill_icons/\" + value + \".png\"}\n        />\n      ))}\n      <p className=\"w-full  my-1 text-gray-700\">稀有度</p>\n      {SKILL_RARITY_OPTIONS.map(({ label, value }) => (\n        <CheckBox\n          key={formName + \"rare\" + value}\n          register={register}\n          name={formName + \"rare\"}\n          label={t(label)}\n          value={formName + value}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default SkillFilterForm;\n","import React from \"react\";\nimport { useForm } from \"react-hook-form\";\n\nimport CheckBox from \"../common/CheckBox\";\nimport Input from \"../common/Input\";\nimport { useTranslation } from \"react-i18next\";\nimport { useDB } from \"../../hooks\";\nimport SkillFilterForm from \"../skill/SkillFilterForm\";\n\nimport { SUPPORT_TYPE_OPTIONS } from \"@/config\";\n\nconst SupportFilterForm = (props) => {\n  const { t } = useTranslation();\n  const { onUpdate, needId, formName = \"sup\" } = props;\n  const { register, watch, setValue } = useForm();\n\n  React.useEffect(() => {\n    const subscription = watch((value, { name, type }) => getFilterList(value));\n    return () => subscription.unsubscribe();\n  }, [watch]);\n\n  const db = useDB();\n  if (!db) return null;\n  const allSupports = db.get(\"supports\").value();\n  const effects = db.get(\"effects\").value();\n  const effectOptions = Object.keys(effects).map((key) => {\n    return { label: effects[key].name, value: key };\n  });\n  const getFilterList = (value) => {\n    // const { type, effect, q, skill } = value;\n    const q = value[`${formName}q`];\n    const skill = value[\"skill\"];\n    const effect =\n      value[`${formName}effect`] && value[`${formName}effect`]?.map((e) => e.replace(formName, \"\"));\n    const type =\n      value[`${formName}type`] && value[`${formName}type`]?.map((e) => e.replace(formName, \"\"));\n    let tempList = [...allSupports];\n\n    if (type?.length) {\n      tempList = tempList.filter((support) => {\n        let flag = 0;\n        if (type.indexOf(support?.type) !== -1) {\n          return (flag = 1);\n        }\n        return flag;\n      });\n    }\n\n    if (effect?.length) {\n      tempList = tempList.filter((support) => {\n        let flag = 0;\n        effect.forEach((value) => {\n          support.effects &&\n            support.effects.forEach((effect) => {\n              if (effect.type == value) {\n                flag += 1;\n              }\n            });\n        });\n        return flag === effect.length;\n      });\n    }\n    if (skill?.length) {\n      tempList = tempList.filter((support) => {\n        let flag = 0;\n        support.skillList?.forEach((skillId) => {\n          if (skill.indexOf(skillId) !== -1) {\n            return (flag = 1);\n          }\n        });\n        return flag;\n      });\n    }\n    if (q) {\n      const allEventList = db.get(\"events\").value();\n      const eventIdList = allEventList\n        .filter((event) => {\n          let jsonEvent = JSON.stringify(event);\n          if (jsonEvent.indexOf(q) !== -1) {\n            return true;\n          } else {\n            return false;\n          }\n        })\n        .reduce((list, event) => {\n          list.push(event.id);\n          return list;\n        }, []);\n      tempList = tempList.filter((support) => {\n        let flag = 0;\n        support.eventList.forEach((eventId) => {\n          if (eventIdList.indexOf(eventId) !== -1) {\n            return (flag = 1);\n          }\n        });\n        return flag;\n      });\n    }\n    if (needId) {\n      tempList = tempList.reduce((list, support) => {\n        list.push(support?.id);\n        return list;\n      }, []);\n    }\n    onUpdate && onUpdate(tempList);\n  };\n  const handleSkillFilterFormChange = (list) => {\n    setValue(\"skill\", list);\n  };\n  return (\n    <div className=\"flex flex-wrap\">\n      <Input register={register} name=\"q\" placeholder={t(\"事件关键词搜索\")} />\n      <p className=\"w-full my-1 text-gray-700\">{t(\"类型\")}</p>\n      {SUPPORT_TYPE_OPTIONS.map(({ label, value }) => (\n        <CheckBox\n          key={formName + \"type\" + value}\n          register={register}\n          name={formName + \"type\"}\n          label={t(label)}\n          value={formName + value}\n        />\n      ))}\n      <p className=\"w-full my-1 text-gray-700\">{t(\"技能筛选\")}</p>\n      <SkillFilterForm\n        formName={formName}\n        onUpdate={handleSkillFilterFormChange}\n        checkOnly={true}\n        needId={true}\n      />\n      <p className=\"w-full my-1 text-gray-700\">{t(\"育成效果\")}</p>\n      {effectOptions.map(({ label, value }) => (\n        <CheckBox\n          key={formName + \"effect\" + value}\n          register={register}\n          name={formName + \"effect\"}\n          label={t(label)}\n          value={formName + value}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default SupportFilterForm;\n","import React from 'react'\nconst useViewport = () => {\n  const [width, setWidth] = React.useState(window.innerWidth);\n  const [height, setHeight] = React.useState(window.innerHeight);\n  React.useEffect(() => {\n    const handleWindowResize = () => {\n      setHeight(window.innerHeight);\n      setWidth(window.innerWidth);\n    };\n    window.addEventListener(\"resize\", handleWindowResize);\n    return () => window.removeEventListener(\"resize\", handleWindowResize);\n  }, []);\n  return { height, width };\n};\nexport default useViewport","// import classnames from \"classnames\";\nimport React, { useState, useEffect } from \"react\";\nimport { useDidRecover } from \"react-router-cache-route\";\nimport Modal from \"@material-tailwind/react/Modal\";\nimport ModalBody from \"@material-tailwind/react/ModalBody\";\nimport ModalHeader from \"@material-tailwind/react/ModalHeader\";\nimport Button from \"@material-tailwind/react/Button\";\n\nimport { useDB } from \"../../hooks\";\nimport { useTranslation } from \"react-i18next\";\nimport dbL from \"@/dbL.js\";\n\nimport SupportList from \"@/components/support/SupportList\";\nimport SupportFilterForm from \"@/components/support/SupportFilterForm\";\nimport useViewport from \"@/utils/useViewport\";\n\nconst TITLE = \"支援 - 乌拉拉大胜利 - 赛马娘资料站\";\n\ndocument.title = TITLE;\nconst SupportListWithFilter = (props) => {\n  const { onClick, limitHeight, formName } = props;\n  const { t } = useTranslation();\n  const viewport = useViewport();\n  const [show, setShow] = React.useState(false);\n  const [list, setList] = useState(props.supportList || []);\n  const [chooseMode, setChooseMode] = useState(false);\n  const [showMode, setShowMode] = useState(false);\n  const [chosenList, setChosenList] = useState(dbL.get(\"mySupports\").value() || []);\n\n  useDidRecover(() => {\n    document.title = TITLE;\n  });\n  const db = useDB();\n  useEffect(() => {\n    if (db) setList(props.supportList || db.get(\"supports\").value() || []);\n  }, [db, props.supportList]);\n  if (!db) return null;\n  const changeChooseMode = () => {\n    setShowMode(!showMode);\n    setChooseMode(!chooseMode);\n  };\n\n  const changeShowMode = () => {\n    setShowMode(!showMode);\n  };\n\n  const onSelect = (item) => {\n    let tmpList = [...chosenList];\n    const index = tmpList.indexOf(item.id);\n    if (index === -1) {\n      tmpList.push(item.id);\n    } else {\n      tmpList.splice(index, 1);\n    }\n    dbL.update(\"mySupports\", tmpList).write();\n    setChosenList([...tmpList]);\n  };\n\n  return (\n    <>\n      {viewport?.width >= 768 ? (\n        <div\n          className=\"sticky top-20 hidden md:flex w-1/4 flex-col p-1 overflow-auto\"\n          style={{\n            height: \"calc(100vh - 120px)\",\n          }}\n        >\n          <Button className=\"my-1 flex-shrink-0\" onClick={changeShowMode} ripple=\"light\">\n            {t(\"高亮我的卡组\")}\n          </Button>\n          <Button className=\"my-1 flex-shrink-0\" onClick={changeChooseMode} ripple=\"light\">\n            {t(\"配置卡组\")}\n          </Button>\n          {chooseMode && (\n            <Button className=\"my-1 flex-shrink-0\" onClick={changeChooseMode} ripple=\"light\">\n              {t(\"配置完成\")}\n            </Button>\n          )}\n          <SupportFilterForm formName={formName} onUpdate={setList} />\n        </div>\n      ) : (\n        <>\n          <Button\n            className=\"md:hidden fixed top-20 z-40 bg-opacity-80\"\n            onClick={() => setShow(true)}\n          >\n            筛选\n          </Button>\n          <Modal size={\"lg\"} active={show} toggler={() => setShow(false)}>\n            <ModalHeader toggler={() => setShow(false)}>{\"筛选支援卡\"}</ModalHeader>\n            <ModalBody className=\"flex flex-col\">\n              <SupportFilterForm formName={formName} onUpdate={setList} />\n            </ModalBody>\n          </Modal>\n        </>\n      )}\n\n      <SupportList\n        className={`md:w-3/4 justify-between ${limitHeight && \"h-80vh overflow-auto\"}`}\n        sortFlag={true}\n        dataList={list}\n        ownList={showMode ? chosenList : null}\n        onClick={chooseMode ? onSelect : onClick}\n      />\n    </>\n  );\n};\nexport default SupportListWithFilter;\n","import React from \"react\";\nimport { useDidRecover } from \"react-router-cache-route\";\n\nimport SupportListWithFilter from \"../../components/support/SupportListWithFilter\";\nconst TITLE = \"支援 - 乌拉拉大胜利 - 赛马娘资料站\";\n\nconst Support = () => {\n  document.title = TITLE;\n  useDidRecover(() => {\n    document.title = TITLE;\n  });\n\n  return <SupportListWithFilter />;\n};\nexport default Support;\n","import React from \"react\";\nimport Button from \"@material-tailwind/react/Button\";\n// import {useState} from 'react';\nimport { useDB } from \"../hooks/index.js\";\nimport { useTranslation } from \"react-i18next\";\nconst BuffButton = (props) => {\n  return (\n    <Button size=\"sm\" buttonType=\"outline\" data-tip=\"buff list\">\n      Buff\n    </Button>\n  );\n};\nconst BuffList = (props) => {\n  const { t } = useTranslation();\n  const db = useDB();\n  if (!db) return null;\n  const buffs = db.get(\"buffs\").value();\n  const cellStyle = {\n    // width:'20%',\n    height: \"32px\",\n    fontSize: 16,\n    textAlign: \"flex-start\",\n    paddingLeft: 16,\n    fontWeight: 500,\n    borderWidth: \"thin\",\n    borderStyle: \"solid solid solid solid\",\n    borderColor: \"gray\",\n  };\n  return (\n    <table>\n      <tbody>\n        {buffs.map((buff) => (\n          <tr key={buff.name}>\n            <td style={{ ...cellStyle }}>{t(buff.name)}</td>\n            <td style={{ ...cellStyle }}>{t(buff.describe)}</td>\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  );\n};\nexport { BuffButton, BuffList };\n","import React, { useState } from \"react\";\nimport shortid from \"shortid\";\nimport axios from \"axios\";\n\nimport Button from \"@material-tailwind/react/Button\";\nimport { Tag, message, Popover, Popconfirm, Checkbox } from \"antd\";\n\nimport dbL from \"../dbL.js\";\n\nimport { useTranslation } from \"react-i18next\";\nimport { CDN_SERVER, DECK_LABELS } from \"@/config\";\n\nconst MyDecks = (props) => {\n  const { t } = useTranslation();\n  const [decks, setDecks] = useState(dbL.get(\"myDecks\").value());\n  // 卡组相关操作\n  const saveDeck = (deck) => {\n    let tmpDeck = {\n      imgUrls: [],\n      supportsId: [],\n      tags: [],\n    };\n    if (props.player.id) {\n      tmpDeck.playerId = props.player.id;\n      tmpDeck.imgUrls.push(props.player.imgUrl);\n    }\n    [0, 1, 2, 3, 4, 5].forEach((index) => {\n      if (props.supports[index] && props.supports[index].id) {\n        tmpDeck.imgUrls.push(props.supports[index].imgUrl);\n        tmpDeck.supportsId.push(props.supports[index].id);\n      } else {\n        tmpDeck.supportsId.push(null);\n      }\n    });\n    if (deck) {\n      //update\n      dbL.get(\"myDecks\").find({ id: deck.id }).assign(tmpDeck).write();\n    } else {\n      //\n      tmpDeck.id = shortid.generate();\n      dbL.get(\"myDecks\").push(tmpDeck).write();\n    }\n    setDecks([...dbL.get(\"myDecks\").value()]);\n  };\n\n  const deleteDeck = (deck) => {\n    dbL.get(\"myDecks\").remove({ id: deck.id }).write();\n    setDecks([...dbL.get(\"myDecks\").value()]);\n  };\n  const shareDeck = async (deck) => {\n    //判断表格\n    // if(deck.playerId)\n    const formData = {\n      ...deck,\n      id: deck.playerId + deck.supportsId.sort((a, b) => a.localeCompare(b)).join(\"\"),\n    };\n    const res = await axios.post(\"https://urarawin.com/api/sqlite/addDeck\", formData);\n    const data = res.data;\n    data && message.info(data.msg);\n  };\n\n  const onChangeTag = (values, deck) => {\n    dbL.get(\"myDecks\").find({ id: deck.id }).assign({ tags: values }).write();\n    setDecks([...dbL.get(\"myDecks\").value()]);\n  };\n\n  return (\n    <Popover\n      width={\"100%\"}\n      overlayStyle={{ maxHeight: 800, overflow: \"auto\" }}\n      content={\n        <>\n          <Button size=\"sm\" buttonType=\"outline\" onClick={() => saveDeck()}>\n            {t(\"保存为新卡组\")}\n          </Button>\n          {decks.map((deck) => (\n            <div key={deck.id} className=\"w-full grid grid-cols-8\">\n              <div className=\"col-span-full\">\n                <Checkbox.Group\n                  options={DECK_LABELS}\n                  defaultValue={deck.tags || []}\n                  onChange={(values) => onChangeTag(values, deck)}\n                />\n              </div>\n              {deck.imgUrls.map((imgUrl) => (\n                <div className=\"col-span-1\" key={imgUrl}>\n                  <img src={CDN_SERVER + imgUrl} alt={imgUrl} width={\"100\"} />\n                </div>\n              ))}\n              <div className=\"col-span-1\">\n                <Button type=\"primary\" onClick={() => props.loadDeck(deck)}>\n                  {t(\"读取卡组\")}\n                </Button>\n                <Popconfirm title={t(\"确认覆盖？\")} onConfirm={() => saveDeck(deck)}>\n                  <Button danger type=\"dashed\">\n                    {t(\"覆盖卡组\")}\n                  </Button>\n                </Popconfirm>\n                <Popconfirm title={t(\"确认删除？\")} onConfirm={() => deleteDeck(deck)}>\n                  <Button danger type=\"dashed\">\n                    {t(\"删除卡组\")}\n                  </Button>\n                </Popconfirm>\n                <Popconfirm title={t(\"确认分享？\")} onConfirm={() => shareDeck(deck)}>\n                  <Button>分享卡组</Button>\n                </Popconfirm>\n              </div>\n            </div>\n          ))}\n        </>\n      }\n    >\n      <Button size=\"sm\" buttonType=\"outline\">\n        {t(\"我的卡组\")}\n      </Button>\n    </Popover>\n  );\n};\n\nconst RecommendDecks = (props) => {\n  // const [recommendDecks,setRecommendDecks] = useState(res.data||[])\n  const { t } = useTranslation();\n  const [recommendDecks, setRecommendDecks] = useState([]);\n  const [playerId, setPlayerId] = useState(\"\");\n  const searchDeck = async () => {\n    if (playerId !== props.player.id) {\n      const formData = props.player ? { playerId: props.player.id } : {};\n      const res = await axios.post(\"https://urarawin.com/api/sqlite/searchDeck\", formData);\n      setRecommendDecks(res.data || []);\n      setPlayerId(props.player.id);\n    }\n  };\n  // const deleteDeck = async (deck) => {\n  //   const res = await axios.post(\"https://urarawin.com/api/sqlite/deleteDeck\", deck)\n  //   searchDeck()\n  // }\n  return (\n    <Popover\n      width={\"100%\"}\n      onVisibleChange={searchDeck}\n      overlayStyle={{ maxHeight: 800, overflow: \"auto\" }}\n      content={recommendDecks.map((deck) => (\n        <div key={deck.id} className=\"w-full grid grid-cols-8\">\n          <div className=\"col-span-full\">\n            {deck.tags && deck.tags.map((tag) => <Tag key={tag}>{tag}</Tag>)}\n          </div>\n          {deck.imgUrls.map((imgUrl) => (\n            <div className=\"col-span-1\" key={imgUrl}>\n              <img src={CDN_SERVER + imgUrl} alt={imgUrl} width={\"100\"} />\n            </div>\n          ))}\n          <div className=\"col-span-1\">\n            <Button type=\"primary\" onClick={() => props.loadDeck(deck)}>\n              {t(\"读取卡组\")}\n            </Button>\n          </div>\n        </div>\n      ))}\n    >\n      <Button size=\"sm\" buttonType=\"outline\">\n        {t(\"推荐卡组\")}\n      </Button>\n    </Popover>\n  );\n};\n\nexport { MyDecks, RecommendDecks };\n","import React, { useState } from \"react\";\nimport { useDidRecover } from \"react-router-cache-route\";\nimport Button from \"@material-tailwind/react/Button\";\n// import shortid from 'shortid'\n// import axios from \"axios\";\nimport ScrollBars from \"react-custom-scrollbars\";\nimport { Popover } from \"antd\";\n\nimport Modal from \"@material-tailwind/react/Modal\";\nimport ModalBody from \"@material-tailwind/react/ModalBody\";\nimport ModalHeader from \"@material-tailwind/react/ModalHeader\";\n\nimport { useDB } from \"../../hooks\";\nimport { useTranslation } from \"react-i18next\";\n\nimport dbL from \"@/dbL.js\";\nimport EventList from \"@/components/event/EventList\";\nimport SkillList from \"@/components/skill/SkillList\";\nimport { BuffButton } from \"@/components/buff.js\";\n\nimport { RaceTimeline, RaceCheckbox } from \"@/components/race\";\nimport { MyDecks, RecommendDecks } from \"@/components/deck.js\";\n\nimport GridLayout from \"react-grid-layout\";\nimport \"react-grid-layout/css/styles.css\";\n// import Race from './race.js'\nimport SupportListWithFilter from \"@/components/support/SupportListWithFilter\";\nimport PlayerList from \"@/components/player/PlayerList\";\n\nimport { CDN_SERVER } from \"@/config\";\n\nconst TITLE = \"育成 - 乌拉拉大胜利 - 赛马娘资料站\";\nconst layoutWithBlank = [\n  { i: \"a\", x: 0, y: 0, w: 2, h: 2 },\n  { i: \"b\", x: 2, y: 0, w: 7, h: 2 },\n  { i: \"c\", x: 0, y: 2, w: 9, h: 7 },\n  { i: \"d\", x: 0, y: 10, w: 4, h: 4 },\n  { i: \"e\", x: 4, y: 10, w: 5, h: 7 },\n  { i: \"f\", x: 0, y: 14, w: 4, h: 3 },\n  // {i: 'w', x: 5, y: 10, w: 6, h: 7},\n  { i: \"s0\", x: 17, y: 0, w: 5, h: 8 },\n  { i: \"s1\", x: 22, y: 0, w: 5, h: 8 },\n  { i: \"s2\", x: 27, y: 0, w: 5, h: 8 },\n  { i: \"s3\", x: 17, y: 9, w: 5, h: 8 },\n  { i: \"s4\", x: 22, y: 9, w: 5, h: 8 },\n  { i: \"s5\", x: 27, y: 9, w: 5, h: 8 },\n];\nconst layoutWithoutBlank = [\n  { i: \"a\", x: 0, y: 0, w: 2, h: 2 },\n  { i: \"b\", x: 2, y: 0, w: 9, h: 2 },\n  { i: \"c\", x: 0, y: 2, w: 11, h: 7 },\n  { i: \"d\", x: 0, y: 10, w: 5, h: 4 },\n  { i: \"e\", x: 5, y: 10, w: 6, h: 7 },\n  { i: \"f\", x: 0, y: 14, w: 5, h: 3 },\n  // {i: 'w', x: 5, y: 10, w: 6, h: 7},\n  { i: \"s0\", x: 11, y: 0, w: 7, h: 8 },\n  { i: \"s1\", x: 18, y: 0, w: 7, h: 8 },\n  { i: \"s2\", x: 25, y: 0, w: 7, h: 8 },\n  { i: \"s3\", x: 11, y: 9, w: 7, h: 8 },\n  { i: \"s4\", x: 18, y: 9, w: 7, h: 8 },\n  { i: \"s5\", x: 25, y: 9, w: 7, h: 8 },\n];\nconst Nurturing = () => {\n  const { t } = useTranslation();\n  document.title = TITLE;\n  useDidRecover(() => {\n    document.title = TITLE;\n  });\n  const [needSelect, setNeedSelect] = useState(false);\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\n\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\n  const [supportIndex, setSupportIndex] = useState(1);\n\n  const selected = dbL.get(\"selected\").value();\n  const [supports, setSupports] = useState(selected.supports);\n  const [player, setPlayer] = useState(selected.player);\n\n  const [raceFilterCondition, setRaceFilterCondition] = useState(\n    selected.raceFilterCondition || {\n      distanceType: [],\n      grade: [],\n      ground: [],\n    }\n  );\n  const [filterRace, setFilterRace] = useState(selected.filterRace || {});\n  const db = useDB();\n  const useViewport = () => {\n    const [width, setWidth] = React.useState(window.innerWidth);\n    const [height, setHeight] = React.useState(window.innerHeight);\n    React.useEffect(() => {\n      const handleWindowResize = () => {\n        setHeight(window.innerHeight);\n        setWidth(window.innerWidth);\n      };\n      window.addEventListener(\"resize\", handleWindowResize);\n      return () => window.removeEventListener(\"resize\", handleWindowResize);\n    }, []);\n    return { height, width };\n  };\n\n  const dynamicRowHeight = Math.floor((useViewport().height - 128 - 40) / 18);\n  const dynamicGridWidth = Math.floor(useViewport().width - 10);\n  const originalLayout = dbL.get(\"layout\").value() || layoutWithoutBlank;\n  const [layout, setLayout] = useState(originalLayout);\n\n  if (!db) return null;\n  const races = db.get(\"races\").value();\n  const showPlayer = () => {\n    setIsPlayerVisible(true);\n  };\n  const closePlayer = () => {\n    setIsPlayerVisible(false);\n  };\n  const handleSelectPlayer = (data) => {\n    setIsPlayerVisible(false);\n    setPlayer(data);\n    // save player\n    selected.player = data;\n    dbL.get(\"selected\").assign(selected).write();\n  };\n\n  const showSupport = (index) => {\n    setNeedSelect(true);\n    setIsSupportVisible(true);\n    setSupportIndex(index);\n  };\n  const showSupport2 = (index) => {\n    setNeedSelect(false);\n    setIsSupportVisible(true);\n    setSupportIndex(index);\n  };\n\n  const closeSupport = () => {\n    setIsSupportVisible(false);\n  };\n  const handleSelectSupport = (data) => {\n    let newData = {};\n    newData[supportIndex] = data;\n    setSupports(Object.assign({}, supports, newData));\n    setIsSupportVisible(false);\n\n    // save\n    selected.supports[supportIndex] = data;\n    dbL.get(\"selected\").assign(selected).write();\n  };\n\n  const loadDeck = (deck) => {\n    selected.supports = { 0: {}, 1: {}, 2: {}, 3: {}, 4: {}, 5: {} };\n    selected.player = {};\n    if (deck.playerId) {\n      selected.player = db.get(\"players\").find({ id: deck.playerId }).value();\n    }\n    setPlayer(selected.player);\n    deck.supportsId.forEach((id, index) => {\n      if (id) {\n        selected.supports[index] = db.get(\"supports\").find({ id: id }).value();\n      }\n    });\n    setSupports({ ...selected.supports });\n    dbL.get(\"selected\").assign(selected).write();\n  };\n\n  // race checkbox发生变化\n  const onChangeRace = (filterCondition) => {\n    setRaceFilterCondition(filterCondition);\n    //根据条件过滤\n    let tmpRaceList = Object.values(filterCondition).some((f) => f.length > 0)\n      ? Object.entries(filterCondition)\n          .filter(([key, filters]) => filters.length > 0)\n          .reduce(\n            (result, [key, filters]) => result.filter((race) => filters.includes(race[key])),\n            races\n          )\n      : [];\n    //过滤后整理成 dataNum:[raceId]\n    let tmpFilterRace = {};\n    for (let race of tmpRaceList) {\n      if (tmpFilterRace[race.dateNum]) {\n        tmpFilterRace[race.dateNum].push(race.id);\n      } else {\n        tmpFilterRace[race.dateNum] = [race.id];\n      }\n    }\n    //更新state\n    setFilterRace(tmpFilterRace);\n    selected.raceFilterCondition = filterCondition;\n    selected.filterRace = tmpFilterRace;\n    dbL\n      .get(\"selected\")\n      .assign({ ...selected })\n      .write();\n  };\n\n  const onLayoutChange = (layout) => {\n    /*eslint no-console: 0*/\n    dbL.set(\"layout\", layout).write();\n    setLayout(layout);\n    // onLayoutChange(layout); // updates status display\n  };\n  const panelClass = \"bg-white border border-solid border-gray-500\";\n  const headClass = \"panel-heading w-full text-center bg-gray-300 cursor-move\";\n  const pBodyStyle = {\n    height: \"calc(100% - 22px)\",\n  };\n  return (\n    <>\n      <GridLayout\n        cols={32}\n        layout={layout}\n        draggableCancel=\".panel-title\"\n        draggableHandle=\".panel-heading\"\n        rowHeight={dynamicRowHeight}\n        width={dynamicGridWidth}\n        onLayoutChange={onLayoutChange}\n        useCSSTransforms={false}\n      >\n        <div key=\"a\" className={panelClass}>\n          <div className={headClass} onClick={showPlayer}>\n            {t(\"选择马娘\")}\n          </div>\n          {player.id && (\n            <img\n              src={CDN_SERVER + player.imgUrl}\n              alt={player.imgUrl}\n              style={{ ...pBodyStyle }}\n              onClick={showPlayer}\n            />\n          )}\n        </div>\n        <div key=\"b\" className={panelClass}>\n          <div className={headClass}>{t(\"操作\")}</div>\n          <div className=\"flex flex-wrap\">\n            <Button size=\"sm\" buttonType=\"outline\" className=\"add-player\" onClick={showPlayer}>\n              {t(\"选择马娘\")}\n            </Button>\n            <Button size=\"sm\" buttonType=\"outline\" onClick={showSupport2}>\n              {t(\"支援卡查询\")}\n            </Button>\n            <BuffButton />\n            <Popover\n              content={\n                <RaceCheckbox onChange={onChangeRace} raceFilterCondition={raceFilterCondition} />\n              }\n            >\n              <Button size=\"sm\" buttonType=\"outline\">\n                {t(\"比赛\")}\n              </Button>\n            </Popover>\n            <MyDecks player={player} supports={supports} loadDeck={loadDeck} />\n            <RecommendDecks player={player} loadDeck={loadDeck} />\n\n            <Button size=\"sm\" buttonType=\"outline\" onClick={() => setLayout(layoutWithBlank)}>\n              {t(\"初始化布局(有留白)\")}\n            </Button>\n            <Button size=\"sm\" buttonType=\"outline\" onClick={() => setLayout(layoutWithoutBlank)}>\n              {t(\"初始化布局(无留白)\")}\n            </Button>\n          </div>\n        </div>\n        <div key=\"c\" className={panelClass}>\n          <div className={headClass}>{t(\"事件\")}</div>\n          <ScrollBars autoHide={true} style={{ ...pBodyStyle }}>\n            {/* <p>{player.id}</p> */}\n            <EventList idList={player.eventList} sortFlag={true} />\n          </ScrollBars>\n        </div>\n        <div key=\"d\" className={panelClass}>\n          <div className={headClass}>{t(\"技能\")}</div>\n          <ScrollBars autoHide={true} style={{ ...pBodyStyle }}>\n            <SkillList idList={player.skillList} isNur={true} size=\"small\" />\n          </ScrollBars>\n        </div>\n        <div key=\"e\" className={panelClass}>\n          <div className={headClass}>{t(\"比赛\")}</div>\n          <ScrollBars autoHide={true} style={{ ...pBodyStyle }}>\n            <RaceTimeline raceList={player.raceList || []} filterRace={filterRace} />\n          </ScrollBars>\n        </div>\n        <div key=\"f\" className={panelClass}>\n          <div className={headClass}>{t(\"隐藏事件\")}</div>\n          <ScrollBars autoHide={true} style={{ ...pBodyStyle }}>\n            <EventList idList={player.hideEvent} />\n          </ScrollBars>\n        </div>\n        {[0, 1, 2, 3, 4, 5].map((index) => {\n          let support = supports[index];\n          if (support.id) {\n            return (\n              <div key={`s${index}`} className={panelClass}>\n                <div className={headClass}>\n                  <span\n                    className=\"panel-title\"\n                    onClick={() => showSupport(index)}\n                    style={{ cursor: \"pointer\" }}\n                  >\n                    {t(\"选择支援卡\")}\n                  </span>\n                </div>\n                <ScrollBars autoHide={true} style={{ ...pBodyStyle }}>\n                  <div style={{ display: \"flex\" }}>\n                    <img\n                      style={{ width: \"26%\", height: \"39%\" }}\n                      src={CDN_SERVER + support.imgUrl}\n                      alt={support.imgUrl}\n                    />\n                    <div style={{ flex: \"1 1 auto\" }}>\n                      <EventList idList={supports[index].eventList} pid={supports[index].id} />\n                    </div>\n                  </div>\n                  <div style={{ margin: \"4px 0\", background: \"rgba(255,255,255,0.6)\" }}>\n                    {t(\"培训技能\")}\n                  </div>\n                  <SkillList idList={supports[index].possessionSkill} isNur={true} size=\"small\" />\n                  <div style={{ margin: \"4px 0\", background: \"rgba(255,255,255,0.6)\" }}>\n                    {t(\"事件技能\")}\n                  </div>\n                  <SkillList\n                    idList={supports[index].trainingEventSkill}\n                    isNur={true}\n                    size=\"small\"\n                  />\n                </ScrollBars>\n              </div>\n            );\n          } else {\n            return (\n              <div key={`s${index}`} className={panelClass}>\n                <Button size=\"sm\" buttonType=\"outline\" onClick={() => showSupport(index)}>\n                  {t(\"选择支援卡\")}\n                </Button>\n              </div>\n            );\n          }\n        })}\n      </GridLayout>\n      <Modal size=\"lg\" active={isPlayerVisible} toggler={closePlayer}>\n        <ModalHeader toggler={closePlayer}>选择支援卡</ModalHeader>\n        <ModalBody>\n          <div className=\"w-full h-full\" style={{ maxHeight: \"80vh\", overflow: \"auto\" }}>\n            <PlayerList onClick={handleSelectPlayer} sortFlag={true} />\n          </div>\n        </ModalBody>\n      </Modal>\n      <Modal size=\"lg\" active={isSupportVisible} toggler={closeSupport}>\n        <ModalHeader toggler={closeSupport}>选择支援卡</ModalHeader>\n        <ModalBody>\n          <div\n            className=\"w-full h-full flex relative\"\n            style={{ maxHeight: \"80vh\", overflow: \"auto\" }}\n          >\n            <SupportListWithFilter\n              formName=\"nurSup\"\n              onClick={needSelect ? handleSelectSupport : null}\n              limitHeight={true}\n              sortFlag={true}\n            />\n          </div>\n        </ModalBody>\n      </Modal>\n    </>\n  );\n};\n\nexport default Nurturing;\n","import React, { useEffect, useState } from \"react\";\nimport { useDidRecover } from \"react-router-cache-route\";\n\nimport Modal from \"@material-tailwind/react/Modal\";\nimport ModalBody from \"@material-tailwind/react/ModalBody\";\nimport ModalHeader from \"@material-tailwind/react/ModalHeader\";\nimport Button from \"@material-tailwind/react/Button\";\n\nimport SkillList from \"@/components/skill/SkillList\";\nimport SkillFilterForm from \"@/components/skill/SkillFilterForm\";\n\nimport useViewport from \"@/utils/useViewport\";\n\nimport { useDB } from \"../../hooks\";\nconst TITLE = \"技能 - 乌拉拉大胜利 - 赛马娘资料站\";\n\ndocument.title = TITLE;\nconst Skill = (props) => {\n  const viewport = useViewport();\n  const [show, setShow] = React.useState(false);\n  useDidRecover(() => {\n    document.title = TITLE;\n  });\n  const [skillList, setSkillList] = useState();\n  const db = useDB();\n  useEffect(() => {\n    if (db) {\n      const allSkillList = db.get(\"skills\").orderBy(\"db_id\").value();\n      setSkillList(allSkillList);\n    }\n  }, [db]);\n  // 所有技能列表\n\n  if (!db) return null;\n  // init supportMode\n  localStorage.getItem(\"supportMode\") === null && localStorage.setItem(\"supportMode\", 0);\n\n  return (\n    <>\n      {viewport?.width >= 768 ? (\n        <div\n          className=\"sticky top-20 hidden md:flex w-1/4 flex-col p-1 overflow-auto\"\n          style={{\n            height: \"calc(100vh - 120px)\",\n          }}\n        >\n          <SkillFilterForm onUpdate={setSkillList} />\n        </div>\n      ) : (\n        <>\n          <Button\n            className=\"md:hidden fixed top-20 z-40 bg-opacity-80\"\n            onClick={() => setShow(true)}\n          >\n            筛选\n          </Button>\n          <Modal size={\"lg\"} active={show} toggler={() => setShow(false)}>\n            <ModalHeader toggler={() => setShow(false)}>{\"筛选技能\"}</ModalHeader>\n            <ModalBody className=\"flex flex-col\">\n              <SkillFilterForm onUpdate={setSkillList} />\n            </ModalBody>\n          </Modal>\n        </>\n      )}\n\n      <SkillList className=\"w-full md:w-3/4\" dataList={skillList} sortFlag={true} />\n    </>\n  );\n};\n\nexport default Skill;\n","import React, { useState } from \"react\";\nimport Button from \"@material-tailwind/react/Button\";\nimport {\n  Row,\n  Alert,\n  Image,\n  // Divider,\n  Table,\n  Modal,\n  Col,\n  Radio,\n  Rate,\n  Form,\n  Slider,\n  PageHeader,\n  Input,\n  // Space,\n  Card,\n} from \"antd\";\nimport { message } from \"antd\";\n//test\nimport {\n  PlusOutlined,\n  SmileOutlined,\n  FrownOutlined,\n  CopyOutlined,\n  DeleteOutlined,\n} from \"@ant-design/icons\";\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\nimport { useDidRecover } from \"react-router-cache-route\";\nimport axios from \"axios\";\nimport { useDB } from \"../../hooks\";\nimport dbL from \"@/dbL.js\";\n\nimport PlayerList from \"@/components/player/PlayerList\";\nimport SupportListWithFilter from \"@/components/support/SupportListWithFilter\";\nimport { CDN_SERVER, SEED_BLUE_LABELS, SEED_RED_LABELS } from \"@/config\";\n\nlet userId = dbL.get(\"userId\").value();\nconst TITLE = \"分享 - 乌拉拉大胜利 - 赛马娘资料站\";\n\n/*\nuserId 随机生成\n种马玩家id\n种马id\n蓝色因子 - speed stamina power guts wisdom\n红色因子 - grass dirt shortDistance mile mediumDistance longDistance\n        - escapeR leadingR insertR trackingR\n绿色因子\n种马父id\n种马母id\n\ntotal blue\ntotal red\nwhite num\n*/\n// 生成一个userId\n\nconst PlayerInput = ({ value = {}, onChange }) => {\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\n  const [data, setData] = useState({});\n  const showPlayer = (index) => {\n    setIsPlayerVisible(true);\n  };\n  const closePlayer = () => {\n    setIsPlayerVisible(false);\n  };\n  const triggerChange = (changedValue) => {\n    setIsPlayerVisible(false);\n    onChange?.({\n      ...data,\n      ...value,\n      ...changedValue,\n    });\n  };\n  const handleSelectPlayer = (data) => {\n    setData(data);\n    triggerChange(data);\n  };\n  return (\n    <>\n      <Image\n        src={data.imgUrl ? CDN_SERVER + data.imgUrl : \"\"}\n        preview=\"false\"\n        fallback=\"data:image/png;base64,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\"\n        width={80}\n        onClick={showPlayer}\n      />\n      <Modal\n        visible={isPlayerVisible}\n        onOk={closePlayer}\n        onCancel={closePlayer}\n        width={\"80%\"}\n        bodyStyle={{ maxHeight: \"80vh\", overflow: \"auto\" }}\n      >\n        <PlayerList sortFlag={true} onClick={handleSelectPlayer} />\n      </Modal>\n    </>\n  );\n};\nconst SupportInput = ({ value = {}, onChange }) => {\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\n  const [data, setData] = useState({});\n  const showSupport = (index) => {\n    setIsSupportVisible(true);\n  };\n  const closeSupport = () => {\n    setIsSupportVisible(false);\n  };\n  const triggerChange = (changedValue) => {\n    setIsSupportVisible(false);\n    onChange?.({\n      ...data,\n      ...value,\n      ...changedValue,\n    });\n  };\n  const handleSelectSupport = (data) => {\n    setData(data);\n    triggerChange(data);\n  };\n  return (\n    <>\n      <Image\n        src={data.imgUrl ? CDN_SERVER + data.imgUrl : \"\"}\n        preview=\"false\"\n        fallback=\"data:image/png;base64,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\"\n        width={80}\n        onClick={showSupport}\n      />\n      <Modal\n        visible={isSupportVisible}\n        onOk={closeSupport}\n        onCancel={closeSupport}\n        width={\"80%\"}\n        bodyStyle={{ height: \"90vh\" }}\n      >\n        <div className=\"w-full h-full overflow-hidden flex relative\">\n          <SupportListWithFilter formName=\"seedSup\" onClick={handleSelectSupport} sortFlag={true} />\n        </div>\n      </Modal>\n    </>\n  );\n};\nconst SeedInput = (props) => {\n  const [form] = Form.useForm();\n  const [seed, setSeed] = useState({});\n\n  const onFinish = async (value) => {\n    let tmpSeed = seed;\n    tmpSeed = Object.assign({}, seed, value);\n    setSeed(tmpSeed);\n    // 修整成需要的数据\n    const formData = { ...tmpSeed };\n    formData.userId = userId || dbL.get(\"userId\").value();\n    let updateTime = new Date().getTime();\n    formData.updateTime = updateTime;\n    formData[\"playerId0\"] = value[\"player0\"].id;\n    formData[\"playerId1\"] = value[\"player1\"].id;\n    formData[\"playerId2\"] = value[\"player2\"].id;\n    formData[\"supportId\"] = value[\"support\"].id;\n    delete formData[\"support\"];\n    delete formData[\"player0\"];\n    delete formData[\"player1\"];\n    delete formData[\"player2\"];\n    // formData[formData['blue0']]=formData['blueLevel0']\n    // formData[formData['red0']]=formData['redLevel0']\n    let list = [\"0\", \"1\", \"2\"];\n    list.forEach((i) => {\n      //统计蓝色因子\n      if (formData[formData[`blue${i}`]] !== undefined) {\n        formData[formData[`blue${i}`]] += formData[`blueLevel${i}`];\n      } else {\n        formData[formData[`blue${i}`]] = formData[`blueLevel${i}`];\n      }\n      //统计红色因子\n      if (formData[formData[`red${i}`]] !== undefined) {\n        formData[formData[`red${i}`]] += formData[`redLevel${i}`];\n      } else {\n        formData[formData[`red${i}`]] = formData[`redLevel${i}`];\n      }\n      //统计红色因子\n      if (formData[\"white\"] !== undefined) {\n        formData[\"white\"] += formData[`whiteNum${i}`];\n      } else {\n        formData[\"white\"] = formData[`whiteNum${i}`];\n      }\n      //统计ura\n      if (formData[\"uraLevel\"] !== undefined) {\n        formData[\"uraLevel\"] += formData[`uraLevel${i}`];\n      } else {\n        formData[\"uraLevel\"] = formData[`uraLevel${i}`];\n      }\n    });\n    const res = await axios.post(\"https://urarawin.com/api/sqlite/add\", formData);\n    if (res.data && res.data.success) {\n      message.info(\"成功添加\");\n      props.onFinish();\n    } else {\n      message.info(\"有地方出错了\");\n    }\n  };\n  const list = [\"主要\", \"父辈1\", \"父辈2\"];\n\n  const getFields = () => {\n    const children = [];\n    for (let i = 0; i < 3; i++) {\n      children.push(\n        <Col span={8} key={i}>\n          <PageHeader title={`${list[i]}`} />\n          <Row>\n            <Col span={6} offset={4}>\n              <Form.Item label=\"角色\" name={`player${i}`} rules={[{ required: true }]}>\n                <PlayerInput />\n              </Form.Item>\n            </Col>\n          </Row>\n          <Form.Item label=\"蓝色因子\" name={`blue${i}`} rules={[{ required: true }]}>\n            <Radio.Group>\n              <Radio.Button value={\"speed\"}>{\"速度\"}</Radio.Button>\n              <Radio.Button value={\"stamina\"}>{\"耐力\"}</Radio.Button>\n              <Radio.Button value={\"power\"}>{\"力量\"}</Radio.Button>\n              <Radio.Button value={\"guts\"}>{\"根性\"}</Radio.Button>\n              <Radio.Button value={\"wisdom\"}>{\"智力\"}</Radio.Button>\n            </Radio.Group>\n          </Form.Item>\n          <Form.Item label=\"蓝色因子星数\" name={`blueLevel${i}`} rules={[{ required: true }]}>\n            <Rate count={3} />\n          </Form.Item>\n          <Form.Item label=\"红色因子\" name={`red${i}`} rules={[{ required: true }]}>\n            <Radio.Group>\n              <Radio.Button value={\"grass\"}>{\"草地/芝\"}</Radio.Button>\n              <Radio.Button value={\"dirt\"}>{\"泥地/ダート\"}</Radio.Button>\n              <hr />\n              <Radio.Button value={\"shortDistance\"}>{\"短距离\"}</Radio.Button>\n              <Radio.Button value={\"mile\"}>{\"英里\"}</Radio.Button>\n              <Radio.Button value={\"mediumDistance\"}>{\"中距离\"}</Radio.Button>\n              <Radio.Button value={\"longDistance\"}>{\"长距离\"}</Radio.Button>\n              <hr />\n              <Radio.Button value={\"escapeR\"}>{\"逃\"}</Radio.Button>\n              <Radio.Button value={\"leadingR\"}>{\"先\"}</Radio.Button>\n              <Radio.Button value={\"insertR\"}>{\"差\"}</Radio.Button>\n              <Radio.Button value={\"trackingR\"}>{\"追\"}</Radio.Button>\n            </Radio.Group>\n          </Form.Item>\n          <Form.Item label=\"红色因子星数\" name={`redLevel${i}`} rules={[{ required: true }]}>\n            <Rate count={3} />\n          </Form.Item>\n          <Form.Item label=\"绿色因子星数\" name={`greenLevel${i}`} initialValue={0}>\n            <Rate count={3} />\n          </Form.Item>\n          <Form.Item label=\"URA因子星数\" name={`uraLevel${i}`} initialValue={0}>\n            <Rate count={3} />\n          </Form.Item>\n          <Form.Item label=\"白色因子个数\" name={`whiteNum${i}`} initialValue={0}>\n            <Slider min={0} max={10} dots={true} tooltipPlacement={\"left\"} />\n          </Form.Item>\n        </Col>\n      );\n    }\n    return children;\n  };\n  return (\n    <Form name={\"因子信息\"} form={form} onFinish={onFinish}>\n      <Alert\n        message=\"目前每人只能配置一个种子 自觉维护自己的信息；第一次添加前先刷新 否则可能失败\"\n        type=\"info\"\n      />\n      <Row gutter={24}>{getFields()}</Row>\n      <Row justify=\"end\">\n        <Col span={3}>\n          <Form.Item label=\"辅助卡\" name={\"support\"} rules={[{ required: true }]}>\n            <SupportInput />\n          </Form.Item>\n        </Col>\n        <Col span={4} offset={1}>\n          <Form.Item label=\"辅助卡突破\" name={\"supportLevel\"} initialValue={0}>\n            <Rate count={4} />\n          </Form.Item>\n        </Col>\n        <Col span={4} offset={1}>\n          <Form.Item\n            label=\"玩家id\"\n            name=\"gameId\"\n            rules={[\n              { required: true },\n              ({ getFieldValue }) => ({\n                validator(_, value) {\n                  if (value.match(/^[0-9]\\d*$/g) && value.length === 9) {\n                    return Promise.resolve();\n                  }\n                  return Promise.reject(new Error(\"输入正确的9位数id\"));\n                },\n              }),\n            ]}\n          >\n            <Input placeholder=\"id\" style={{ width: \"100%\" }} />\n          </Form.Item>\n        </Col>\n        <Col span={2} offset={2}>\n          <Form.Item>\n            <Button type=\"primary\" htmlType=\"submit\">\n              提交\n            </Button>\n          </Form.Item>\n        </Col>\n      </Row>\n    </Form>\n  );\n};\n\nconst SearchOne = (props) => {\n  return (\n    <Form.List name={props.name}>\n      {(fields, { add, remove }, { errors }) => (\n        <>\n          <Row>\n            {fields.map((field, index) => (\n              <Col key={field.key} lg={8} md={12} xs={24}>\n                <Row>\n                  <Form.Item\n                    {...field}\n                    name={[field.name, \"attr\"]}\n                    fieldKey={[field.fieldKey, \"attr\"]}\n                    rules={[{ required: true }]}\n                    validateTrigger={[\"onChange\", \"onBlur\"]}\n                    noStyle\n                  >\n                    <Radio.Group>\n                      <Radio.Button value={\"speed\"}>{\"速度\"}</Radio.Button>\n                      <Radio.Button value={\"stamina\"}>{\"耐力\"}</Radio.Button>\n                      <Radio.Button value={\"power\"}>{\"力量\"}</Radio.Button>\n                      <Radio.Button value={\"guts\"}>{\"根性\"}</Radio.Button>\n                      <Radio.Button value={\"wisdom\"}>{\"智力\"}</Radio.Button>\n                      <br />\n                      <Radio.Button value={\"grass\"}>{\"草地/芝\"}</Radio.Button>\n                      <Radio.Button value={\"dirt\"}>{\"泥地/ダート\"}</Radio.Button>\n                      <br />\n                      <Radio.Button value={\"shortDistance\"}>{\"短距离\"}</Radio.Button>\n                      <Radio.Button value={\"mile\"}>{\"英里\"}</Radio.Button>\n                      <Radio.Button value={\"mediumDistance\"}>{\"中距离\"}</Radio.Button>\n                      <Radio.Button value={\"longDistance\"}>{\"长距离\"}</Radio.Button>\n                      <br />\n                      <Radio.Button value={\"escapeR\"}>{\"逃\"}</Radio.Button>\n                      <Radio.Button value={\"leadingR\"}>{\"先\"}</Radio.Button>\n                      <Radio.Button value={\"insertR\"}>{\"差\"}</Radio.Button>\n                      <Radio.Button value={\"trackingR\"}>{\"追\"}</Radio.Button>\n                      <br />\n                      <Radio.Button value={\"uraLevel\"}>{\"URA\"}</Radio.Button>\n                    </Radio.Group>\n                  </Form.Item>\n                </Row>\n                <Row>\n                  <Form.Item\n                    {...field}\n                    name={[field.name, \"level\"]}\n                    fieldKey={[field.fieldKey, \"level\"]}\n                    rules={[{ required: true }]}\n                  >\n                    <Rate count={props.max} />\n                  </Form.Item>\n                </Row>\n                <Col span={5}>\n                  <Button type=\"dashed\" onClick={() => remove(field.name)}>\n                    移除\n                  </Button>\n                </Col>\n              </Col>\n            ))}\n          </Row>\n          <Row justify=\"start\">\n            <Form.Item>\n              <Button\n                type=\"dashed\"\n                onClick={() => add()}\n                // style={{ width: '60%' }}\n                icon={<PlusOutlined />}\n              >\n                添加过滤条件\n              </Button>\n\n              <Form.ErrorList errors={errors} />\n            </Form.Item>\n          </Row>\n        </>\n      )}\n    </Form.List>\n  );\n};\n\nconst SearchForm = (props) => {\n  const [form] = Form.useForm();\n  const onFinish = async (value) => {\n    let formData = { attrs: [], levels: [] };\n    if (value[\"player0\"]) {\n      formData.attrs.push(\"playerId0\");\n      formData.levels.push(value[\"player0\"].id);\n    }\n    if (value[\"supportLevel\"]) {\n      formData.attrs.push(\"supportLevel\");\n      formData.levels.push(value[\"supportLevel\"]);\n    }\n    if (value[\"support\"]) {\n      formData.attrs.push(\"supportId\");\n      formData.levels.push(value[\"support\"].id);\n    }\n    value.p0?.forEach((item) => {\n      if (SEED_BLUE_LABELS[item.attr]) {\n        formData[\"blue0\"] = item.attr;\n        formData.attrs.push(\"blueLevel0\");\n        formData.levels.push(item.level);\n      } else if (SEED_RED_LABELS[item.attr]) {\n        formData[\"red0\"] = item.attr;\n        formData.attrs.push(\"redLevel0\");\n        formData.levels.push(item.level);\n      } else if (item.attr === \"uraLevel\") {\n        formData.attrs.push(\"uraLevel0\");\n        formData.levels.push(item.level);\n      }\n    });\n    value.p1?.forEach((item) => {\n      formData.attrs.push(item.attr);\n      formData.levels.push(item.level);\n    });\n\n    props.search(formData);\n  };\n  const onReset = () => {\n    form.resetFields();\n  };\n  return (\n    <Form name=\"搜索\" form={form} onFinish={onFinish} className=\"seed-form\">\n      <Row>\n        <Form.Item label=\"角色\" name={`player0`}>\n          <PlayerInput />\n        </Form.Item>\n      </Row>\n      <SearchOne name=\"p0\" max=\"3\" />\n      <div>总计:</div>\n      <SearchOne name=\"p1\" max=\"9\" />\n      <Row>\n        <Form.Item label=\"支援卡\" name={\"support\"}>\n          <SupportInput />\n        </Form.Item>\n        <Form.Item label=\"突破等级\" name={\"supportLevel\"} initialValue={0}>\n          <Rate count={4} />\n        </Form.Item>\n      </Row>\n      <Row justify=\"end\">\n        <Form.Item>\n          <Button htmlType=\"button\" onClick={() => onReset()}>\n            重置\n          </Button>\n        </Form.Item>\n        <Form.Item>\n          <Button type=\"primary\" htmlType=\"submit\">\n            搜索\n          </Button>\n        </Form.Item>\n      </Row>\n    </Form>\n  );\n};\n\nconst PlayerImage = (props) => {\n  const db = useDB();\n  if (!db) return null;\n  let imgUrl = db.get(\"players\").find({ id: props.id }).value().imgUrl;\n  return (\n    <Image\n      src={CDN_SERVER + imgUrl}\n      fallback=\"data:image/png;base64,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\"\n      width={80}\n      preview=\"false\"\n    />\n  );\n};\n\nconst SupportImage = (props) => {\n  const db = useDB();\n  if (!db) return null;\n  let support = db.get(\"supports\").find({ id: props.id }).value();\n  let imgUrl = \"\";\n  if (support) {\n    imgUrl = support.imgUrl;\n  }\n  return (\n    <Image\n      src={CDN_SERVER + imgUrl}\n      fallback=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAYAAADQvc6UAAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAwSDCIMogwMCcmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsis7PPOq3QdDFcvjV3jOD1boQVTPQrgSkktTgbSf4A4LbmgqISBgTEFyFYuLykAsTuAbJEioKOA7DkgdjqEvQHEToKwj4DVhAQ5A9k3gGyB5IxEoBmML4BsnSQk8XQkNtReEOBxcfXxUQg1Mjc0dyHgXNJBSWpFCYh2zi+oLMpMzyhRcASGUqqCZ16yno6CkYGRAQMDKMwhqj/fAIcloxgHQqxAjIHBEugw5sUIsSQpBobtQPdLciLEVJYzMPBHMDBsayhILEqEO4DxG0txmrERhM29nYGBddr//5/DGRjYNRkY/l7////39v///y4Dmn+LgeHANwDrkl1AuO+pmgAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAwqADAAQAAAABAAAAwwAAAAD9b/HnAAAHlklEQVR4Ae3dP3PTWBSGcbGzM6GCKqlIBRV0dHRJFarQ0eUT8LH4BnRU0NHR0UEFVdIlFRV7TzRksomPY8uykTk/zewQfKw/9znv4yvJynLv4uLiV2dBoDiBf4qP3/ARuCRABEFAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghgg0Aj8i0JO4OzsrPv69Wv+hi2qPHr0qNvf39+iI97soRIh4f3z58/u7du3SXX7Xt7Z2enevHmzfQe+oSN2apSAPj09TSrb+XKI/f379+08+A0cNRE2ANkupk+ACNPvkSPcAAEibACyXUyfABGm3yNHuAECRNgAZLuYPgEirKlHu7u7XdyytGwHAd8jjNyng4OD7vnz51dbPT8/7z58+NB9+/bt6jU/TI+AGWHEnrx48eJ/EsSmHzx40L18+fLyzxF3ZVMjEyDCiEDjMYZZS5wiPXnyZFbJaxMhQIQRGzHvWR7XCyOCXsOmiDAi1HmPMMQjDpbpEiDCiL358eNHurW/5SnWdIBbXiDCiA38/Pnzrce2YyZ4//59F3ePLNMl4PbpiL2J0L979+7yDtHDhw8vtzzvdGnEXdvUigSIsCLAWavHp/+qM0BcXMd/q25n1vF57TYBp0a3mUzilePj4+7k5KSLb6gt6ydAhPUzXnoPR0dHl79WGTNCfBnn1uvSCJdegQhLI1vvCk+fPu2ePXt2tZOYEV6/fn31dz+shwAR1sP1cqvLntbEN9MxA9xcYjsxS1jWR4AIa2Ibzx0tc44fYX/16lV6NDFLXH+YL32jwiACRBiEbf5KcXoTIsQSpzXx4N28Ja4BQoK7rgXiydbHjx/P25TaQAJEGAguWy0+2Q8PD6/Ki4R8EVl+bzBOnZY95fq9rj9zAkTI2SxdidBHqG9+skdw43borCXO/ZcJdraPWdv22uIEiLA4q7nvvCug8WTqzQveOH26fodo7g6uFe/a17W3+nFBAkRYENRdb1vkkz1CH9cPsVy/jrhr27PqMYvENYNlHAIesRiBYwRy0V+8iXP8+/fvX11Mr7L7ECueb/r48eMqm7FuI2BGWDEG8cm+7G3NEOfmdcTQw4h9/55lhm7DekRYKQPZF2ArbXTAyu4kDYB2YxUzwg0gi/41ztHnfQG26HbGel/crVrm7tNY+/1btkOEAZ2M05r4FB7r9GbAIdxaZYrHdOsgJ/wCEQY0J74TmOKnbxxT9n3FgGGWWsVdowHtjt9Nnvf7yQM2aZU/TIAIAxrw6dOnAWtZZcoEnBpNuTuObWMEiLAx1HY0ZQJEmHJ3HNvGCBBhY6jtaMoEiJB0Z29vL6ls58vxPcO8/zfrdo5qvKO+d3Fx8Wu8zf1dW4p/cPzLly/dtv9Ts/EbcvGAHhHyfBIhZ6NSiIBTo0LNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiEC/wGgKKC4YMA4TAAAAABJRU5ErkJggg==\"\n      width={80}\n      preview=\"false\"\n    />\n  );\n};\n\nconst Seed = () => {\n  document.title = TITLE;\n  useDidRecover(() => {\n    document.title = TITLE;\n  });\n  const [isSeedInputVisible, setIsSeedInputVisible] = useState(false);\n  const [seedList, setSeedList] = useState([]);\n  const [total, setTotal] = useState(0);\n  // const [current, setCurrent] = useState(0)\n  const [value, setValue] = useState();\n\n  const columns = [\n    {\n      title: \"玩家id\",\n      dataIndex: \"gameId\",\n      key: \"gameId\",\n      render: (text, seed) => (\n        <>\n          <Row>\n            <p>{text}</p>\n            <CopyToClipboard text={text} onCopy={() => message.info(\"成功\")}>\n              <CopyOutlined />\n            </CopyToClipboard>\n          </Row>\n          <Row align=\"middle\">\n            <SmileOutlined onClick={() => like(seed)} />\n            <p>{seed.likes}</p>\n          </Row>\n          <Row align=\"middle\">\n            <FrownOutlined onClick={() => dislike(seed)} />\n            <p>{seed.dislikes}</p>\n          </Row>\n          {seed.userId === userId && (\n            <Row align=\"middle\">\n              <DeleteOutlined onClick={() => deleteSeed(seed)} />\n            </Row>\n          )}\n        </>\n      ),\n    },\n    {\n      title: \"主要\",\n      dataIndex: \"playerId0\",\n      key: \"playerId0\",\n      render: (text) => <PlayerImage id={text} />,\n    },\n    {\n      title: \"蓝色因子\",\n      dataIndex: \"blue0\",\n      key: \"blue0\",\n      render: (text, record) => (\n        <span className=\"rate-label\">{`${SEED_BLUE_LABELS[text]}\\xa0\\xa0${record[\"blueLevel0\"]}`}</span>\n      ),\n    },\n    {\n      title: \"红色因子\",\n      dataIndex: \"red0\",\n      key: \"red0\",\n      render: (text, record) => (\n        <span className=\"rate-label\">{`${SEED_RED_LABELS[text]}\\xa0\\xa0${record[\"redLevel0\"]}`}</span>\n      ),\n    },\n    {\n      title: \"绿色因子\",\n      dataIndex: \"greenLevel0\",\n      key: \"greenLevel0\",\n      render: (text, record) => (\n        <span className=\"rate-label\">{`固有\\xa0\\xa0${record[\"greenLevel0\"]}`}</span>\n      ),\n    },\n    {\n      title: \"URA\",\n      dataIndex: \"uraLevel0\",\n      key: \"uraLevel0\",\n      render: (text, record) => (\n        <span className=\"rate-label\">\n          {`${record[\"uraLevel0\"] ? `URA  ${record[\"uraLevel0\"]}` : \"\"}`}\n        </span>\n      ),\n    },\n    {\n      title: \"父辈1\",\n      dataIndex: \"playerId1\",\n      key: \"playerId1\",\n      render: (text) => <PlayerImage id={text} />,\n    },\n    {\n      title: \"父辈2\",\n      dataIndex: \"playerId2\",\n      key: \"playerId2\",\n      render: (text) => <PlayerImage id={text} />,\n    },\n    {\n      title: \"总计蓝色\",\n      key: \"allBlue\",\n      render: (text, record) =>\n        Object.keys(SEED_BLUE_LABELS).map((key) => {\n          if (record[key]) {\n            return (\n              <span\n                key={key}\n                className=\"rate-label\"\n              >{`${SEED_BLUE_LABELS[key]}\\xa0\\xa0${record[key]}`}</span>\n            );\n          } else {\n            return null;\n          }\n        }),\n    },\n    {\n      title: \"总计红色\",\n      key: \"allRed\",\n      render: (text, record) =>\n        Object.keys(SEED_RED_LABELS).map((key) => {\n          if (record[key]) {\n            return (\n              <span\n                key={key}\n                className=\"rate-label\"\n              >{`${SEED_RED_LABELS[key]}\\xa0\\xa0${record[key]}`}</span>\n            );\n          } else {\n            return null;\n          }\n        }),\n    },\n    { title: \"总计URA\", dataIndex: \"uraLevel\", key: \"uraLevel\", render: (text) => text },\n    { title: \"总计白色\", dataIndex: \"white\", key: \"white\", render: (text) => text },\n    {\n      title: \"支援卡\",\n      dataIndex: \"supportId\",\n      key: \"supportId\",\n      render: (text) => <SupportImage id={text} />,\n    },\n    {\n      title: \"突破等级\",\n      dataIndex: \"supportLevel\",\n      key: \"supportLevel\",\n      render: (text, record) => (\n        <Row>\n          <Rate count={4} value={record[\"supportLevel\"]} disabled />\n        </Row>\n      ),\n    },\n  ];\n\n  const showSeedInput = (index) => {\n    setIsSeedInputVisible(true);\n  };\n  const closeSeedInput = () => {\n    setIsSeedInputVisible(false);\n  };\n  const showMySeed = () => {\n    search({ attrs: [\"userId\"], levels: [userId] });\n  };\n  const deleteSeed = async (value) => {\n    const res = await axios.post(\"https://urarawin.com/api/sqlite/delete\", value);\n    if (res.data) {\n      message.info(\"成功删除\");\n    } else {\n      message.info(\"出错了\");\n    }\n  };\n  const search = async (value) => {\n    setValue(value);\n    const res = await axios.post(\"https://urarawin.com/api/sqlite/search\", value);\n    // setCurrent(0)\n    if (res.data) {\n      if (res.data.count) {\n        setSeedList([...res.data.list]);\n        setTotal(res.data.count);\n      } else {\n        setSeedList([]);\n        setTotal(0);\n        message.info(\"暂无数据\");\n      }\n    } else {\n      message.info(\"出错了\");\n    }\n  };\n  const like = async (seed) => {\n    if (!userId) {\n      message.info(\"刷新后重试\");\n      return;\n    }\n    let id = seed.id;\n    const res = await axios.post(\"https://urarawin.com/api/sqlite/like\", { id, userId });\n    if (res.data) {\n      message.info(\"成功\");\n      seed.likes += 1;\n    }\n    setSeedList([...seedList]);\n  };\n  const dislike = async (seed) => {\n    if (!userId) {\n      message.info(\"刷新后重试\");\n      return;\n    }\n    let id = seed.id;\n    const res = await axios.post(\"https://urarawin.com/api/sqlite/dislike\", { id, userId });\n    if (res.data) {\n      message.info(\"成功\");\n      seed.dislikes += 1;\n    }\n    setSeedList([...seedList]);\n  };\n  const onChange = (e) => {\n    search({\n      ...value,\n      count: e.total,\n      offset: e.current * 10 - 10,\n    });\n  };\n  return (\n    <>\n      <div className=\"seed-container\">\n        <Card className=\"card\" title=\"过滤条件\">\n          <SearchForm search={search} />\n          <Button onClick={() => showSeedInput()}>配置我的种子</Button>\n          <Button onClick={() => showMySeed()}>查看我的种子</Button>\n        </Card>\n        <Card className=\"card\" title=\"结果\">\n          <Table\n            columns={columns}\n            dataSource={seedList}\n            onChange={onChange}\n            pagination={{\n              pageSize: 10,\n              total: total,\n              simple: true,\n              showQuickJumper: false,\n              position: [\"topRight\", \"bottomRight\"],\n            }}\n            rowKey={\"id\"}\n          />\n        </Card>\n      </div>\n      <Modal\n        visible={isSeedInputVisible}\n        onOk={closeSeedInput}\n        onCancel={closeSeedInput}\n        footer={null}\n        width={\"80%\"}\n      >\n        <SeedInput onFinish={closeSeedInput} />\n      </Modal>\n    </>\n  );\n};\nexport default Seed;\n","import React, { useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport shortid from \"shortid\";\nimport { useDidRecover } from \"react-router-cache-route\";\nimport Button from \"@material-tailwind/react/Button\";\n\nimport { useDB } from \"../../hooks\";\nimport dbL from \"@/dbL.js\";\nimport { useTranslation } from \"react-i18next\";\nimport {\n  Divider,\n  Row,\n  Col,\n  Modal,\n  Popconfirm,\n  Popover,\n  // Tooltip\n} from \"antd\";\nimport { EditOutlined } from \"@ant-design/icons\";\nimport SupportListWithFilter from \"@/components/support/SupportListWithFilter\";\nimport PlayerList from \"@/components/player/PlayerList.js\";\nimport { RaceTimeline, RaceCheckbox } from \"../../components/race\";\n\nimport { CDN_SERVER } from \"@/config\";\n\nconst TITLE = \"育成 - 乌拉拉大胜利 - 赛马娘资料站\";\n\nconst Nurturing = (props) => {\n  const { t } = useTranslation();\n  const history = useHistory();\n  document.title = TITLE;\n  useDidRecover(() => {\n    document.title = TITLE;\n  });\n  const [needSelect, setNeedSelect] = useState(false);\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\n\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\n  const [supportIndex, setSupportIndex] = useState(1);\n\n  // const [isRaceVisible, setIsRaceVisible] = useState(false);\n\n  const selected = dbL.get(\"selected\").value();\n  const [supports, setSupports] = useState(selected.supports);\n  const [player, setPlayer] = useState(selected.player);\n  const [raceFilterCondition, setRaceFilterCondition] = useState(\n    selected.raceFilterCondition || {\n      distanceType: [],\n      grade: [],\n      ground: [],\n    }\n  );\n  const [filterRace, setFilterRace] = useState(selected.filterRace || {});\n  const [decks, setDecks] = useState(dbL.get(\"myDecks\").value());\n  const db = useDB();\n  if (!db) return null;\n  const races = db.get(\"races\").value();\n  const showPlayer = () => {\n    setIsPlayerVisible(true);\n  };\n  const closePlayer = () => {\n    setIsPlayerVisible(false);\n  };\n  const handleSelectPlayer = (data) => {\n    setIsPlayerVisible(false);\n    setPlayer(data);\n\n    // save\n    selected.player = data;\n    dbL.get(\"selected\").assign(selected).write();\n    closePlayer();\n  };\n\n  const showSupport = (index) => {\n    setNeedSelect(true);\n    setIsSupportVisible(true);\n    setSupportIndex(index);\n  };\n  const showSupport2 = (index) => {\n    setNeedSelect(false);\n    setIsSupportVisible(true);\n    setSupportIndex(index);\n  };\n\n  const closeSupport = () => {\n    setIsSupportVisible(false);\n  };\n  const handleSelectSupport = (data) => {\n    let newData = {};\n    newData[supportIndex] = data;\n    setSupports(Object.assign({}, supports, newData));\n    setIsSupportVisible(false);\n\n    // save\n    selected.supports[supportIndex] = data;\n    dbL.get(\"selected\").assign(selected).write();\n    closeSupport();\n  };\n  const handleSelectSupportShow = (data) => {\n    history.push(`/support-detail/${data.id}`);\n    closeSupport();\n  };\n  // 卡组相关操作\n  const saveDeck = (deck) => {\n    let tmpDeck = {\n      imgUrls: [],\n      supportsId: [],\n    };\n    if (player.id) {\n      tmpDeck.playerId = player.id;\n      tmpDeck.imgUrls.push(player.imgUrl);\n    }\n    [0, 1, 2, 3, 4, 5].forEach((index) => {\n      if (supports[index] && supports[index].id) {\n        tmpDeck.imgUrls.push(supports[index].imgUrl);\n        tmpDeck.supportsId.push(supports[index].id);\n      } else {\n        tmpDeck.supportsId.push(null);\n      }\n    });\n    if (deck) {\n      //update\n      dbL.get(\"myDecks\").find({ id: deck.id }).assign(tmpDeck).write();\n    } else {\n      //\n      tmpDeck.id = shortid.generate();\n      dbL.get(\"myDecks\").push(tmpDeck).write();\n    }\n    setDecks([...dbL.get(\"myDecks\").value()]);\n  };\n  const loadDeck = (deck) => {\n    selected.supports = { 0: {}, 1: {}, 2: {}, 3: {}, 4: {}, 5: {} };\n    selected.player = {};\n    if (deck.playerId) {\n      selected.player = db.get(\"players\").find({ id: deck.playerId }).value();\n    }\n    setPlayer(selected.player);\n    deck.supportsId.forEach((id, index) => {\n      if (id) {\n        selected.supports[index] = db.get(\"supports\").find({ id: id }).value();\n      }\n    });\n    setSupports({ ...selected.supports });\n    db.get(\"selected\").assign(selected).write();\n  };\n  const deleteDeck = (deck) => {\n    dbL.get(\"myDecks\").remove({ id: deck.id }).write();\n    setDecks([...dbL.get(\"myDecks\").value()]);\n  };\n  // race checkbox发生变化\n  const onChangeRace = (filterCondition) => {\n    setRaceFilterCondition(filterCondition);\n    //根据条件过滤\n    let tmpRaceList = Object.values(filterCondition).some((f) => f.length > 0)\n      ? Object.entries(filterCondition)\n          .filter(([key, filters]) => filters.length > 0)\n          .reduce(\n            (result, [key, filters]) => result.filter((race) => filters.includes(race[key])),\n            races\n          )\n      : [];\n    //过滤后整理成 dataNum:[raceId]\n    let tmpFilterRace = {};\n    for (let race of tmpRaceList) {\n      if (tmpFilterRace[race.dateNum]) {\n        tmpFilterRace[race.dateNum].push(race.id);\n      } else {\n        tmpFilterRace[race.dateNum] = [race.id];\n      }\n    }\n    //更新state\n    setFilterRace(tmpFilterRace);\n    selected.raceFilterCondition = filterCondition;\n    selected.filterRace = tmpFilterRace;\n    dbL\n      .get(\"selected\")\n      .assign({ ...selected })\n      .write();\n  };\n\n  const toSupportDetail = (id) => {\n    props.history.push(`/support-detail/${id}`);\n  };\n  const toPlayerDetail = (id) => {\n    props.history.push(`/player-detail/${id}/1`);\n  };\n  const toBuffList = (id) => {\n    props.history.push(`/buff`);\n  };\n\n  return (\n    <>\n      <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n        {player.imgUrl && (\n          <img\n            src={CDN_SERVER + player.imgUrl}\n            alt={player.imgUrl}\n            width=\"128\"\n            onClick={() => toPlayerDetail(player.id)}\n          />\n        )}\n        <div className=\"flex-auto flex flex-wrap items-center\">\n          <Button size=\"sm\" buttonType=\"outline\" onClick={showPlayer}>\n            {t(\"选择马娘\")}\n          </Button>\n          <Button size=\"sm\" buttonType=\"outline\" onClick={showSupport2}>\n            {t(\"支援卡查询\")}\n          </Button>\n          <Button size=\"sm\" buttonType=\"outline\" onClick={toBuffList}>\n            {t(\"BUFF\")}\n          </Button>\n          <Popover\n            trigger=\"click\"\n            content={\n              <RaceCheckbox onChange={onChangeRace} raceFilterCondition={raceFilterCondition} />\n            }\n          >\n            <Button>{t(\"比赛\")}</Button>\n          </Popover>\n          <Popover\n            trigger=\"click\"\n            width={\"80%\"}\n            content={\n              <>\n                <Button size=\"sm\" buttonType=\"outline\" onClick={() => saveDeck()}>\n                  {t(\"保存为新卡组\")}\n                </Button>\n                {decks.map((deck) => (\n                  <Row key={deck.id}>\n                    {deck.imgUrls.map((imgUrl) => (\n                      <Col span={3} key={imgUrl}>\n                        <img src={CDN_SERVER + imgUrl} alt={imgUrl} width={\"100\"} />\n                      </Col>\n                    ))}\n                    <Col span={3}>\n                      <Button\n                        size=\"sm\"\n                        buttonType=\"outline\"\n                        type=\"primary\"\n                        onClick={() => loadDeck(deck)}\n                      >\n                        {t(\"读取卡组\")}\n                      </Button>\n                      <Popconfirm title=\"确认覆盖？\" onConfirm={() => saveDeck(deck)}>\n                        <Button size=\"sm\" buttonType=\"outline\" danger type=\"dashed\">\n                          {t(\"覆盖卡组\")}\n                        </Button>\n                      </Popconfirm>\n                      <Popconfirm title=\"确认删除？\" onConfirm={() => deleteDeck(deck)}>\n                        <Button size=\"sm\" buttonType=\"outline\" danger type=\"dashed\">\n                          {t(\"删除卡组\")}\n                        </Button>\n                      </Popconfirm>\n                    </Col>\n                  </Row>\n                ))}\n              </>\n            }\n          >\n            <Button>{t(\"我的卡组\")}</Button>\n          </Popover>\n        </div>\n      </div>\n\n      <Row justify=\"space-around\">\n        {[0, 1, 2, 3, 4, 5].map((index) => (\n          <Col span={7} key={index} style={{}}>\n            <Button\n              size=\"sm\"\n              buttonType=\"outline\"\n              icon={<EditOutlined />}\n              onClick={() => showSupport(index)}\n            >\n              {t(\"选择支援卡\")}\n            </Button>\n            {supports[index] && supports[index].id && (\n              <img\n                src={CDN_SERVER + supports[index].imgUrl}\n                alt={supports[index].name}\n                width={\"100%\"}\n                onClick={() => toSupportDetail(supports[index].id)}\n              />\n            )}\n          </Col>\n        ))}\n      </Row>\n\n      <Divider>比赛</Divider>\n      <div style={{ overflow: \"auto\", paddingTop: \"10px\", width: \"100%\", height: \"400px\" }}>\n        <RaceTimeline raceList={player.raceList} filterRace={filterRace} />\n      </div>\n\n      <Modal\n        visible={isPlayerVisible}\n        onOk={closePlayer}\n        onCancel={closePlayer}\n        footer={null}\n        width={\"100%\"}\n        bodyStyle={{ maxHeight: \"80vh\", overflow: \"auto\" }}\n      >\n        <PlayerList sortFlag={true} onClick={handleSelectPlayer} />\n      </Modal>\n      <Modal\n        visible={isSupportVisible}\n        onOk={closeSupport}\n        onCancel={closeSupport}\n        footer={null}\n        width={\"100%\"}\n        bodyStyle={{ height: \"80vh\", overflow: \"auto\" }}\n      >\n        <SupportListWithFilter\n          formName=\"nurSupMo\"\n          onClick={needSelect ? handleSelectSupport : handleSelectSupportShow}\n          sortFlag={true}\n        />\n      </Modal>\n    </>\n  );\n};\n\nexport default Nurturing;\n","import React, { useState } from \"react\";\nimport Button from \"@material-tailwind/react/Button\";\n\nimport { Picker, List } from \"antd-mobile\";\n\nimport { Image, Modal, Rate, Form } from \"antd\";\nimport { message } from \"antd\";\n//test\nimport { PlusOutlined, SmileOutlined, FrownOutlined, CopyOutlined } from \"@ant-design/icons\";\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\nimport { useDidRecover } from \"react-router-cache-route\";\nimport axios from \"axios\";\n\nimport dbL from \"../../dbL\";\nimport SupportListWithFilter from \"@/components/support/SupportListWithFilter\";\nimport PlayerList from \"@/components/player/PlayerList.js\";\n\nimport { useDB } from \"../../hooks\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { CDN_SERVER, SEED_BLUE_LABELS, SEED_RED_LABELS } from \"@/config\";\n\nconst TITLE = \"分享 - 乌拉拉大胜利 - 赛马娘资料站\";\nlet userId = dbL.get(\"userId\").value();\n\nconst PlayerInput = ({ value = {}, onChange }) => {\n  const [isPlayerVisible, setIsPlayerVisible] = useState(false);\n  const [data, setData] = useState({});\n  const showPlayer = (index) => {\n    setIsPlayerVisible(true);\n  };\n  const closePlayer = () => {\n    setIsPlayerVisible(false);\n  };\n  const triggerChange = (changedValue) => {\n    setIsPlayerVisible(false);\n    onChange?.({\n      ...data,\n      ...value,\n      ...changedValue,\n    });\n  };\n  const handleSelectPlayer = (data) => {\n    setData(data);\n    closePlayer();\n    triggerChange(data);\n  };\n  return (\n    <>\n      <div className=\"w-16 h-16\">\n        <Image\n          src={data.imgUrl ? CDN_SERVER + data.imgUrl : \"\"}\n          preview=\"false\"\n          fallback=\"data:image/png;base64,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\"\n          onClick={showPlayer}\n        />\n      </div>\n      <Modal\n        visible={isPlayerVisible}\n        onOk={closePlayer}\n        onCancel={closePlayer}\n        width={\"100%\"}\n        bodyStyle={{ maxHeight: \"80vh\", overflow: \"auto\" }}\n      >\n        <PlayerList sortFlag={true} onClick={handleSelectPlayer} />\n      </Modal>\n    </>\n  );\n};\nconst SupportInput = ({ value = {}, onChange }) => {\n  const [isSupportVisible, setIsSupportVisible] = useState(false);\n  const [data, setData] = useState({});\n  const showSupport = (index) => {\n    setIsSupportVisible(true);\n  };\n  const closeSupport = () => {\n    setIsSupportVisible(false);\n  };\n  const triggerChange = (changedValue) => {\n    setIsSupportVisible(false);\n    onChange?.({\n      ...data,\n      ...value,\n      ...changedValue,\n    });\n  };\n  const handleSelectSupport = (data) => {\n    setData(data);\n    closeSupport();\n    triggerChange(data);\n  };\n  return (\n    <>\n      <div className=\"w-16 h-16\">\n        <Image\n          src={data.imgUrl ? CDN_SERVER + data.imgUrl : \"\"}\n          preview=\"false\"\n          fallback=\"data:image/png;base64,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\"\n          onClick={showSupport}\n        />\n      </div>\n      <Modal\n        visible={isSupportVisible}\n        onOk={closeSupport}\n        onCancel={closeSupport}\n        width={\"100%\"}\n        bodyStyle={{ height: \"80vh\" }}\n      >\n        <div className=\"w-full h-full overflow-hidden flex relative\">\n          <SupportListWithFilter\n            formName=\"seedSupMo\"\n            onClick={handleSelectSupport}\n            sortFlag={true}\n          />\n        </div>\n      </Modal>\n    </>\n  );\n};\n\nconst SearchOne = (props) => {\n  const { t } = useTranslation();\n  const PICKER_LISTS = [\n    [\n      { value: \"speed\", label: t(\"速度\") },\n      { value: \"stamina\", label: t(\"耐力\") },\n      { value: \"power\", label: t(\"力量\") },\n      { value: \"guts\", label: t(\"根性\") },\n      { value: \"wisdom\", label: t(\"智力\") },\n      { value: \"grass\", label: t(\"草地\") },\n      { value: \"dirt\", label: t(\"泥地\") },\n      { value: \"shortDistance\", label: t(\"短距离\") },\n      { value: \"mile\", label: t(\"英里\") },\n      { value: \"mediumDistance\", label: t(\"中距离\") },\n      { value: \"longDistance\", label: t(\"长距离\") },\n      { value: \"escapeR\", label: t(\"逃\") },\n      { value: \"leadingR\", label: t(\"先\") },\n      { value: \"insertR\", label: t(\"差\") },\n      { value: \"trackingR\", label: t(\"追\") },\n    ],\n    [\n      { value: 1, label: `1${t(\"星\")}` },\n      { value: 2, label: `2${t(\"星\")}` },\n      { value: 3, label: `3${t(\"星\")}` },\n      { value: 4, label: `4${t(\"星\")}` },\n      { value: 5, label: `5${t(\"星\")}` },\n      { value: 6, label: `6${t(\"星\")}` },\n      { value: 7, label: `7${t(\"星\")}` },\n      { value: 8, label: `8${t(\"星\")}` },\n      { value: 9, label: `9${t(\"星\")}` },\n    ],\n  ];\n  return (\n    <Form.List name={props.name}>\n      {(fields, { add, remove }, { errors }) => (\n        <List>\n          {fields.map((field, index) => (\n            <Form.Item\n              {...field}\n              key={field.key}\n              name={[field.name, \"attr\"]}\n              fieldKey={[field.fieldKey, \"attr\"]}\n              rules={[{ required: true }]}\n              validateTrigger={[\"onChange\", \"onBlur\"]}\n              noStyle\n            >\n              <Picker data={PICKER_LISTS} cascade={false} extra={t(\"请选择\")}>\n                <List.Item arrow=\"horizontal\">{t(\"过滤条件(总计)\")}</List.Item>\n              </Picker>\n            </Form.Item>\n          ))}\n          <List.Item>\n            <Button type=\"dashed\" onClick={() => add()} icon={<PlusOutlined />}>\n              {t(\"添加过滤条件\")}\n            </Button>\n          </List.Item>\n        </List>\n      )}\n    </Form.List>\n  );\n};\nconst SearchForm = (props) => {\n  const { t } = useTranslation();\n  const [form] = Form.useForm();\n\n  const onFinish = async (value) => {\n    let formData = { attrs: [], levels: [] };\n    if (value[\"player0\"]) {\n      formData.attrs.push(\"playerId0\");\n      formData.levels.push(value[\"player0\"].id);\n    }\n    if (value[\"support\"]) {\n      formData.attrs.push(\"supportId\");\n      formData.levels.push(value[\"support\"].id);\n    }\n    value.p1?.forEach((item) => {\n      formData.attrs.push(item.attr[0]);\n      formData.levels.push(item.attr[1]);\n    });\n\n    props.search(formData);\n  };\n  const onReset = () => {\n    form.resetFields();\n  };\n  return (\n    <Form name=\"搜索\" form={form} onFinish={onFinish} className=\"seed-form w-full\">\n      <SearchOne name=\"p1\" />\n      <div className=\"grid grid-cols-4 w-full \" align=\"start\">\n        <div>\n          {t(\"角色\")}\n          <Form.Item name={`player0`}>\n            <PlayerInput />\n          </Form.Item>\n        </div>\n        <div>\n          {t(\"支援卡\")}\n          <Form.Item name={\"support\"}>\n            <SupportInput />\n          </Form.Item>\n        </div>\n        <div className=\"col-span-2\">\n          {t(\"突破等级\")}\n          <Form.Item name={\"supportLevel\"} initialValue={0}>\n            <Rate count={4} />\n          </Form.Item>\n        </div>\n      </div>\n      <div className=\"flex justify-end\">\n        <Form.Item>\n          <Button htmlType=\"button\" onClick={() => onReset()}>\n            {t(\"重置\")}\n          </Button>\n        </Form.Item>\n        <Form.Item>\n          <Button type=\"primary\" htmlType=\"submit\">\n            {t(\"搜索\")}\n          </Button>\n        </Form.Item>\n      </div>\n    </Form>\n  );\n};\n\nconst SeedCard = (props) => {\n  const { t } = useTranslation();\n  const db = useDB();\n  if (!db) return null;\n  const data = props.data;\n  const player = db.get(\"players\").find({ id: data.playerId0 }).value();\n  const support = db.get(\"supports\").find({ id: data.supportId }).value();\n  const like = async (seed) => {\n    if (!userId) {\n      message.info(t(\"刷新后重试\"));\n      return;\n    }\n    let id = seed.id;\n    const res = await axios.post(\"https://urarawin.com/api/sqlite/like\", { id, userId });\n    if (res.data) {\n      message.info(t(\"成功\"));\n      seed.likes += 1;\n    }\n  };\n  const dislike = async (seed) => {\n    if (!userId) {\n      message.info(t(\"刷新后重试\"));\n      return;\n    } else if (seed.dislikes && seed.dislikes.indexOf(userId) !== -1) {\n      return;\n    }\n    let id = seed.id;\n    const res = await axios.post(\"https://urarawin.com/api/sqlite/dislike\", { id, userId });\n    if (res.data) {\n      message.info(t(\"成功\"));\n      seed.dislikes += 1;\n    }\n  };\n  return (\n    <div className=\"w-1/2 p-1\">\n      <div className=\"border-green-300 border border-solid flex flex-col\">\n        <CopyToClipboard text={data.gameId} onCopy={() => message.info(\"成功\")}>\n          <div className=\"w-full flex text-lg\">\n            {data.gameId}\n            <CopyOutlined />\n          </div>\n        </CopyToClipboard>\n        <div className=\"w-full flex items-center justify-around\">\n          {player && (\n            <img alt={player.name} src={CDN_SERVER + player.imgUrl} className=\"w-10 h-10\" />\n          )}\n          {support && <img alt={support.name} src={CDN_SERVER + support.imgUrl} className=\"w-10\" />}\n          <div className=\"text-lg flex\" onClick={() => like(data)}>\n            <SmileOutlined />\n            <div>{data.likes}</div>\n          </div>\n          <div className=\"text-lg flex\" onClick={() => dislike(data)}>\n            <FrownOutlined />\n            <div>{data.dislikes}</div>\n          </div>\n        </div>\n        <div>{`${t(SEED_BLUE_LABELS[data[\"blue0\"]])}: ${data[\"blueLevel0\"]}`}</div>\n        <div>{`${t(SEED_RED_LABELS[data[\"red0\"]])}: ${data[\"redLevel0\"]}`}</div>\n        {Object.keys(SEED_BLUE_LABELS).map((key) =>\n          data[key] ? (\n            <div key={key}>{`${t(\"总计\")} ${t(SEED_BLUE_LABELS[key])}: ${data[key]}`}</div>\n          ) : null\n        )}\n        {Object.keys(SEED_RED_LABELS).map((key) =>\n          data[key] ? (\n            <div key={key}>{`${t(\"总计\")} ${t(SEED_RED_LABELS[key])}: ${data[key]}`}</div>\n          ) : null\n        )}\n        <div>{`${t(\"突破等级\")}: ${data[\"supportLevel\"] || 0}`}</div>\n      </div>\n    </div>\n  );\n};\nconst Seed = () => {\n  const { t } = useTranslation();\n  document.title = TITLE;\n  useDidRecover(() => {\n    document.title = TITLE;\n  });\n\n  const [seedList, setSeedList] = useState([]);\n  const search = async (value) => {\n    const res = await axios.post(\"https://urarawin.com/api/sqlite/search\", value);\n    if (res.data) {\n      if (res.data.count) {\n        setSeedList([...res.data.list]);\n      } else {\n        message.info(t(\"暂无数据\"));\n      }\n    } else {\n      message.info(t(\"出错了\"));\n    }\n  };\n  return (\n    <div className=\"w-full flex flex-wrap px-3\">\n      <SearchForm search={search} />\n      <div className=\"w-full text-lg font-semibold\">{t(\"结果\")}</div>\n      {seedList.map((seed) => {\n        return <SeedCard key={seed.id} data={seed} />;\n      })}\n    </div>\n  );\n};\nexport default Seed;\n","import React from \"react\";\nimport { useDidRecover } from \"react-router-cache-route\";\nimport SupportDetail from \"../../components/support/SupportDetail.js\";\n\nconst TITLE = \"支援 - 乌拉拉大胜利 - 赛马娘资料站\";\nconst SupportDetailPage = (props) => {\n  const id = props.match?.params?.id;\n  document.title = TITLE;\n  useDidRecover(() => {\n    document.title = TITLE;\n  });\n  return (\n    <div className=\"flex flex-auto w-full flex-wrap max-w-6xl mx-auto\">\n      <SupportDetail id={id} />\n    </div>\n  );\n};\n\nexport default SupportDetailPage;\n","import React from \"react\";\nimport { useDidRecover } from \"react-router-cache-route\";\nimport PlayerDetail from \"../../components/player/PlayerDetail.js\";\n\nconst TITLE = \"角色 - 乌拉拉大胜利 - 赛马娘资料站\";\nconst PlayerDetailPage = (props) => {\n  const id = props.match?.params?.id;\n  document.title = TITLE;\n  useDidRecover(() => {\n    document.title = TITLE;\n  });\n  return (\n    <div className=\"flex flex-auto w-full flex-wrap max-w-6xl mx-auto\">\n      <PlayerDetail id={id} />\n    </div>\n  );\n};\n\nexport default PlayerDetailPage;\n","import React from \"react\";\nimport { useDidRecover } from \"react-router-cache-route\";\nimport SkillDetail from \"../../components/skill/SkillDetail.js\";\n\nconst TITLE = \"技能 - 乌拉拉大胜利 - 赛马娘资料站\";\nconst SkillDetailPage = (props) => {\n  const id = props.match?.params?.id;\n  document.title = TITLE;\n  useDidRecover(() => {\n    document.title = TITLE;\n  });\n  return <SkillDetail id={id} />;\n};\n\nexport default SkillDetailPage;\n","import i18n from \"i18next\";\nimport { initReactI18next } from \"react-i18next\";\nimport Backend from \"i18next-http-backend\";\nimport LanguageDetector from \"i18next-browser-languagedetector\";\ni18n\n  .use(Backend)\n  .use(LanguageDetector)\n  .use(initReactI18next)\n  .init({\n    react: {\n      // 是否需要在最外层加入Suspense标签\n      useSuspense: false,\n    },\n    lng: \"zh_CN\",\n    fallbackLng: \"zh_CN\",\n    load: \"currentOnly\",\n    backend: {\n      loadPath: `https://fastly.jsdelivr.net/gh/wrrwrr111/pretty-derby@master/src/assert/locales/{{lng}}.json`,\n      crossDomain: true,\n    },\n  });\n\n// https://fastly.jsdelivr.net/gh/wrrwrr111/pretty-derby@master/src/assert/locales/zh_CN.json\nexport default i18n;\n","import React, { useState } from \"react\";\n\nimport Modal from \"@material-tailwind/react/Modal\";\nimport ModalBody from \"@material-tailwind/react/ModalBody\";\nimport Button from \"@material-tailwind/react/Button\";\n\nimport i18n from \"../i18n\";\nconst LanButton = () => {\n  const [show, setShow] = useState(false);\n  const changeLanguage = (lan) => {\n    i18n.changeLanguage(lan);\n    setShow(false);\n  };\n  return (\n    <>\n      <Button size=\"sm\" color=\"lightBlue\" onClick={() => setShow(true)} ripple=\"light\">\n        {i18n.language}\n      </Button>\n      <Modal active={show} toggler={() => setShow(false)}>\n        <ModalBody>\n          <div className=\"grid grid-cols-3 gap-3\">\n            <Button onClick={() => changeLanguage(\"zh_CN\")}>zh_CN</Button>\n            <Button className=\"cursor-pointer\" onClick={() => changeLanguage(\"en\")}>\n              en\n            </Button>\n          </div>\n        </ModalBody>\n      </Modal>\n    </>\n  );\n};\n\nexport default LanButton;\n","import React, { useState } from \"react\";\nimport { useLocation, useHistory } from \"react-router-dom\";\n\nimport Navbar from \"@material-tailwind/react/Navbar\";\nimport NavbarContainer from \"@material-tailwind/react/NavbarContainer\";\nimport NavbarWrapper from \"@material-tailwind/react/NavbarWrapper\";\nimport NavbarBrand from \"@material-tailwind/react/NavbarBrand\";\nimport NavbarToggler from \"@material-tailwind/react/NavbarToggler\";\nimport NavbarCollapse from \"@material-tailwind/react/NavbarCollapse\";\nimport Nav from \"@material-tailwind/react/Nav\";\nimport NavLink from \"@material-tailwind/react/NavLink\";\n\nimport useUa from \"@/utils/ua.js\";\nimport LanButton from \"@/components/lan-button.js\";\nimport { CDN_SERVER } from \"@/config\";\nimport dbL from \"@/dbL.js\";\nimport { useTranslation } from \"react-i18next\";\nimport { PC_MENU_LIST, MOBILE_MENU_LIST } from \"@/config\";\nconst Layout = ({ children, contentClass, rootClass }) => {\n  const { t } = useTranslation();\n  const [openNavbar, setOpenNavbar] = useState(false);\n  const ua = useUa();\n  const location = useLocation();\n  const history = useHistory();\n  const resetNur = () => {\n    dbL\n      .set(\"selected\", {\n        supports: { 0: {}, 1: {}, 2: {}, 3: {}, 4: {}, 5: {} },\n        player: {},\n        races: [],\n      })\n      .write();\n  };\n\n  const list = ua.isPhone ? MOBILE_MENU_LIST : PC_MENU_LIST;\n  return (\n    <div className={\"flex flex-col w-screen min-h-screen relative\"}>\n      <Navbar className=\"sticky top-0 z-50\" color=\"lightBlue\" navbar>\n        <NavbarContainer>\n          <NavbarWrapper>\n            <NavbarBrand>赛马娘</NavbarBrand>\n            <NavbarToggler\n              color=\"white\"\n              onClick={() => setOpenNavbar(!openNavbar)}\n              ripple=\"light\"\n            />\n          </NavbarWrapper>\n\n          <NavbarCollapse open={openNavbar}>\n            <Nav leftSide>\n              {list.map((item) => (\n                // <Link to={item.path} onClick={() => setOpenNavbar(!openNavbar)}>\n                <NavLink\n                  key={item.path}\n                  // href={item.path}\n                  onClick={() => {\n                    setOpenNavbar(!openNavbar);\n                    history.push(item.path);\n                  }}\n                  active={location.pathname === item.path ? \"light\" : \"normal\"}\n                  ripple=\"light\"\n                >\n                  {t(item.title)}\n                </NavLink>\n                // </Link>\n              ))}\n            </Nav>\n          </NavbarCollapse>\n        </NavbarContainer>\n      </Navbar>\n      {children}\n      <div className=\"w-full flex items-center flex-wrap pb-10 md:pb-0\">\n        <div className=\"cursor-pointer\" data-tip=\"无法打开育成页面时点一哈\" onClick={resetNur}>\n          {t(\"初始化育成\")}\n        </div>\n        <LanButton />\n        <div className=\"flex-auto\"></div>\n        <iframe\n          title=\"GitHub\"\n          src=\"https://ghbtns.com/github-btn.html?user=wrrwrr111&repo=pretty-derby&type=star&count=true&size=large&v=2\"\n          frameBorder=\"0\"\n          scrolling=\"0\"\n          width=\"160px\"\n          height=\"30px\"\n        ></iframe>\n        <a\n          target=\"_blank\"\n          rel=\"noreferrer\"\n          href=\"https://qm.qq.com/cgi-bin/qm/qr?k=f2Q2MIqkkxiiYq-sfRYmI7E4v17-r3V2&jump_from=webapi\"\n          data-tip={`\n          <img src=${CDN_SERVER + \"img/q.jpg\"} width={300} />\n          <p>${t(\"闲聊为主\")}</p>\n          `}\n        >\n          <img\n            border=\"0\"\n            src=\"//pub.idqqimg.com/wpa/images/group.png\"\n            alt=\"轻 松 赛 马\"\n            title=\"轻 松 赛 马\"\n          />\n        </a>\n        <div\n          className=\"flex mx-2 items-center\"\n          data-tip={`<img src=${CDN_SERVER + \"img/weapp.jpg\"} width={200} />`}\n        >\n          <img alt=\"reimu\" src={CDN_SERVER + \"reimu.gif\"} preview=\"false\" width={24} />\n          <div>{t(\"微信小程序\")}</div>\n        </div>\n      </div>\n    </div>\n  );\n};\nexport default Layout;\n","import React from \"react\";\n\nimport CacheRoute, { CacheSwitch } from \"react-router-cache-route\";\nimport ReactTooltip from \"react-tooltip\";\n\nimport Race from \"@/pages/race\";\nimport Player from \"@/pages/player\";\nimport Support from \"@/pages/support\";\nimport Nurturing from \"@/pages/nurturing/index\";\nimport Skill from \"@/pages/skill\";\nimport Seed from \"@/pages/seed\";\n// import NotFound from \"@/pages/404\";\n\nimport NurturingMO from \"@/pages/nurturingMo\";\nimport SeedMo from \"@/pages/seedMo\";\n\nimport SupportDetailPage from \"@/pages/support/detail\";\nimport PlayerDetailPage from \"@/pages/player/detail\";\nimport SkillDetailPage from \"@/pages/skill/detail\";\nimport { BuffList } from \"./components/buff.js\";\nimport Layout from \"./components/common/Layout.js\";\nconst AppPc = () => {\n  return (\n    <CacheSwitch>\n      <Layout>\n        <CacheRoute\n          saveScrollPosition\n          className=\"container mx-auto flex-auto\"\n          exact\n          path=\"/\"\n          component={Player}\n        />\n        <CacheRoute\n          saveScrollPosition\n          className=\"container mx-auto flex\"\n          path=\"/support\"\n          component={Support}\n        />\n        <CacheRoute\n          saveScrollPosition\n          className=\"container mx-auto flex\"\n          path=\"/skill\"\n          component={Skill}\n        />\n        <CacheRoute saveScrollPosition path={[\"/nurturing\"]} component={Nurturing} />\n        <CacheRoute saveScrollPosition path={[\"/nurturingMo\"]} component={NurturingMO} />\n        <CacheRoute saveScrollPosition path=\"/seed\" component={Seed} />\n        <CacheRoute saveScrollPosition path=\"/SeedMo\" component={SeedMo} />\n        <CacheRoute saveScrollPosition path=\"/race\" component={Race} />\n        <CacheRoute\n          saveScrollPosition\n          path={[\"/support-detail/:id\", \"/support-detail/:id/:nur\"]}\n          component={SupportDetailPage}\n        />\n        <CacheRoute\n          saveScrollPosition\n          path={[\"/player-detail/:id\", \"/player-detail/:id/:nur\"]}\n          component={PlayerDetailPage}\n        />\n        <CacheRoute saveScrollPosition path=\"/skill-detail/:id\" component={SkillDetailPage} />\n        <CacheRoute saveScrollPosition path=\"/buff\" component={BuffList} />\n        {/* <CacheRoute saveScrollPosition component={NotFound}></CacheRoute> */}\n        <ReactTooltip className=\"z-max !hidden md:!inline-block\" html={true} />\n      </Layout>\n    </CacheSwitch>\n  );\n};\n\nexport default AppPc;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport \"antd/dist/antd.css\";\n// import 'antd-mobile/dist/antd-mobile.min.css';\nimport \"@material-tailwind/react/tailwind.css\";\nimport \"./styles/tailwind.css\";\nimport App from \"./app\";\nimport \"./i18n\";\n\nconst Index = () => {\n  return (\n    <Router>\n      <App></App>\n    </Router>\n  );\n};\n\nReactDOM.render(<Index></Index>, document.getElementById(\"root\"));\n"],"sourceRoot":""}