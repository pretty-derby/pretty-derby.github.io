import{a7 as O,b as _,ac as b,a as A,ae as E}from"./Helmet-CixuOQ1v.js";import{r as l}from"./index-Cv25-zft.js";function d(c){return!!(c&&c.then)}var T=function(e){var r=l.useRef(!1),s=l.useRef(null),m=O(!1),v=_(m,2),h=v[0],f=v[1],i=e.close,o=function(){i==null||i.apply(void 0,arguments)};l.useEffect(function(){var a=null;return e.autoFocus&&(a=setTimeout(function(){var n;(n=s.current)===null||n===void 0||n.focus()})),function(){a&&clearTimeout(a)}},[]);var C=function(n){d(n)&&(f(!0),n.then(function(){f(!1,!0),o.apply(void 0,arguments),r.current=!1},function(t){return f(!1,!0),r.current=!1,Promise.reject(t)}))},g=function(n){var t=e.actionFn;if(!r.current){if(r.current=!0,!t){o();return}var u;if(e.emitEvent){if(u=t(n),e.quitOnNullishReturnValue&&!d(u)){r.current=!1,o(n);return}}else if(t.length)u=t(i),r.current=!1;else if(u=t(),!u){o();return}C(u)}},k=e.type,x=e.children,y=e.prefixCls,P=e.buttonProps;return l.createElement(b,A({},E(k),{onClick:g,loading:h,prefixCls:y},P,{ref:s}),x)};export{T as A};
