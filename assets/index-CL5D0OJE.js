import{e as Bt,f as ie,u as et,r as se,j as C,B as oe,g as or,C as Ie,t as sr,h as le,i as Ft,k as tt,l as ar,d as Ue}from"./index-BeWQ4ddU.js";import{B as lr,E as Ye,S as Xe,R as ur,D as ct,a as dt,b as ft,c as pt,P as cr}from"./PlayerList-C1d86nro.js";import{s as dr,P as rt,a as nt,b as it,A as fr,c as pr,d as hr,e as gr,f as mr,g as vr,h as yr,i as wr,R as br}from"./index-BdiSq67y.js";import{a as be,S as xr}from"./SupportListWithFilter-CcLDJ8-V.js";import{u as Rr}from"./index-Vetmdaaf.js";import{BuffButton as Sr}from"./buff-BQ1px57C.js";import{C as Dr}from"./checkbox-Fvt1YR0R.js";import{L as ht}from"./label-CqIgRxUe.js";import{r as ge,H as Or}from"./Helmet-DbhZTHq3.js";import"./useViewport-RFgbdIw9.js";const Ve={saveDeck:(r,l,s)=>{const a={imgUrls:[],supportsId:[],tags:[]};return l.id&&(a.playerId=l.id,a.imgUrls.push(l.imgUrl)),[0,1,2,3,4,5].forEach(R=>{var g;(g=s[R])!=null&&g.id?(a.imgUrls.push(s[R].imgUrl),a.supportsId.push(s[R].id)):a.supportsId.push(null)}),r?ie.get("myDecks").find({id:r.id}).assign(a).write():(a.id=dr.generate(),ie.get("myDecks").push(a).write()),[...ie.get("myDecks").value()]},deleteDeck:r=>(ie.get("myDecks").remove({id:r.id}).write(),[...ie.get("myDecks").value()]),shareDeck:async r=>{var a;const l={...r,id:r.playerId+r.supportsId.sort((R,g)=>(R||"").localeCompare(g||"")).join("")};return(a=(await Bt.post("https://urarawin-worker.urarawin.workers.dev/api/sqlite/addDeck",l)).data)==null?void 0:a.msg}},_r=({player:r,supports:l,loadDeck:s})=>{const{t:a}=et(),[R,g]=se.useState(ie.get("myDecks").value()),[m,P]=se.useState({type:"save",open:!1}),x=async()=>{let y=R,S="";switch(m.type){case"save":y=Ve.saveDeck(m.deck||null,r,l),S=a("卡组已保存");break;case"delete":y=Ve.deleteDeck(m.deck),S=a("卡组已删除");break;case"share":S=await Ve.shareDeck(m.deck)||a("卡组已分享");break}g(y),P({...m,open:!1}),sr.info(S)},_=(y,S)=>{ie.get("myDecks").find({id:S.id}).assign({tags:y}).write(),g([...ie.get("myDecks").value()])};return C.jsxs(C.Fragment,{children:[C.jsxs(rt,{children:[C.jsx(nt,{asChild:!0,children:C.jsx(oe,{size:"sm",variant:"outline",children:a("我的卡组")})}),C.jsx(it,{className:"w-[800px] max-h-[800px] overflow-auto",children:C.jsxs("div",{className:"space-y-4",children:[C.jsx(oe,{size:"sm",variant:"outline",onClick:()=>P({type:"save",open:!0}),children:a("保存为新卡组")}),R.map(y=>C.jsxs("div",{className:"w-full grid grid-cols-8 gap-2",children:[C.jsxs("div",{className:"col-span-full space-y-2",children:[C.jsx(ht,{children:a("标签")}),C.jsx("div",{className:"flex flex-wrap gap-2",children:or.map(S=>{var M;return C.jsxs("div",{className:"flex items-center space-x-2",children:[C.jsx(Dr,{id:`${y.id}-${S.value}`,checked:((M=y.tags)==null?void 0:M.includes(S.value))||!1,onCheckedChange:O=>{const b=O?[...y.tags||[],S.value]:(y.tags||[]).filter(v=>v!==S.value);_(b,y)}}),C.jsx(ht,{htmlFor:`${y.id}-${S.value}`,children:S.label})]},S.value)})})]}),y.imgUrls.map(S=>C.jsx("div",{className:"col-span-1",children:C.jsx("img",{src:Ie+S,alt:S,className:"w-full"})},S)),C.jsxs("div",{className:"col-span-1 space-y-2",children:[C.jsx(oe,{variant:"outline",size:"sm",onClick:()=>s(y),children:a("读取卡组")}),C.jsx(oe,{variant:"destructive",size:"sm",onClick:()=>P({type:"save",deck:y,open:!0}),children:a("覆盖卡组")}),C.jsx(oe,{variant:"destructive",size:"sm",onClick:()=>P({type:"delete",deck:y,open:!0}),children:a("删除卡组")}),C.jsx(oe,{variant:"outline",size:"sm",onClick:()=>P({type:"share",deck:y,open:!0}),children:a("分享卡组")})]})]},y.id))]})})]}),C.jsx(fr,{open:m.open,onOpenChange:y=>P({...m,open:y}),children:C.jsxs(pr,{children:[C.jsxs(hr,{children:[C.jsx(gr,{children:a("确认操作")}),C.jsxs(mr,{children:[m.type==="save"&&a("确认覆盖卡组？"),m.type==="delete"&&a("确认删除卡组？"),m.type==="share"&&a("确认分享卡组？")]})]}),C.jsxs(vr,{children:[C.jsx(yr,{children:a("取消")}),C.jsx(wr,{onClick:x,children:a("确认")})]})]})})]})},Pr=({player:r,loadDeck:l})=>{const{t:s}=et(),[a,R]=se.useState([]),[g,m]=se.useState(""),P=async()=>{if(g!==r.id){const x=r?{playerId:r.id}:{},_=await Bt.post("https://urarawin-worker.urarawin.workers.dev/api/sqlite/searchDeck",x);R(_.data||[]),m(r.id)}};return C.jsxs(rt,{onOpenChange:x=>x&&P(),children:[C.jsx(nt,{asChild:!0,children:C.jsx(oe,{size:"sm",variant:"outline",children:s("推荐卡组")})}),C.jsx(it,{className:"w-[800px] max-h-[800px] overflow-auto",children:C.jsx("div",{className:"space-y-4",children:a.map(x=>{var _;return C.jsxs("div",{className:"w-full grid grid-cols-8 gap-2",children:[C.jsx("div",{className:"col-span-full space-y-2",children:(_=x.tags)==null?void 0:_.map(y=>C.jsx(lr,{variant:"outline",children:y},y))}),x.imgUrls.map(y=>C.jsx("div",{className:"col-span-1",children:C.jsx("img",{src:Ie+y,alt:y,className:"w-full"})},y)),C.jsx("div",{className:"col-span-1",children:C.jsx(oe,{variant:"outline",size:"sm",onClick:()=>l(x),children:s("读取卡组")})})]},x.id)})})})]})};var Ke={exports:{}},De={},qe={exports:{}},Cr=qe.exports,gt;function ot(){return gt||(gt=1,function(r,l){(function(s,a){a(l)})(Cr,function(s){function a(L){return function(Z,p,h,w,E,T,q){return L(Z,p,q)}}function R(L){return function(Z,p,h,w){if(!Z||!p||typeof Z!="object"||typeof p!="object")return L(Z,p,h,w);var E=w.get(Z),T=w.get(p);if(E&&T)return E===p&&T===Z;w.set(Z,p),w.set(p,Z);var q=L(Z,p,h,w);return w.delete(Z),w.delete(p),q}}function g(L,B){var Z={};for(var p in L)Z[p]=L[p];for(var p in B)Z[p]=B[p];return Z}function m(L){return L.constructor===Object||L.constructor==null}function P(L){return typeof L.then=="function"}function x(L,B){return L===B||L!==L&&B!==B}var _="[object Arguments]",y="[object Boolean]",S="[object Date]",M="[object RegExp]",O="[object Map]",b="[object Number]",v="[object Object]",i="[object Set]",t="[object String]",e=Object.prototype.toString;function n(L){var B=L.areArraysEqual,Z=L.areDatesEqual,p=L.areMapsEqual,h=L.areObjectsEqual,w=L.areRegExpsEqual,E=L.areSetsEqual,T=L.createIsNestedEqual,q=T(A);function A(H,F,Q){if(H===F)return!0;if(!H||!F||typeof H!="object"||typeof F!="object")return H!==H&&F!==F;if(m(H)&&m(F))return h(H,F,q,Q);var me=Array.isArray(H),ae=Array.isArray(F);if(me||ae)return me===ae&&B(H,F,q,Q);var re=e.call(H);return re!==e.call(F)?!1:re===S?Z(H,F,q,Q):re===M?w(H,F,q,Q):re===O?p(H,F,q,Q):re===i?E(H,F,q,Q):re===v||re===_?P(H)||P(F)?!1:h(H,F,q,Q):re===y||re===b||re===t?x(H.valueOf(),F.valueOf()):!1}return A}function c(L,B,Z,p){var h=L.length;if(B.length!==h)return!1;for(;h-- >0;)if(!Z(L[h],B[h],h,h,L,B,p))return!1;return!0}var u=R(c);function d(L,B){return x(L.valueOf(),B.valueOf())}function o(L,B,Z,p){var h=L.size===B.size;if(!h)return!1;if(!L.size)return!0;var w={},E=0;return L.forEach(function(T,q){if(h){var A=!1,H=0;B.forEach(function(F,Q){!A&&!w[H]&&(A=Z(q,Q,E,H,L,B,p)&&Z(T,F,q,Q,L,B,p))&&(w[H]=!0),H++}),E++,h=A}}),h}var f=R(o),D="_owner",z=Object.prototype.hasOwnProperty;function N(L,B,Z,p){var h=Object.keys(L),w=h.length;if(Object.keys(B).length!==w)return!1;for(var E;w-- >0;){if(E=h[w],E===D){var T=!!L.$$typeof,q=!!B.$$typeof;if((T||q)&&T!==q)return!1}if(!z.call(B,E)||!Z(L[E],B[E],E,E,L,B,p))return!1}return!0}var j=R(N);function I(L,B){return L.source===B.source&&L.flags===B.flags}function G(L,B,Z,p){var h=L.size===B.size;if(!h)return!1;if(!L.size)return!0;var w={};return L.forEach(function(E,T){if(h){var q=!1,A=0;B.forEach(function(H,F){!q&&!w[A]&&(q=Z(E,H,T,F,L,B,p))&&(w[A]=!0),A++}),h=q}}),h}var U=R(G),Y=Object.freeze({areArraysEqual:c,areDatesEqual:d,areMapsEqual:o,areObjectsEqual:N,areRegExpsEqual:I,areSetsEqual:G,createIsNestedEqual:a}),$=Object.freeze({areArraysEqual:u,areDatesEqual:d,areMapsEqual:f,areObjectsEqual:j,areRegExpsEqual:I,areSetsEqual:U,createIsNestedEqual:a}),K=n(Y);function X(L,B){return K(L,B,void 0)}var k=n(g(Y,{createIsNestedEqual:function(){return x}}));function W(L,B){return k(L,B,void 0)}var ee=n($);function J(L,B){return ee(L,B,new WeakMap)}var ne=n(g($,{createIsNestedEqual:function(){return x}}));function fe(L,B){return ne(L,B,new WeakMap)}function Se(L){return n(g(Y,L(Y)))}function Fe(L){var B=n(g($,L($)));return function(Z,p,h){return h===void 0&&(h=new WeakMap),B(Z,p,h)}}s.circularDeepEqual=J,s.circularShallowEqual=fe,s.createCustomCircularEqual=Fe,s.createCustomEqual=Se,s.deepEqual=X,s.sameValueZeroEqual=x,s.shallowEqual=W,Object.defineProperty(s,"__esModule",{value:!0})})}(qe,qe.exports)),qe.exports}var Le={exports:{}},mt;function st(){if(mt)return Le.exports;mt=1;function r(s){var a,R,g="";if(typeof s=="string"||typeof s=="number")g+=s;else if(typeof s=="object")if(Array.isArray(s)){var m=s.length;for(a=0;a<m;a++)s[a]&&(R=r(s[a]))&&(g&&(g+=" "),g+=R)}else for(R in s)s[R]&&(g&&(g+=" "),g+=R);return g}function l(){for(var s,a,R=0,g="",m=arguments.length;R<m;R++)(s=arguments[R])&&(a=r(s))&&(g&&(g+=" "),g+=a);return g}return Le.exports=l,Le.exports.clsx=l,Le.exports}var V={},Ze,vt;function Er(){return vt||(vt=1,Ze=function(l,s,a){return l===s?!0:l.className===s.className&&a(l.style,s.style)&&l.width===s.width&&l.autoSize===s.autoSize&&l.cols===s.cols&&l.draggableCancel===s.draggableCancel&&l.draggableHandle===s.draggableHandle&&a(l.verticalCompact,s.verticalCompact)&&a(l.compactType,s.compactType)&&a(l.layout,s.layout)&&a(l.margin,s.margin)&&a(l.containerPadding,s.containerPadding)&&l.rowHeight===s.rowHeight&&l.maxRows===s.maxRows&&l.isBounded===s.isBounded&&l.isDraggable===s.isDraggable&&l.isResizable===s.isResizable&&l.allowOverlap===s.allowOverlap&&l.preventCollision===s.preventCollision&&l.useCSSTransforms===s.useCSSTransforms&&l.transformScale===s.transformScale&&l.isDroppable===s.isDroppable&&a(l.resizeHandles,s.resizeHandles)&&a(l.resizeHandle,s.resizeHandle)&&l.onLayoutChange===s.onLayoutChange&&l.onDragStart===s.onDragStart&&l.onDrag===s.onDrag&&l.onDragStop===s.onDragStop&&l.onResizeStart===s.onResizeStart&&l.onResize===s.onResize&&l.onResizeStop===s.onResizeStop&&l.onDrop===s.onDrop&&a(l.droppingItem,s.droppingItem)&&a(l.innerRef,s.innerRef)}),Ze}var yt;function Re(){if(yt)return V;yt=1,Object.defineProperty(V,"__esModule",{value:!0}),V.bottom=a,V.childrenEqual=x,V.cloneLayout=R,V.cloneLayoutItem=P,V.collides=y,V.compact=S,V.compactItem=b,V.compactType=L,V.correctBounds=v,V.fastPositionEqual=_,V.fastRGLPropsEqual=void 0,V.getAllCollisions=e,V.getFirstCollision=t,V.getLayoutItem=i,V.getStatics=n,V.modifyLayout=g,V.moveElement=c,V.moveElementAwayFromCollision=u,V.noop=void 0,V.perc=d,V.resizeItemInDirection=k,V.setTopLeft=ee,V.setTransform=W,V.sortLayoutItems=J,V.sortLayoutItemsByColRow=fe,V.sortLayoutItemsByRowCol=ne,V.synchronizeLayoutWithChildren=Se,V.validateLayout=Fe,V.withLayoutItem=m;var r=ot(),l=s(le());function s(p){return p&&p.__esModule?p:{default:p}}function a(p){let h=0,w;for(let E=0,T=p.length;E<T;E++)w=p[E].y+p[E].h,w>h&&(h=w);return h}function R(p){const h=Array(p.length);for(let w=0,E=p.length;w<E;w++)h[w]=P(p[w]);return h}function g(p,h){const w=Array(p.length);for(let E=0,T=p.length;E<T;E++)h.i===p[E].i?w[E]=h:w[E]=p[E];return w}function m(p,h,w){let E=i(p,h);return E?(E=w(P(E)),p=g(p,E),[p,E]):[p,null]}function P(p){return{w:p.w,h:p.h,x:p.x,y:p.y,i:p.i,minW:p.minW,maxW:p.maxW,minH:p.minH,maxH:p.maxH,moved:!!p.moved,static:!!p.static,isDraggable:p.isDraggable,isResizable:p.isResizable,resizeHandles:p.resizeHandles,isBounded:p.isBounded}}function x(p,h){return(0,r.deepEqual)(l.default.Children.map(p,w=>w==null?void 0:w.key),l.default.Children.map(h,w=>w==null?void 0:w.key))&&(0,r.deepEqual)(l.default.Children.map(p,w=>w==null?void 0:w.props["data-grid"]),l.default.Children.map(h,w=>w==null?void 0:w.props["data-grid"]))}V.fastRGLPropsEqual=Er();function _(p,h){return p.left===h.left&&p.top===h.top&&p.width===h.width&&p.height===h.height}function y(p,h){return!(p.i===h.i||p.x+p.w<=h.x||p.x>=h.x+h.w||p.y+p.h<=h.y||p.y>=h.y+h.h)}function S(p,h,w,E){const T=n(p),q=J(p,h),A=Array(p.length);for(let H=0,F=q.length;H<F;H++){let Q=P(q[H]);Q.static||(Q=b(T,Q,h,w,q,E),T.push(Q)),A[p.indexOf(q[H])]=Q,Q.moved=!1}return A}const M={x:"w",y:"h"};function O(p,h,w,E){const T=M[E];h[E]+=1;const q=p.map(A=>A.i).indexOf(h.i);for(let A=q+1;A<p.length;A++){const H=p[A];if(!H.static){if(H.y>h.y+h.h)break;y(h,H)&&O(p,H,w+h[T],E)}}h[E]=w}function b(p,h,w,E,T,q){const A=w==="vertical",H=w==="horizontal";if(A)for(h.y=Math.min(a(p),h.y);h.y>0&&!t(p,h);)h.y--;else if(H)for(;h.x>0&&!t(p,h);)h.x--;let F;for(;(F=t(p,h))&&!(w===null&&q);)if(H?O(T,h,F.x+F.w,"x"):O(T,h,F.y+F.h,"y"),H&&h.x+h.w>E)for(h.x=E-h.w,h.y++;h.x>0&&!t(p,h);)h.x--;return h.y=Math.max(h.y,0),h.x=Math.max(h.x,0),h}function v(p,h){const w=n(p);for(let E=0,T=p.length;E<T;E++){const q=p[E];if(q.x+q.w>h.cols&&(q.x=h.cols-q.w),q.x<0&&(q.x=0,q.w=h.cols),!q.static)w.push(q);else for(;t(w,q);)q.y++}return p}function i(p,h){for(let w=0,E=p.length;w<E;w++)if(p[w].i===h)return p[w]}function t(p,h){for(let w=0,E=p.length;w<E;w++)if(y(p[w],h))return p[w]}function e(p,h){return p.filter(w=>y(w,h))}function n(p){return p.filter(h=>h.static)}function c(p,h,w,E,T,q,A,H,F){if(h.static&&h.isDraggable!==!0||h.y===E&&h.x===w)return p;`${h.i}${String(w)}${String(E)}${h.x}${h.y}`;const Q=h.x,me=h.y;typeof w=="number"&&(h.x=w),typeof E=="number"&&(h.y=E),h.moved=!0;let ae=J(p,A);(A==="vertical"&&typeof E=="number"?me>=E:A==="horizontal"&&typeof w=="number"?Q>=w:!1)&&(ae=ae.reverse());const we=e(ae,h),Ne=we.length>0;if(Ne&&F)return R(p);if(Ne&&q)return`${h.i}`,h.x=Q,h.y=me,h.moved=!1,p;for(let $e=0,ir=we.length;$e<ir;$e++){const ve=we[$e];`${h.i}${h.x}${h.y}${ve.i}${ve.x}${ve.y}`,!ve.moved&&(ve.static?p=u(p,ve,h,T,A):p=u(p,h,ve,T,A))}return p}function u(p,h,w,E,T,q){const A=T==="horizontal",H=T==="vertical",F=h.static;if(E){E=!1;const ae={x:A?Math.max(h.x-w.w,0):w.x,y:H?Math.max(h.y-w.h,0):w.y,w:w.w,h:w.h,i:"-1"},re=t(p,ae),we=re&&re.y+re.h>h.y,Ne=re&&h.x+h.w>re.x;if(re){if(we&&H)return c(p,w,void 0,h.y+1,E,F,T);if(we&&T==null)return h.y=w.y,w.y=w.y+w.h,p;if(Ne&&A)return c(p,h,w.x,void 0,E,F,T)}else return`${w.i}${ae.x}${ae.y}`,c(p,w,A?ae.x:void 0,H?ae.y:void 0,E,F,T)}const Q=A?w.x+1:void 0,me=H?w.y+1:void 0;return Q==null&&me==null?p:c(p,w,A?w.x+1:void 0,H?w.y+1:void 0,E,F,T)}function d(p){return p*100+"%"}const o=(p,h,w,E)=>p+w>E?h:w,f=(p,h,w)=>p<0?h:w,D=p=>Math.max(0,p),z=p=>Math.max(0,p),N=(p,h,w)=>{let{left:E,height:T,width:q}=h;const A=p.top-(T-p.height);return{left:E,width:q,height:f(A,p.height,T),top:z(A)}},j=(p,h,w)=>{let{top:E,left:T,height:q,width:A}=h;return{top:E,height:q,width:o(p.left,p.width,A,w),left:D(T)}},I=(p,h,w)=>{let{top:E,height:T,width:q}=h;const A=p.left-(q-p.width);return{height:T,width:A<0?p.width:o(p.left,p.width,q,w),top:z(E),left:D(A)}},G=(p,h,w)=>{let{top:E,left:T,height:q,width:A}=h;return{width:A,left:T,height:f(E,p.height,q),top:z(E)}},X={n:N,ne:function(){return N(arguments.length<=0?void 0:arguments[0],j(...arguments))},e:j,se:function(){return G(arguments.length<=0?void 0:arguments[0],j(...arguments))},s:G,sw:function(){return G(arguments.length<=0?void 0:arguments[0],I(...arguments))},w:I,nw:function(){return N(arguments.length<=0?void 0:arguments[0],I(...arguments))}};function k(p,h,w,E){const T=X[p];return T?T(h,{...h,...w},E):w}function W(p){let{top:h,left:w,width:E,height:T}=p;const q=`translate(${w}px,${h}px)`;return{transform:q,WebkitTransform:q,MozTransform:q,msTransform:q,OTransform:q,width:`${E}px`,height:`${T}px`,position:"absolute"}}function ee(p){let{top:h,left:w,width:E,height:T}=p;return{top:`${h}px`,left:`${w}px`,width:`${E}px`,height:`${T}px`,position:"absolute"}}function J(p,h){return h==="horizontal"?fe(p):h==="vertical"?ne(p):p}function ne(p){return p.slice(0).sort(function(h,w){return h.y>w.y||h.y===w.y&&h.x>w.x?1:h.y===w.y&&h.x===w.x?0:-1})}function fe(p){return p.slice(0).sort(function(h,w){return h.x>w.x||h.x===w.x&&h.y>w.y?1:-1})}function Se(p,h,w,E,T){p=p||[];const q=[];l.default.Children.forEach(h,H=>{if((H==null?void 0:H.key)==null)return;const F=i(p,String(H.key)),Q=H.props["data-grid"];F&&Q==null?q.push(P(F)):Q?q.push(P({...Q,i:H.key})):q.push(P({w:1,h:1,x:0,y:a(q),i:String(H.key)}))});const A=v(q,{cols:w});return T?A:S(A,E,w)}function Fe(p){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Layout";const w=["x","y","w","h"];if(!Array.isArray(p))throw new Error(h+" must be an array!");for(let E=0,T=p.length;E<T;E++){const q=p[E];for(let A=0;A<w.length;A++){const H=w[A],F=q[H];if(typeof F!="number"||Number.isNaN(F))throw new Error(`ReactGridLayout: ${h}[${E}].${H} must be a number! Received: ${F} (${typeof F})`)}if(typeof q.i<"u"&&typeof q.i!="string")throw new Error(`ReactGridLayout: ${h}[${E}].i must be a string! Received: ${q.i} (${typeof q.i})`)}}function L(p){const{verticalCompact:h,compactType:w}=p||{};return h===!1?null:w}function B(){}const Z=()=>{};return V.noop=Z,V}var ce={},wt;function at(){if(wt)return ce;wt=1,Object.defineProperty(ce,"__esModule",{value:!0}),ce.calcGridColWidth=r,ce.calcGridItemPosition=s,ce.calcGridItemWHPx=l,ce.calcWH=R,ce.calcXY=a,ce.clamp=g;function r(m){const{margin:P,containerPadding:x,containerWidth:_,cols:y}=m;return(_-P[0]*(y-1)-x[0]*2)/y}function l(m,P,x){return Number.isFinite(m)?Math.round(P*m+Math.max(0,m-1)*x):m}function s(m,P,x,_,y,S){const{margin:M,containerPadding:O,rowHeight:b}=m,v=r(m),i={};return S&&S.resizing?(i.width=Math.round(S.resizing.width),i.height=Math.round(S.resizing.height)):(i.width=l(_,v,M[0]),i.height=l(y,b,M[1])),S&&S.dragging?(i.top=Math.round(S.dragging.top),i.left=Math.round(S.dragging.left)):S&&S.resizing&&typeof S.resizing.top=="number"&&typeof S.resizing.left=="number"?(i.top=Math.round(S.resizing.top),i.left=Math.round(S.resizing.left)):(i.top=Math.round((b+M[1])*x+O[1]),i.left=Math.round((v+M[0])*P+O[0])),i}function a(m,P,x,_,y){const{margin:S,containerPadding:M,cols:O,rowHeight:b,maxRows:v}=m,i=r(m);let t=Math.round((x-M[0])/(i+S[0])),e=Math.round((P-M[1])/(b+S[1]));return t=g(t,0,O-_),e=g(e,0,v-y),{x:t,y:e}}function R(m,P,x,_,y,S){const{margin:M,maxRows:O,cols:b,rowHeight:v}=m,i=r(m);let t=Math.round((P+M[0])/(i+M[0])),e=Math.round((x+M[1])/(v+M[1])),n=g(t,0,b-_),c=g(e,0,O-y);return["sw","w","nw"].indexOf(S)!==-1&&(n=g(t,0,b)),["nw","n","ne"].indexOf(S)!==-1&&(c=g(e,0,O)),{w:n,h:c}}function g(m,P,x){return Math.max(Math.min(m,x),P)}return ce}var Oe={},_e={exports:{}},Je={};function $t(r){var l,s,a="";if(typeof r=="string"||typeof r=="number")a+=r;else if(typeof r=="object")if(Array.isArray(r))for(l=0;l<r.length;l++)r[l]&&(s=$t(r[l]))&&(a&&(a+=" "),a+=s);else for(l in r)r[l]&&(a&&(a+=" "),a+=l);return a}function bt(){for(var r,l,s=0,a="";s<arguments.length;)(r=arguments[s++])&&(l=$t(r))&&(a&&(a+=" "),a+=l);return a}const zr=Object.freeze(Object.defineProperty({__proto__:null,clsx:bt,default:bt},Symbol.toStringTag,{value:"Module"})),jr=Ft(zr);var te={},pe={},xt;function Ge(){if(xt)return pe;xt=1,Object.defineProperty(pe,"__esModule",{value:!0}),pe.dontSetMe=R,pe.findInArray=r,pe.int=a,pe.isFunction=l,pe.isNum=s;function r(g,m){for(let P=0,x=g.length;P<x;P++)if(m.apply(m,[g[P],P,g]))return g[P]}function l(g){return typeof g=="function"||Object.prototype.toString.call(g)==="[object Function]"}function s(g){return typeof g=="number"&&!isNaN(g)}function a(g){return parseInt(g,10)}function R(g,m,P){if(g[m])return new Error("Invalid prop ".concat(m," passed to ").concat(P," - do not set this, set it on the child."))}return pe}var he={},Rt;function Mr(){if(Rt)return he;Rt=1,Object.defineProperty(he,"__esModule",{value:!0}),he.browserPrefixToKey=s,he.browserPrefixToStyle=a,he.default=void 0,he.getPrefix=l;const r=["Moz","Webkit","O","ms"];function l(){var g;let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const P=(g=window.document)===null||g===void 0||(g=g.documentElement)===null||g===void 0?void 0:g.style;if(!P||m in P)return"";for(let x=0;x<r.length;x++)if(s(m,r[x])in P)return r[x];return""}function s(g,m){return m?"".concat(m).concat(R(g)):g}function a(g,m){return m?"-".concat(m.toLowerCase(),"-").concat(g):g}function R(g){let m="",P=!0;for(let x=0;x<g.length;x++)P?(m+=g[x].toUpperCase(),P=!1):g[x]==="-"?P=!0:m+=g[x];return m}return he.default=l(),he}var St;function lt(){if(St)return te;St=1,Object.defineProperty(te,"__esModule",{value:!0}),te.addClassName=u,te.addEvent=P,te.addUserSelectStyles=n,te.createCSSTransform=b,te.createSVGTransform=v,te.getTouch=t,te.getTouchIdentifier=e,te.getTranslation=i,te.innerHeight=S,te.innerWidth=M,te.matchesSelector=g,te.matchesSelectorAndParentsTo=m,te.offsetXYFromParent=O,te.outerHeight=_,te.outerWidth=y,te.removeClassName=d,te.removeEvent=x,te.removeUserSelectStyles=c;var r=Ge(),l=a(Mr());function s(o){if(typeof WeakMap!="function")return null;var f=new WeakMap,D=new WeakMap;return(s=function(z){return z?D:f})(o)}function a(o,f){if(o&&o.__esModule)return o;if(o===null||typeof o!="object"&&typeof o!="function")return{default:o};var D=s(f);if(D&&D.has(o))return D.get(o);var z={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var j in o)if(j!=="default"&&Object.prototype.hasOwnProperty.call(o,j)){var I=N?Object.getOwnPropertyDescriptor(o,j):null;I&&(I.get||I.set)?Object.defineProperty(z,j,I):z[j]=o[j]}return z.default=o,D&&D.set(o,z),z}let R="";function g(o,f){return R||(R=(0,r.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(D){return(0,r.isFunction)(o[D])})),(0,r.isFunction)(o[R])?o[R](f):!1}function m(o,f,D){let z=o;do{if(g(z,f))return!0;if(z===D)return!1;z=z.parentNode}while(z);return!1}function P(o,f,D,z){if(!o)return;const N={capture:!0,...z};o.addEventListener?o.addEventListener(f,D,N):o.attachEvent?o.attachEvent("on"+f,D):o["on"+f]=D}function x(o,f,D,z){if(!o)return;const N={capture:!0,...z};o.removeEventListener?o.removeEventListener(f,D,N):o.detachEvent?o.detachEvent("on"+f,D):o["on"+f]=null}function _(o){let f=o.clientHeight;const D=o.ownerDocument.defaultView.getComputedStyle(o);return f+=(0,r.int)(D.borderTopWidth),f+=(0,r.int)(D.borderBottomWidth),f}function y(o){let f=o.clientWidth;const D=o.ownerDocument.defaultView.getComputedStyle(o);return f+=(0,r.int)(D.borderLeftWidth),f+=(0,r.int)(D.borderRightWidth),f}function S(o){let f=o.clientHeight;const D=o.ownerDocument.defaultView.getComputedStyle(o);return f-=(0,r.int)(D.paddingTop),f-=(0,r.int)(D.paddingBottom),f}function M(o){let f=o.clientWidth;const D=o.ownerDocument.defaultView.getComputedStyle(o);return f-=(0,r.int)(D.paddingLeft),f-=(0,r.int)(D.paddingRight),f}function O(o,f,D){const N=f===f.ownerDocument.body?{left:0,top:0}:f.getBoundingClientRect(),j=(o.clientX+f.scrollLeft-N.left)/D,I=(o.clientY+f.scrollTop-N.top)/D;return{x:j,y:I}}function b(o,f){const D=i(o,f,"px");return{[(0,l.browserPrefixToKey)("transform",l.default)]:D}}function v(o,f){return i(o,f,"")}function i(o,f,D){let{x:z,y:N}=o,j="translate(".concat(z).concat(D,",").concat(N).concat(D,")");if(f){const I="".concat(typeof f.x=="string"?f.x:f.x+D),G="".concat(typeof f.y=="string"?f.y:f.y+D);j="translate(".concat(I,", ").concat(G,")")+j}return j}function t(o,f){return o.targetTouches&&(0,r.findInArray)(o.targetTouches,D=>f===D.identifier)||o.changedTouches&&(0,r.findInArray)(o.changedTouches,D=>f===D.identifier)}function e(o){if(o.targetTouches&&o.targetTouches[0])return o.targetTouches[0].identifier;if(o.changedTouches&&o.changedTouches[0])return o.changedTouches[0].identifier}function n(o){if(!o)return;let f=o.getElementById("react-draggable-style-el");f||(f=o.createElement("style"),f.type="text/css",f.id="react-draggable-style-el",f.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,f.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,o.getElementsByTagName("head")[0].appendChild(f)),o.body&&u(o.body,"react-draggable-transparent-selection")}function c(o){if(o)try{if(o.body&&d(o.body,"react-draggable-transparent-selection"),o.selection)o.selection.empty();else{const f=(o.defaultView||window).getSelection();f&&f.type!=="Caret"&&f.removeAllRanges()}}catch{}}function u(o,f){o.classList?o.classList.add(f):o.className.match(new RegExp("(?:^|\\s)".concat(f,"(?!\\S)")))||(o.className+=" ".concat(f))}function d(o,f){o.classList?o.classList.remove(f):o.className=o.className.replace(new RegExp("(?:^|\\s)".concat(f,"(?!\\S)"),"g"),"")}return te}var ue={},Dt;function Ut(){if(Dt)return ue;Dt=1,Object.defineProperty(ue,"__esModule",{value:!0}),ue.canDragX=R,ue.canDragY=g,ue.createCoreData=P,ue.createDraggableData=x,ue.getBoundPosition=s,ue.getControlPosition=m,ue.snapToGrid=a;var r=Ge(),l=lt();function s(S,M,O){if(!S.props.bounds)return[M,O];let{bounds:b}=S.props;b=typeof b=="string"?b:_(b);const v=y(S);if(typeof b=="string"){const{ownerDocument:i}=v,t=i.defaultView;let e;if(b==="parent"?e=v.parentNode:e=i.querySelector(b),!(e instanceof t.HTMLElement))throw new Error('Bounds selector "'+b+'" could not find an element.');const n=e,c=t.getComputedStyle(v),u=t.getComputedStyle(n);b={left:-v.offsetLeft+(0,r.int)(u.paddingLeft)+(0,r.int)(c.marginLeft),top:-v.offsetTop+(0,r.int)(u.paddingTop)+(0,r.int)(c.marginTop),right:(0,l.innerWidth)(n)-(0,l.outerWidth)(v)-v.offsetLeft+(0,r.int)(u.paddingRight)-(0,r.int)(c.marginRight),bottom:(0,l.innerHeight)(n)-(0,l.outerHeight)(v)-v.offsetTop+(0,r.int)(u.paddingBottom)-(0,r.int)(c.marginBottom)}}return(0,r.isNum)(b.right)&&(M=Math.min(M,b.right)),(0,r.isNum)(b.bottom)&&(O=Math.min(O,b.bottom)),(0,r.isNum)(b.left)&&(M=Math.max(M,b.left)),(0,r.isNum)(b.top)&&(O=Math.max(O,b.top)),[M,O]}function a(S,M,O){const b=Math.round(M/S[0])*S[0],v=Math.round(O/S[1])*S[1];return[b,v]}function R(S){return S.props.axis==="both"||S.props.axis==="x"}function g(S){return S.props.axis==="both"||S.props.axis==="y"}function m(S,M,O){const b=typeof M=="number"?(0,l.getTouch)(S,M):null;if(typeof M=="number"&&!b)return null;const v=y(O),i=O.props.offsetParent||v.offsetParent||v.ownerDocument.body;return(0,l.offsetXYFromParent)(b||S,i,O.props.scale)}function P(S,M,O){const b=!(0,r.isNum)(S.lastX),v=y(S);return b?{node:v,deltaX:0,deltaY:0,lastX:M,lastY:O,x:M,y:O}:{node:v,deltaX:M-S.lastX,deltaY:O-S.lastY,lastX:S.lastX,lastY:S.lastY,x:M,y:O}}function x(S,M){const O=S.props.scale;return{node:M.node,x:S.state.x+M.deltaX/O,y:S.state.y+M.deltaY/O,deltaX:M.deltaX/O,deltaY:M.deltaY/O,lastX:S.state.x,lastY:S.state.y}}function _(S){return{left:S.left,top:S.top,right:S.right,bottom:S.bottom}}function y(S){const M=S.findDOMNode();if(!M)throw new Error("<DraggableCore>: Unmounted during event!");return M}return ue}var Pe={},Te={},Ot;function Yt(){if(Ot)return Te;Ot=1,Object.defineProperty(Te,"__esModule",{value:!0}),Te.default=r;function r(){}return Te}var _t;function qr(){if(_t)return Pe;_t=1,Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.default=void 0;var r=_(le()),l=P(ge()),s=P(tt()),a=lt(),R=Ut(),g=Ge(),m=P(Yt());function P(i){return i&&i.__esModule?i:{default:i}}function x(i){if(typeof WeakMap!="function")return null;var t=new WeakMap,e=new WeakMap;return(x=function(n){return n?e:t})(i)}function _(i,t){if(i&&i.__esModule)return i;if(i===null||typeof i!="object"&&typeof i!="function")return{default:i};var e=x(t);if(e&&e.has(i))return e.get(i);var n={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in i)if(u!=="default"&&Object.prototype.hasOwnProperty.call(i,u)){var d=c?Object.getOwnPropertyDescriptor(i,u):null;d&&(d.get||d.set)?Object.defineProperty(n,u,d):n[u]=i[u]}return n.default=i,e&&e.set(i,n),n}function y(i,t,e){return t=S(t),t in i?Object.defineProperty(i,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[t]=e,i}function S(i){var t=M(i,"string");return typeof t=="symbol"?t:String(t)}function M(i,t){if(typeof i!="object"||i===null)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var n=e.call(i,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}const O={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let b=O.mouse,v=class extends r.Component{constructor(){super(...arguments),y(this,"dragging",!1),y(this,"lastX",NaN),y(this,"lastY",NaN),y(this,"touchIdentifier",null),y(this,"mounted",!1),y(this,"handleDragStart",t=>{if(this.props.onMouseDown(t),!this.props.allowAnyClick&&typeof t.button=="number"&&t.button!==0)return!1;const e=this.findDOMNode();if(!e||!e.ownerDocument||!e.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:n}=e;if(this.props.disabled||!(t.target instanceof n.defaultView.Node)||this.props.handle&&!(0,a.matchesSelectorAndParentsTo)(t.target,this.props.handle,e)||this.props.cancel&&(0,a.matchesSelectorAndParentsTo)(t.target,this.props.cancel,e))return;t.type==="touchstart"&&t.preventDefault();const c=(0,a.getTouchIdentifier)(t);this.touchIdentifier=c;const u=(0,R.getControlPosition)(t,c,this);if(u==null)return;const{x:d,y:o}=u,f=(0,R.createCoreData)(this,d,o);(0,m.default)("DraggableCore: handleDragStart: %j",f),(0,m.default)("calling",this.props.onStart),!(this.props.onStart(t,f)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,a.addUserSelectStyles)(n),this.dragging=!0,this.lastX=d,this.lastY=o,(0,a.addEvent)(n,b.move,this.handleDrag),(0,a.addEvent)(n,b.stop,this.handleDragStop))}),y(this,"handleDrag",t=>{const e=(0,R.getControlPosition)(t,this.touchIdentifier,this);if(e==null)return;let{x:n,y:c}=e;if(Array.isArray(this.props.grid)){let o=n-this.lastX,f=c-this.lastY;if([o,f]=(0,R.snapToGrid)(this.props.grid,o,f),!o&&!f)return;n=this.lastX+o,c=this.lastY+f}const u=(0,R.createCoreData)(this,n,c);if((0,m.default)("DraggableCore: handleDrag: %j",u),this.props.onDrag(t,u)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const f=document.createEvent("MouseEvents");f.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(f)}return}this.lastX=n,this.lastY=c}),y(this,"handleDragStop",t=>{if(!this.dragging)return;const e=(0,R.getControlPosition)(t,this.touchIdentifier,this);if(e==null)return;let{x:n,y:c}=e;if(Array.isArray(this.props.grid)){let f=n-this.lastX||0,D=c-this.lastY||0;[f,D]=(0,R.snapToGrid)(this.props.grid,f,D),n=this.lastX+f,c=this.lastY+D}const u=(0,R.createCoreData)(this,n,c);if(this.props.onStop(t,u)===!1||this.mounted===!1)return!1;const o=this.findDOMNode();o&&this.props.enableUserSelectHack&&(0,a.removeUserSelectStyles)(o.ownerDocument),(0,m.default)("DraggableCore: handleDragStop: %j",u),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,o&&((0,m.default)("DraggableCore: Removing handlers"),(0,a.removeEvent)(o.ownerDocument,b.move,this.handleDrag),(0,a.removeEvent)(o.ownerDocument,b.stop,this.handleDragStop))}),y(this,"onMouseDown",t=>(b=O.mouse,this.handleDragStart(t))),y(this,"onMouseUp",t=>(b=O.mouse,this.handleDragStop(t))),y(this,"onTouchStart",t=>(b=O.touch,this.handleDragStart(t))),y(this,"onTouchEnd",t=>(b=O.touch,this.handleDragStop(t)))}componentDidMount(){this.mounted=!0;const t=this.findDOMNode();t&&(0,a.addEvent)(t,O.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const t=this.findDOMNode();if(t){const{ownerDocument:e}=t;(0,a.removeEvent)(e,O.mouse.move,this.handleDrag),(0,a.removeEvent)(e,O.touch.move,this.handleDrag),(0,a.removeEvent)(e,O.mouse.stop,this.handleDragStop),(0,a.removeEvent)(e,O.touch.stop,this.handleDragStop),(0,a.removeEvent)(t,O.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,a.removeUserSelectStyles)(e)}}findDOMNode(){var t,e;return(t=this.props)!==null&&t!==void 0&&t.nodeRef?(e=this.props)===null||e===void 0||(e=e.nodeRef)===null||e===void 0?void 0:e.current:s.default.findDOMNode(this)}render(){return r.cloneElement(r.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};return Pe.default=v,y(v,"displayName","DraggableCore"),y(v,"propTypes",{allowAnyClick:l.default.bool,children:l.default.node.isRequired,disabled:l.default.bool,enableUserSelectHack:l.default.bool,offsetParent:function(i,t){if(i[t]&&i[t].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:l.default.arrayOf(l.default.number),handle:l.default.string,cancel:l.default.string,nodeRef:l.default.object,onStart:l.default.func,onDrag:l.default.func,onStop:l.default.func,onMouseDown:l.default.func,scale:l.default.number,className:g.dontSetMe,style:g.dontSetMe,transform:g.dontSetMe}),y(v,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),Pe}var Pt;function Nr(){return Pt||(Pt=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"DraggableCore",{enumerable:!0,get:function(){return x.default}}),r.default=void 0;var l=M(le()),s=y(ge()),a=y(tt()),R=y(jr),g=lt(),m=Ut(),P=Ge(),x=y(qr()),_=y(Yt());function y(e){return e&&e.__esModule?e:{default:e}}function S(e){if(typeof WeakMap!="function")return null;var n=new WeakMap,c=new WeakMap;return(S=function(u){return u?c:n})(e)}function M(e,n){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var c=S(n);if(c&&c.has(e))return c.get(e);var u={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var f=d?Object.getOwnPropertyDescriptor(e,o):null;f&&(f.get||f.set)?Object.defineProperty(u,o,f):u[o]=e[o]}return u.default=e,c&&c.set(e,u),u}function O(){return O=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var c=arguments[n];for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&(e[u]=c[u])}return e},O.apply(this,arguments)}function b(e,n,c){return n=v(n),n in e?Object.defineProperty(e,n,{value:c,enumerable:!0,configurable:!0,writable:!0}):e[n]=c,e}function v(e){var n=i(e,"string");return typeof n=="symbol"?n:String(n)}function i(e,n){if(typeof e!="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var u=c.call(e,n);if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}class t extends l.Component{static getDerivedStateFromProps(n,c){let{position:u}=n,{prevPropsPosition:d}=c;return u&&(!d||u.x!==d.x||u.y!==d.y)?((0,_.default)("Draggable: getDerivedStateFromProps %j",{position:u,prevPropsPosition:d}),{x:u.x,y:u.y,prevPropsPosition:{...u}}):null}constructor(n){super(n),b(this,"onDragStart",(c,u)=>{if((0,_.default)("Draggable: onDragStart: %j",u),this.props.onStart(c,(0,m.createDraggableData)(this,u))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),b(this,"onDrag",(c,u)=>{if(!this.state.dragging)return!1;(0,_.default)("Draggable: onDrag: %j",u);const d=(0,m.createDraggableData)(this,u),o={x:d.x,y:d.y,slackX:0,slackY:0};if(this.props.bounds){const{x:D,y:z}=o;o.x+=this.state.slackX,o.y+=this.state.slackY;const[N,j]=(0,m.getBoundPosition)(this,o.x,o.y);o.x=N,o.y=j,o.slackX=this.state.slackX+(D-o.x),o.slackY=this.state.slackY+(z-o.y),d.x=o.x,d.y=o.y,d.deltaX=o.x-this.state.x,d.deltaY=o.y-this.state.y}if(this.props.onDrag(c,d)===!1)return!1;this.setState(o)}),b(this,"onDragStop",(c,u)=>{if(!this.state.dragging||this.props.onStop(c,(0,m.createDraggableData)(this,u))===!1)return!1;(0,_.default)("Draggable: onDragStop: %j",u);const o={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:D,y:z}=this.props.position;o.x=D,o.y=z}this.setState(o)}),this.state={dragging:!1,dragged:!1,x:n.position?n.position.x:n.defaultPosition.x,y:n.position?n.position.y:n.defaultPosition.y,prevPropsPosition:{...n.position},slackX:0,slackY:0,isElementSVG:!1},n.position&&!(n.onDrag||n.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var n,c;return(n=(c=this.props)===null||c===void 0||(c=c.nodeRef)===null||c===void 0?void 0:c.current)!==null&&n!==void 0?n:a.default.findDOMNode(this)}render(){const{axis:n,bounds:c,children:u,defaultPosition:d,defaultClassName:o,defaultClassNameDragging:f,defaultClassNameDragged:D,position:z,positionOffset:N,scale:j,...I}=this.props;let G={},U=null;const $=!!!z||this.state.dragging,K=z||d,X={x:(0,m.canDragX)(this)&&$?this.state.x:K.x,y:(0,m.canDragY)(this)&&$?this.state.y:K.y};this.state.isElementSVG?U=(0,g.createSVGTransform)(X,N):G=(0,g.createCSSTransform)(X,N);const k=(0,R.default)(u.props.className||"",o,{[f]:this.state.dragging,[D]:this.state.dragged});return l.createElement(x.default,O({},I,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),l.cloneElement(l.Children.only(u),{className:k,style:{...u.props.style,...G},transform:U}))}}r.default=t,b(t,"displayName","Draggable"),b(t,"propTypes",{...x.default.propTypes,axis:s.default.oneOf(["both","x","y","none"]),bounds:s.default.oneOfType([s.default.shape({left:s.default.number,right:s.default.number,top:s.default.number,bottom:s.default.number}),s.default.string,s.default.oneOf([!1])]),defaultClassName:s.default.string,defaultClassNameDragging:s.default.string,defaultClassNameDragged:s.default.string,defaultPosition:s.default.shape({x:s.default.number,y:s.default.number}),positionOffset:s.default.shape({x:s.default.oneOfType([s.default.number,s.default.string]),y:s.default.oneOfType([s.default.number,s.default.string])}),position:s.default.shape({x:s.default.number,y:s.default.number}),className:P.dontSetMe,style:P.dontSetMe,transform:P.dontSetMe}),b(t,"defaultProps",{...x.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})}(Je)),Je}var Ct;function ut(){if(Ct)return _e.exports;Ct=1;const{default:r,DraggableCore:l}=Nr();return _e.exports=r,_e.exports.default=r,_e.exports.DraggableCore=l,_e.exports}var Ce={exports:{}},Ee={},He={},Et;function Lr(){if(Et)return He;Et=1,He.__esModule=!0,He.cloneElement=P;var r=l(le());function l(x){return x&&x.__esModule?x:{default:x}}function s(x,_){var y=Object.keys(x);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(x);_&&(S=S.filter(function(M){return Object.getOwnPropertyDescriptor(x,M).enumerable})),y.push.apply(y,S)}return y}function a(x){for(var _=1;_<arguments.length;_++){var y=arguments[_]!=null?arguments[_]:{};_%2?s(Object(y),!0).forEach(function(S){R(x,S,y[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(y)):s(Object(y)).forEach(function(S){Object.defineProperty(x,S,Object.getOwnPropertyDescriptor(y,S))})}return x}function R(x,_,y){return _=g(_),_ in x?Object.defineProperty(x,_,{value:y,enumerable:!0,configurable:!0,writable:!0}):x[_]=y,x}function g(x){var _=m(x,"string");return typeof _=="symbol"?_:String(_)}function m(x,_){if(typeof x!="object"||x===null)return x;var y=x[Symbol.toPrimitive];if(y!==void 0){var S=y.call(x,_);if(typeof S!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(x)}function P(x,_){return _.style&&x.props.style&&(_.style=a(a({},x.props.style),_.style)),_.className&&x.props.className&&(_.className=x.props.className+" "+_.className),r.default.cloneElement(x,_)}return He}var ze={},zt;function Xt(){if(zt)return ze;zt=1,ze.__esModule=!0,ze.resizableProps=void 0;var r=l(ge());ut();function l(a){return a&&a.__esModule?a:{default:a}}var s={axis:r.default.oneOf(["both","x","y","none"]),className:r.default.string,children:r.default.element.isRequired,draggableOpts:r.default.shape({allowAnyClick:r.default.bool,cancel:r.default.string,children:r.default.node,disabled:r.default.bool,enableUserSelectHack:r.default.bool,offsetParent:r.default.node,grid:r.default.arrayOf(r.default.number),handle:r.default.string,nodeRef:r.default.object,onStart:r.default.func,onDrag:r.default.func,onStop:r.default.func,onMouseDown:r.default.func,scale:r.default.number}),height:function(){for(var R=arguments.length,g=new Array(R),m=0;m<R;m++)g[m]=arguments[m];var P=g[0];if(P.axis==="both"||P.axis==="y"){var x;return(x=r.default.number).isRequired.apply(x,g)}return r.default.number.apply(r.default,g)},handle:r.default.oneOfType([r.default.node,r.default.func]),handleSize:r.default.arrayOf(r.default.number),lockAspectRatio:r.default.bool,maxConstraints:r.default.arrayOf(r.default.number),minConstraints:r.default.arrayOf(r.default.number),onResizeStop:r.default.func,onResizeStart:r.default.func,onResize:r.default.func,resizeHandles:r.default.arrayOf(r.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:r.default.number,width:function(){for(var R=arguments.length,g=new Array(R),m=0;m<R;m++)g[m]=arguments[m];var P=g[0];if(P.axis==="both"||P.axis==="x"){var x;return(x=r.default.number).isRequired.apply(x,g)}return r.default.number.apply(r.default,g)}};return ze.resizableProps=s,ze}var jt;function Vt(){if(jt)return Ee;jt=1,Ee.__esModule=!0,Ee.default=void 0;var r=m(le()),l=ut(),s=Lr(),a=Xt(),R=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function g(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(g=function(u){return u?n:e})(t)}function m(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=g(e);if(n&&n.has(t))return n.get(t);var c={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in t)if(d!=="default"&&Object.prototype.hasOwnProperty.call(t,d)){var o=u?Object.getOwnPropertyDescriptor(t,d):null;o&&(o.get||o.set)?Object.defineProperty(c,d,o):c[d]=t[d]}return c.default=t,n&&n.set(t,c),c}function P(){return P=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(t[c]=n[c])}return t},P.apply(this,arguments)}function x(t,e){if(t==null)return{};var n={},c=Object.keys(t),u,d;for(d=0;d<c.length;d++)u=c[d],!(e.indexOf(u)>=0)&&(n[u]=t[u]);return n}function _(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);e&&(c=c.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),n.push.apply(n,c)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_(Object(n),!0).forEach(function(c){S(t,c,n[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(c){Object.defineProperty(t,c,Object.getOwnPropertyDescriptor(n,c))})}return t}function S(t,e,n){return e=M(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M(t){var e=O(t,"string");return typeof e=="symbol"?e:String(e)}function O(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var c=n.call(t,e);if(typeof c!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function b(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,v(t,e)}function v(t,e){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,u){return c.__proto__=u,c},v(t,e)}var i=function(t){b(e,t);function e(){for(var c,u=arguments.length,d=new Array(u),o=0;o<u;o++)d[o]=arguments[o];return c=t.call.apply(t,[this].concat(d))||this,c.handleRefs={},c.lastHandleRect=null,c.slack=null,c}var n=e.prototype;return n.componentWillUnmount=function(){this.resetData()},n.resetData=function(){this.lastHandleRect=this.slack=null},n.runConstraints=function(u,d){var o=this.props,f=o.minConstraints,D=o.maxConstraints,z=o.lockAspectRatio;if(!f&&!D&&!z)return[u,d];if(z){var N=this.props.width/this.props.height,j=u-this.props.width,I=d-this.props.height;Math.abs(j)>Math.abs(I*N)?d=u/N:u=d*N}var G=u,U=d,Y=this.slack||[0,0],$=Y[0],K=Y[1];return u+=$,d+=K,f&&(u=Math.max(f[0],u),d=Math.max(f[1],d)),D&&(u=Math.min(D[0],u),d=Math.min(D[1],d)),this.slack=[$+(G-u),K+(U-d)],[u,d]},n.resizeHandler=function(u,d){var o=this;return function(f,D){var z=D.node,N=D.deltaX,j=D.deltaY;u==="onResizeStart"&&o.resetData();var I=(o.props.axis==="both"||o.props.axis==="x")&&d!=="n"&&d!=="s",G=(o.props.axis==="both"||o.props.axis==="y")&&d!=="e"&&d!=="w";if(!(!I&&!G)){var U=d[0],Y=d[d.length-1],$=z.getBoundingClientRect();if(o.lastHandleRect!=null){if(Y==="w"){var K=$.left-o.lastHandleRect.left;N+=K}if(U==="n"){var X=$.top-o.lastHandleRect.top;j+=X}}o.lastHandleRect=$,Y==="w"&&(N=-N),U==="n"&&(j=-j);var k=o.props.width+(I?N/o.props.transformScale:0),W=o.props.height+(G?j/o.props.transformScale:0),ee=o.runConstraints(k,W);k=ee[0],W=ee[1];var J=k!==o.props.width||W!==o.props.height,ne=typeof o.props[u]=="function"?o.props[u]:null,fe=u==="onResize"&&!J;ne&&!fe&&(f.persist==null||f.persist(),ne(f,{node:z,size:{width:k,height:W},handle:d})),u==="onResizeStop"&&o.resetData()}}},n.renderResizeHandle=function(u,d){var o=this.props.handle;if(!o)return r.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+u,ref:d});if(typeof o=="function")return o(u,d);var f=typeof o.type=="string",D=y({ref:d},f?{}:{handleAxis:u});return r.cloneElement(o,D)},n.render=function(){var u=this,d=this.props,o=d.children,f=d.className,D=d.draggableOpts;d.width,d.height,d.handle,d.handleSize,d.lockAspectRatio,d.axis,d.minConstraints,d.maxConstraints,d.onResize,d.onResizeStop,d.onResizeStart;var z=d.resizeHandles;d.transformScale;var N=x(d,R);return(0,s.cloneElement)(o,y(y({},N),{},{className:(f?f+" ":"")+"react-resizable",children:[].concat(o.props.children,z.map(function(j){var I,G=(I=u.handleRefs[j])!=null?I:u.handleRefs[j]=r.createRef();return r.createElement(l.DraggableCore,P({},D,{nodeRef:G,key:"resizableHandle-"+j,onStop:u.resizeHandler("onResizeStop",j),onStart:u.resizeHandler("onResizeStart",j),onDrag:u.resizeHandler("onResize",j)}),u.renderResizeHandle(j,G))}))}))},e}(r.Component);return Ee.default=i,i.propTypes=a.resizableProps,i.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1},Ee}var je={},Mt;function Tr(){if(Mt)return je;Mt=1,je.__esModule=!0,je.default=void 0;var r=P(le()),l=g(ge()),s=g(Vt()),a=Xt(),R=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function g(e){return e&&e.__esModule?e:{default:e}}function m(e){if(typeof WeakMap!="function")return null;var n=new WeakMap,c=new WeakMap;return(m=function(d){return d?c:n})(e)}function P(e,n){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var c=m(n);if(c&&c.has(e))return c.get(e);var u={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var f=d?Object.getOwnPropertyDescriptor(e,o):null;f&&(f.get||f.set)?Object.defineProperty(u,o,f):u[o]=e[o]}return u.default=e,c&&c.set(e,u),u}function x(){return x=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var c=arguments[n];for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&(e[u]=c[u])}return e},x.apply(this,arguments)}function _(e,n){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);n&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(e,d).enumerable})),c.push.apply(c,u)}return c}function y(e){for(var n=1;n<arguments.length;n++){var c=arguments[n]!=null?arguments[n]:{};n%2?_(Object(c),!0).forEach(function(u){S(e,u,c[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):_(Object(c)).forEach(function(u){Object.defineProperty(e,u,Object.getOwnPropertyDescriptor(c,u))})}return e}function S(e,n,c){return n=M(n),n in e?Object.defineProperty(e,n,{value:c,enumerable:!0,configurable:!0,writable:!0}):e[n]=c,e}function M(e){var n=O(e,"string");return typeof n=="symbol"?n:String(n)}function O(e,n){if(typeof e!="object"||e===null)return e;var c=e[Symbol.toPrimitive];if(c!==void 0){var u=c.call(e,n);if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function b(e,n){if(e==null)return{};var c={},u=Object.keys(e),d,o;for(o=0;o<u.length;o++)d=u[o],!(n.indexOf(d)>=0)&&(c[d]=e[d]);return c}function v(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,i(e,n)}function i(e,n){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(u,d){return u.__proto__=d,u},i(e,n)}var t=function(e){v(n,e);function n(){for(var u,d=arguments.length,o=new Array(d),f=0;f<d;f++)o[f]=arguments[f];return u=e.call.apply(e,[this].concat(o))||this,u.state={width:u.props.width,height:u.props.height,propsWidth:u.props.width,propsHeight:u.props.height},u.onResize=function(D,z){var N=z.size;u.props.onResize?(D.persist==null||D.persist(),u.setState(N,function(){return u.props.onResize&&u.props.onResize(D,z)})):u.setState(N)},u}n.getDerivedStateFromProps=function(d,o){return o.propsWidth!==d.width||o.propsHeight!==d.height?{width:d.width,height:d.height,propsWidth:d.width,propsHeight:d.height}:null};var c=n.prototype;return c.render=function(){var d=this.props,o=d.handle,f=d.handleSize;d.onResize;var D=d.onResizeStart,z=d.onResizeStop,N=d.draggableOpts,j=d.minConstraints,I=d.maxConstraints,G=d.lockAspectRatio,U=d.axis;d.width,d.height;var Y=d.resizeHandles,$=d.style,K=d.transformScale,X=b(d,R);return r.createElement(s.default,{axis:U,draggableOpts:N,handle:o,handleSize:f,height:this.state.height,lockAspectRatio:G,maxConstraints:I,minConstraints:j,onResizeStart:D,onResize:this.onResize,onResizeStop:z,resizeHandles:Y,transformScale:K,width:this.state.width},r.createElement("div",x({},X,{style:y(y({},$),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},n}(r.Component);return je.default=t,t.propTypes=y(y({},a.resizableProps),{},{children:l.default.element}),je}var qt;function Hr(){return qt||(qt=1,Ce.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},Ce.exports.Resizable=Vt().default,Ce.exports.ResizableBox=Tr().default),Ce.exports}var de={},Nt;function Kt(){if(Nt)return de;Nt=1,Object.defineProperty(de,"__esModule",{value:!0}),de.resizeHandleType=de.resizeHandleAxesType=de.default=void 0;var r=s(ge()),l=s(le());function s(g){return g&&g.__esModule?g:{default:g}}const a=de.resizeHandleAxesType=r.default.arrayOf(r.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),R=de.resizeHandleType=r.default.oneOfType([r.default.node,r.default.func]);return de.default={className:r.default.string,style:r.default.object,width:r.default.number,autoSize:r.default.bool,cols:r.default.number,draggableCancel:r.default.string,draggableHandle:r.default.string,verticalCompact:function(g){g.verticalCompact},compactType:r.default.oneOf(["vertical","horizontal"]),layout:function(g){var m=g.layout;m!==void 0&&Re().validateLayout(m,"layout")},margin:r.default.arrayOf(r.default.number),containerPadding:r.default.arrayOf(r.default.number),rowHeight:r.default.number,maxRows:r.default.number,isBounded:r.default.bool,isDraggable:r.default.bool,isResizable:r.default.bool,allowOverlap:r.default.bool,preventCollision:r.default.bool,useCSSTransforms:r.default.bool,transformScale:r.default.number,isDroppable:r.default.bool,resizeHandles:a,resizeHandle:R,onLayoutChange:r.default.func,onDragStart:r.default.func,onDrag:r.default.func,onDragStop:r.default.func,onResizeStart:r.default.func,onResize:r.default.func,onResizeStop:r.default.func,onDrop:r.default.func,droppingItem:r.default.shape({i:r.default.string.isRequired,w:r.default.number.isRequired,h:r.default.number.isRequired}),children:function(g,m){const P=g[m],x={};l.default.Children.forEach(P,function(_){if((_==null?void 0:_.key)!=null){if(x[_.key])throw new Error('Duplicate child key "'+_.key+'" found! This will cause problems in ReactGridLayout.');x[_.key]=!0}})},innerRef:r.default.any},de}var Lt;function Wr(){if(Lt)return Oe;Lt=1,Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.default=void 0;var r=_(le()),l=tt(),s=_(ge()),a=ut(),R=Hr(),g=Re(),m=at(),P=Kt(),x=_(st());function _(b){return b&&b.__esModule?b:{default:b}}function y(b,v,i){return v=S(v),v in b?Object.defineProperty(b,v,{value:i,enumerable:!0,configurable:!0,writable:!0}):b[v]=i,b}function S(b){var v=M(b,"string");return typeof v=="symbol"?v:String(v)}function M(b,v){if(typeof b!="object"||b===null)return b;var i=b[Symbol.toPrimitive];if(i!==void 0){var t=i.call(b,v);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(b)}let O=class extends r.default.Component{constructor(){super(...arguments),y(this,"state",{resizing:null,dragging:null,className:""}),y(this,"elementRef",r.default.createRef()),y(this,"onDragStart",(v,i)=>{let{node:t}=i;const{onDragStart:e,transformScale:n}=this.props;if(!e)return;const c={top:0,left:0},{offsetParent:u}=t;if(!u)return;const d=u.getBoundingClientRect(),o=t.getBoundingClientRect(),f=o.left/n,D=d.left/n,z=o.top/n,N=d.top/n;c.left=f-D+u.scrollLeft,c.top=z-N+u.scrollTop,this.setState({dragging:c});const{x:j,y:I}=(0,m.calcXY)(this.getPositionParams(),c.top,c.left,this.props.w,this.props.h);return e.call(this,this.props.i,j,I,{e:v,node:t,newPosition:c})}),y(this,"onDrag",(v,i,t)=>{let{node:e,deltaX:n,deltaY:c}=i;const{onDrag:u}=this.props;if(!u)return;if(!this.state.dragging)throw new Error("onDrag called before onDragStart.");let d=this.state.dragging.top+c,o=this.state.dragging.left+n;const{isBounded:f,i:D,w:z,h:N,containerWidth:j}=this.props,I=this.getPositionParams();if(f){const{offsetParent:$}=e;if($){const{margin:K,rowHeight:X,containerPadding:k}=this.props,W=$.clientHeight-(0,m.calcGridItemWHPx)(N,X,K[1]);d=(0,m.clamp)(d-k[1],0,W);const ee=(0,m.calcGridColWidth)(I),J=j-(0,m.calcGridItemWHPx)(z,ee,K[0]);o=(0,m.clamp)(o-k[0],0,J)}}const G={top:d,left:o};t?this.setState({dragging:G}):(0,l.flushSync)(()=>{this.setState({dragging:G})});const{x:U,y:Y}=(0,m.calcXY)(I,d,o,z,N);return u.call(this,D,U,Y,{e:v,node:e,newPosition:G})}),y(this,"onDragStop",(v,i)=>{let{node:t}=i;const{onDragStop:e}=this.props;if(!e)return;if(!this.state.dragging)throw new Error("onDragEnd called before onDragStart.");const{w:n,h:c,i:u}=this.props,{left:d,top:o}=this.state.dragging,f={top:o,left:d};this.setState({dragging:null});const{x:D,y:z}=(0,m.calcXY)(this.getPositionParams(),o,d,n,c);return e.call(this,u,D,z,{e:v,node:t,newPosition:f})}),y(this,"onResizeStop",(v,i,t)=>this.onResizeHandler(v,i,t,"onResizeStop")),y(this,"onResizeStart",(v,i,t)=>this.onResizeHandler(v,i,t,"onResizeStart")),y(this,"onResize",(v,i,t)=>this.onResizeHandler(v,i,t,"onResize"))}shouldComponentUpdate(v,i){if(this.props.children!==v.children||this.props.droppingPosition!==v.droppingPosition)return!0;const t=(0,m.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),e=(0,m.calcGridItemPosition)(this.getPositionParams(v),v.x,v.y,v.w,v.h,i);return!(0,g.fastPositionEqual)(t,e)||this.props.useCSSTransforms!==v.useCSSTransforms}componentDidMount(){this.moveDroppingItem({})}componentDidUpdate(v){this.moveDroppingItem(v)}moveDroppingItem(v){const{droppingPosition:i}=this.props;if(!i)return;const t=this.elementRef.current;if(!t)return;const e=v.droppingPosition||{left:0,top:0},{dragging:n}=this.state,c=n&&i.left!==e.left||i.top!==e.top;if(!n)this.onDragStart(i.e,{node:t,deltaX:i.left,deltaY:i.top});else if(c){const u=i.left-n.left,d=i.top-n.top;this.onDrag(i.e,{node:t,deltaX:u,deltaY:d},!0)}}getPositionParams(){let v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return{cols:v.cols,containerPadding:v.containerPadding,containerWidth:v.containerWidth,margin:v.margin,maxRows:v.maxRows,rowHeight:v.rowHeight}}createStyle(v){const{usePercentages:i,containerWidth:t,useCSSTransforms:e}=this.props;let n;return e?n=(0,g.setTransform)(v):(n=(0,g.setTopLeft)(v),i&&(n.left=(0,g.perc)(v.left/t),n.width=(0,g.perc)(v.width/t))),n}mixinDraggable(v,i){return r.default.createElement(a.DraggableCore,{disabled:!i,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale,nodeRef:this.elementRef},v)}curryResizeHandler(v,i){return(t,e)=>i(t,e,v)}mixinResizable(v,i,t){const{cols:e,minW:n,minH:c,maxW:u,maxH:d,transformScale:o,resizeHandles:f,resizeHandle:D}=this.props,z=this.getPositionParams(),N=(0,m.calcGridItemPosition)(z,0,0,e,0).width,j=(0,m.calcGridItemPosition)(z,0,0,n,c),I=(0,m.calcGridItemPosition)(z,0,0,u,d),G=[j.width,j.height],U=[Math.min(I.width,N),Math.min(I.height,1/0)];return r.default.createElement(R.Resizable,{draggableOpts:{disabled:!t},className:t?void 0:"react-resizable-hide",width:i.width,height:i.height,minConstraints:G,maxConstraints:U,onResizeStop:this.curryResizeHandler(i,this.onResizeStop),onResizeStart:this.curryResizeHandler(i,this.onResizeStart),onResize:this.curryResizeHandler(i,this.onResize),transformScale:o,resizeHandles:f,handle:D},v)}onResizeHandler(v,i,t,e){let{node:n,size:c,handle:u}=i;const d=this.props[e];if(!d)return;const{x:o,y:f,i:D,maxH:z,minH:N,containerWidth:j}=this.props,{minW:I,maxW:G}=this.props;let U=c;n&&(U=(0,g.resizeItemInDirection)(u,t,c,j),(0,l.flushSync)(()=>{this.setState({resizing:e==="onResizeStop"?null:U})}));let{w:Y,h:$}=(0,m.calcWH)(this.getPositionParams(),U.width,U.height,o,f,u);Y=(0,m.clamp)(Y,Math.max(I,1),G),$=(0,m.clamp)($,N,z),d.call(this,D,Y,$,{e:v,node:n,size:U,handle:u})}render(){const{x:v,y:i,w:t,h:e,isDraggable:n,isResizable:c,droppingPosition:u,useCSSTransforms:d}=this.props,o=(0,m.calcGridItemPosition)(this.getPositionParams(),v,i,t,e,this.state),f=r.default.Children.only(this.props.children);let D=r.default.cloneElement(f,{ref:this.elementRef,className:(0,x.default)("react-grid-item",f.props.className,this.props.className,{static:this.props.static,resizing:!!this.state.resizing,"react-draggable":n,"react-draggable-dragging":!!this.state.dragging,dropping:!!u,cssTransforms:d}),style:{...this.props.style,...f.props.style,...this.createStyle(o)}});return D=this.mixinResizable(D,o,c),D=this.mixinDraggable(D,n),D}};return Oe.default=O,y(O,"propTypes",{children:s.default.element,cols:s.default.number.isRequired,containerWidth:s.default.number.isRequired,rowHeight:s.default.number.isRequired,margin:s.default.array.isRequired,maxRows:s.default.number.isRequired,containerPadding:s.default.array.isRequired,x:s.default.number.isRequired,y:s.default.number.isRequired,w:s.default.number.isRequired,h:s.default.number.isRequired,minW:function(b,v){const i=b[v];if(typeof i!="number")return new Error("minWidth not Number");if(i>b.w||i>b.maxW)return new Error("minWidth larger than item width/maxWidth")},maxW:function(b,v){const i=b[v];if(typeof i!="number")return new Error("maxWidth not Number");if(i<b.w||i<b.minW)return new Error("maxWidth smaller than item width/minWidth")},minH:function(b,v){const i=b[v];if(typeof i!="number")return new Error("minHeight not Number");if(i>b.h||i>b.maxH)return new Error("minHeight larger than item height/maxHeight")},maxH:function(b,v){const i=b[v];if(typeof i!="number")return new Error("maxHeight not Number");if(i<b.h||i<b.minH)return new Error("maxHeight smaller than item height/minHeight")},i:s.default.string.isRequired,resizeHandles:P.resizeHandleAxesType,resizeHandle:P.resizeHandleType,onDragStop:s.default.func,onDragStart:s.default.func,onDrag:s.default.func,onResizeStop:s.default.func,onResizeStart:s.default.func,onResize:s.default.func,isDraggable:s.default.bool.isRequired,isResizable:s.default.bool.isRequired,isBounded:s.default.bool.isRequired,static:s.default.bool,useCSSTransforms:s.default.bool.isRequired,transformScale:s.default.number,className:s.default.string,handle:s.default.string,cancel:s.default.string,droppingPosition:s.default.shape({e:s.default.object.isRequired,left:s.default.number.isRequired,top:s.default.number.isRequired})}),y(O,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1}),Oe}var Tt;function Zt(){if(Tt)return De;Tt=1,Object.defineProperty(De,"__esModule",{value:!0}),De.default=void 0;var r=_(le()),l=ot(),s=P(st()),a=Re(),R=at(),g=P(Wr()),m=P(Kt());function P(i){return i&&i.__esModule?i:{default:i}}function x(i){if(typeof WeakMap!="function")return null;var t=new WeakMap,e=new WeakMap;return(x=function(n){return n?e:t})(i)}function _(i,t){if(i&&i.__esModule)return i;if(i===null||typeof i!="object"&&typeof i!="function")return{default:i};var e=x(t);if(e&&e.has(i))return e.get(i);var n={__proto__:null},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in i)if(u!=="default"&&Object.prototype.hasOwnProperty.call(i,u)){var d=c?Object.getOwnPropertyDescriptor(i,u):null;d&&(d.get||d.set)?Object.defineProperty(n,u,d):n[u]=i[u]}return n.default=i,e&&e.set(i,n),n}function y(i,t,e){return t=S(t),t in i?Object.defineProperty(i,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[t]=e,i}function S(i){var t=M(i,"string");return typeof t=="symbol"?t:String(t)}function M(i,t){if(typeof i!="object"||i===null)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var n=e.call(i,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}const O="react-grid-layout";let b=!1;try{b=/firefox/i.test(navigator.userAgent)}catch{}let v=class extends r.Component{constructor(){super(...arguments),y(this,"state",{activeDrag:null,layout:(0,a.synchronizeLayoutWithChildren)(this.props.layout,this.props.children,this.props.cols,(0,a.compactType)(this.props),this.props.allowOverlap),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,resizing:!1,droppingDOMNode:null,children:[]}),y(this,"dragEnterCounter",0),y(this,"onDragStart",(t,e,n,c)=>{let{e:u,node:d}=c;const{layout:o}=this.state,f=(0,a.getLayoutItem)(o,t);if(!f)return;const D={w:f.w,h:f.h,x:f.x,y:f.y,placeholder:!0,i:t};return this.setState({oldDragItem:(0,a.cloneLayoutItem)(f),oldLayout:o,activeDrag:D}),this.props.onDragStart(o,f,f,null,u,d)}),y(this,"onDrag",(t,e,n,c)=>{let{e:u,node:d}=c;const{oldDragItem:o}=this.state;let{layout:f}=this.state;const{cols:D,allowOverlap:z,preventCollision:N}=this.props,j=(0,a.getLayoutItem)(f,t);if(!j)return;const I={w:j.w,h:j.h,x:j.x,y:j.y,placeholder:!0,i:t};f=(0,a.moveElement)(f,j,e,n,!0,N,(0,a.compactType)(this.props),D,z),this.props.onDrag(f,o,j,I,u,d),this.setState({layout:z?f:(0,a.compact)(f,(0,a.compactType)(this.props),D),activeDrag:I})}),y(this,"onDragStop",(t,e,n,c)=>{let{e:u,node:d}=c;if(!this.state.activeDrag)return;const{oldDragItem:o}=this.state;let{layout:f}=this.state;const{cols:D,preventCollision:z,allowOverlap:N}=this.props,j=(0,a.getLayoutItem)(f,t);if(!j)return;f=(0,a.moveElement)(f,j,e,n,!0,z,(0,a.compactType)(this.props),D,N);const G=N?f:(0,a.compact)(f,(0,a.compactType)(this.props),D);this.props.onDragStop(G,o,j,null,u,d);const{oldLayout:U}=this.state;this.setState({activeDrag:null,layout:G,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(G,U)}),y(this,"onResizeStart",(t,e,n,c)=>{let{e:u,node:d}=c;const{layout:o}=this.state,f=(0,a.getLayoutItem)(o,t);f&&(this.setState({oldResizeItem:(0,a.cloneLayoutItem)(f),oldLayout:this.state.layout,resizing:!0}),this.props.onResizeStart(o,f,f,null,u,d))}),y(this,"onResize",(t,e,n,c)=>{let{e:u,node:d,size:o,handle:f}=c;const{oldResizeItem:D}=this.state,{layout:z}=this.state,{cols:N,preventCollision:j,allowOverlap:I}=this.props;let G=!1,U,Y,$;const[K,X]=(0,a.withLayoutItem)(z,t,W=>{let ee;return Y=W.x,$=W.y,["sw","w","nw","n","ne"].indexOf(f)!==-1&&(["sw","nw","w"].indexOf(f)!==-1&&(Y=W.x+(W.w-e),e=W.x!==Y&&Y<0?W.w:e,Y=Y<0?0:Y),["ne","n","nw"].indexOf(f)!==-1&&($=W.y+(W.h-n),n=W.y!==$&&$<0?W.h:n,$=$<0?0:$),G=!0),j&&!I&&(ee=(0,a.getAllCollisions)(z,{...W,w:e,h:n,x:Y,y:$}).filter(ne=>ne.i!==W.i).length>0,ee&&($=W.y,n=W.h,Y=W.x,e=W.w,G=!1)),W.w=e,W.h=n,W});if(!X)return;U=K,G&&(U=(0,a.moveElement)(K,X,Y,$,!0,this.props.preventCollision,(0,a.compactType)(this.props),N,I));const k={w:X.w,h:X.h,x:X.x,y:X.y,static:!0,i:t};this.props.onResize(U,D,X,k,u,d),this.setState({layout:I?U:(0,a.compact)(U,(0,a.compactType)(this.props),N),activeDrag:k})}),y(this,"onResizeStop",(t,e,n,c)=>{let{e:u,node:d}=c;const{layout:o,oldResizeItem:f}=this.state,{cols:D,allowOverlap:z}=this.props,N=(0,a.getLayoutItem)(o,t),j=z?o:(0,a.compact)(o,(0,a.compactType)(this.props),D);this.props.onResizeStop(j,f,N,null,u,d);const{oldLayout:I}=this.state;this.setState({activeDrag:null,layout:j,oldResizeItem:null,oldLayout:null,resizing:!1}),this.onLayoutMaybeChanged(j,I)}),y(this,"onDragOver",t=>{var K;if(t.preventDefault(),t.stopPropagation(),b&&!((K=t.nativeEvent.target)!=null&&K.classList.contains(O)))return!1;const{droppingItem:e,onDropDragOver:n,margin:c,cols:u,rowHeight:d,maxRows:o,width:f,containerPadding:D,transformScale:z}=this.props,N=n==null?void 0:n(t);if(N===!1)return this.state.droppingDOMNode&&this.removeDroppingPlaceholder(),!1;const j={...e,...N},{layout:I}=this.state,G=t.currentTarget.getBoundingClientRect(),U=t.clientX-G.left,Y=t.clientY-G.top,$={left:U/z,top:Y/z,e:t};if(this.state.droppingDOMNode){if(this.state.droppingPosition){const{left:X,top:k}=this.state.droppingPosition;(X!=U||k!=Y)&&this.setState({droppingPosition:$})}}else{const X={cols:u,margin:c,maxRows:o,rowHeight:d,containerWidth:f,containerPadding:D||c},k=(0,R.calcXY)(X,Y,U,j.w,j.h);this.setState({droppingDOMNode:r.createElement("div",{key:j.i}),droppingPosition:$,layout:[...I,{...j,x:k.x,y:k.y,static:!1,isDraggable:!0}]})}}),y(this,"removeDroppingPlaceholder",()=>{const{droppingItem:t,cols:e}=this.props,{layout:n}=this.state,c=(0,a.compact)(n.filter(u=>u.i!==t.i),(0,a.compactType)(this.props),e,this.props.allowOverlap);this.setState({layout:c,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})}),y(this,"onDragLeave",t=>{t.preventDefault(),t.stopPropagation(),this.dragEnterCounter--,this.dragEnterCounter===0&&this.removeDroppingPlaceholder()}),y(this,"onDragEnter",t=>{t.preventDefault(),t.stopPropagation(),this.dragEnterCounter++}),y(this,"onDrop",t=>{t.preventDefault(),t.stopPropagation();const{droppingItem:e}=this.props,{layout:n}=this.state,c=n.find(u=>u.i===e.i);this.dragEnterCounter=0,this.removeDroppingPlaceholder(),this.props.onDrop(n,c,t)})}componentDidMount(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}static getDerivedStateFromProps(t,e){let n;return e.activeDrag?null:(!(0,l.deepEqual)(t.layout,e.propsLayout)||t.compactType!==e.compactType?n=t.layout:(0,a.childrenEqual)(t.children,e.children)||(n=e.layout),n?{layout:(0,a.synchronizeLayoutWithChildren)(n,t.children,t.cols,(0,a.compactType)(t),t.allowOverlap),compactType:t.compactType,children:t.children,propsLayout:t.layout}:null)}shouldComponentUpdate(t,e){return this.props.children!==t.children||!(0,a.fastRGLPropsEqual)(this.props,t,l.deepEqual)||this.state.activeDrag!==e.activeDrag||this.state.mounted!==e.mounted||this.state.droppingPosition!==e.droppingPosition}componentDidUpdate(t,e){if(!this.state.activeDrag){const n=this.state.layout,c=e.layout;this.onLayoutMaybeChanged(n,c)}}containerHeight(){if(!this.props.autoSize)return;const t=(0,a.bottom)(this.state.layout),e=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return t*this.props.rowHeight+(t-1)*this.props.margin[1]+e*2+"px"}onLayoutMaybeChanged(t,e){e||(e=this.state.layout),(0,l.deepEqual)(e,t)||this.props.onLayoutChange(t)}placeholder(){const{activeDrag:t}=this.state;if(!t)return null;const{width:e,cols:n,margin:c,containerPadding:u,rowHeight:d,maxRows:o,useCSSTransforms:f,transformScale:D}=this.props;return r.createElement(g.default,{w:t.w,h:t.h,x:t.x,y:t.y,i:t.i,className:`react-grid-placeholder ${this.state.resizing?"placeholder-resizing":""}`,containerWidth:e,cols:n,margin:c,containerPadding:u||c,maxRows:o,rowHeight:d,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:f,transformScale:D},r.createElement("div",null))}processGridItem(t,e){if(!t||!t.key)return;const n=(0,a.getLayoutItem)(this.state.layout,String(t.key));if(!n)return null;const{width:c,cols:u,margin:d,containerPadding:o,rowHeight:f,maxRows:D,isDraggable:z,isResizable:N,isBounded:j,useCSSTransforms:I,transformScale:G,draggableCancel:U,draggableHandle:Y,resizeHandles:$,resizeHandle:K}=this.props,{mounted:X,droppingPosition:k}=this.state,W=typeof n.isDraggable=="boolean"?n.isDraggable:!n.static&&z,ee=typeof n.isResizable=="boolean"?n.isResizable:!n.static&&N,J=n.resizeHandles||$,ne=W&&j&&n.isBounded!==!1;return r.createElement(g.default,{containerWidth:c,cols:u,margin:d,containerPadding:o||d,maxRows:D,rowHeight:f,cancel:U,handle:Y,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:W,isResizable:ee,isBounded:ne,useCSSTransforms:I&&X,usePercentages:!X,transformScale:G,w:n.w,h:n.h,x:n.x,y:n.y,i:n.i,minH:n.minH,minW:n.minW,maxH:n.maxH,maxW:n.maxW,static:n.static,droppingPosition:e?k:void 0,resizeHandles:J,resizeHandle:K},t)}render(){const{className:t,style:e,isDroppable:n,innerRef:c}=this.props,u=(0,s.default)(O,t),d={height:this.containerHeight(),...e};return r.createElement("div",{ref:c,className:u,style:d,onDrop:n?this.onDrop:a.noop,onDragLeave:n?this.onDragLeave:a.noop,onDragEnter:n?this.onDragEnter:a.noop,onDragOver:n?this.onDragOver:a.noop},r.Children.map(this.props.children,o=>this.processGridItem(o)),n&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}};return De.default=v,y(v,"displayName","ReactGridLayout"),y(v,"propTypes",m.default),y(v,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,allowOverlap:!1,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:a.noop,onDragStart:a.noop,onDrag:a.noop,onDragStop:a.noop,onResizeStart:a.noop,onResize:a.noop,onResizeStop:a.noop,onDrop:a.noop,onDropDragOver:a.noop}),De}var Me={},ye={},Ht;function Jt(){if(Ht)return ye;Ht=1,Object.defineProperty(ye,"__esModule",{value:!0}),ye.findOrGenerateResponsiveLayout=a,ye.getBreakpointFromWidth=l,ye.getColsFromBreakpoint=s,ye.sortBreakpoints=R;var r=Re();function l(g,m){const P=R(g);let x=P[0];for(let _=1,y=P.length;_<y;_++){const S=P[_];m>g[S]&&(x=S)}return x}function s(g,m){if(!m[g])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+g+" is missing!");return m[g]}function a(g,m,P,x,_,y){if(g[P])return(0,r.cloneLayout)(g[P]);let S=g[x];const M=R(m),O=M.slice(M.indexOf(P));for(let b=0,v=O.length;b<v;b++){const i=O[b];if(g[i]){S=g[i];break}}return S=(0,r.cloneLayout)(S||[]),(0,r.compact)((0,r.correctBounds)(S,{cols:_}),y,_)}function R(g){return Object.keys(g).sort(function(P,x){return g[P]-g[x]})}return ye}var Wt;function Ir(){if(Wt)return Me;Wt=1,Object.defineProperty(Me,"__esModule",{value:!0}),Me.default=void 0;var r=x(le()),l=m(ge()),s=ot(),a=Re(),R=Jt(),g=m(Zt());function m(i){return i&&i.__esModule?i:{default:i}}function P(i){if(typeof WeakMap!="function")return null;var t=new WeakMap,e=new WeakMap;return(P=function(n){return n?e:t})(i)}function x(i,t){if(i&&i.__esModule)return i;if(i===null||typeof i!="object"&&typeof i!="function")return{default:i};var e=P(t);if(e&&e.has(i))return e.get(i);var n={__proto__:null},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in i)if(u!=="default"&&Object.prototype.hasOwnProperty.call(i,u)){var d=c?Object.getOwnPropertyDescriptor(i,u):null;d&&(d.get||d.set)?Object.defineProperty(n,u,d):n[u]=i[u]}return n.default=i,e&&e.set(i,n),n}function _(){return _=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},_.apply(this,arguments)}function y(i,t,e){return t=S(t),t in i?Object.defineProperty(i,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[t]=e,i}function S(i){var t=M(i,"string");return typeof t=="symbol"?t:String(t)}function M(i,t){if(typeof i!="object"||i===null)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var n=e.call(i,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}const O=i=>Object.prototype.toString.call(i);function b(i,t){return i==null?null:Array.isArray(i)?i:i[t]}let v=class extends r.Component{constructor(){super(...arguments),y(this,"state",this.generateInitialState()),y(this,"onLayoutChange",t=>{this.props.onLayoutChange(t,{...this.props.layouts,[this.state.breakpoint]:t})})}generateInitialState(){const{width:t,breakpoints:e,layouts:n,cols:c}=this.props,u=(0,R.getBreakpointFromWidth)(e,t),d=(0,R.getColsFromBreakpoint)(u,c),o=this.props.verticalCompact===!1?null:this.props.compactType;return{layout:(0,R.findOrGenerateResponsiveLayout)(n,e,u,u,d,o),breakpoint:u,cols:d}}static getDerivedStateFromProps(t,e){if(!(0,s.deepEqual)(t.layouts,e.layouts)){const{breakpoint:n,cols:c}=e;return{layout:(0,R.findOrGenerateResponsiveLayout)(t.layouts,t.breakpoints,n,n,c,t.compactType),layouts:t.layouts}}return null}componentDidUpdate(t){(this.props.width!=t.width||this.props.breakpoint!==t.breakpoint||!(0,s.deepEqual)(this.props.breakpoints,t.breakpoints)||!(0,s.deepEqual)(this.props.cols,t.cols))&&this.onWidthChange(t)}onWidthChange(t){const{breakpoints:e,cols:n,layouts:c,compactType:u}=this.props,d=this.props.breakpoint||(0,R.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),o=this.state.breakpoint,f=(0,R.getColsFromBreakpoint)(d,n),D={...c};if(o!==d||t.breakpoints!==e||t.cols!==n){o in D||(D[o]=(0,a.cloneLayout)(this.state.layout));let j=(0,R.findOrGenerateResponsiveLayout)(D,e,d,o,f,u);j=(0,a.synchronizeLayoutWithChildren)(j,this.props.children,f,u,this.props.allowOverlap),D[d]=j,this.props.onBreakpointChange(d,f),this.props.onLayoutChange(j,D),this.setState({breakpoint:d,layout:j,cols:f})}const z=b(this.props.margin,d),N=b(this.props.containerPadding,d);this.props.onWidthChange(this.props.width,z,f,N)}render(){const{breakpoint:t,breakpoints:e,cols:n,layouts:c,margin:u,containerPadding:d,onBreakpointChange:o,onLayoutChange:f,onWidthChange:D,...z}=this.props;return r.createElement(g.default,_({},z,{margin:b(u,this.state.breakpoint),containerPadding:b(d,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}};return Me.default=v,y(v,"propTypes",{breakpoint:l.default.string,breakpoints:l.default.object,allowOverlap:l.default.bool,cols:l.default.object,margin:l.default.oneOfType([l.default.array,l.default.object]),containerPadding:l.default.oneOfType([l.default.array,l.default.object]),layouts(i,t){if(O(i[t])!=="[object Object]")throw new Error("Layout property must be an object. Received: "+O(i[t]));Object.keys(i[t]).forEach(e=>{if(!(e in i.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,a.validateLayout)(i.layouts[e],"layouts."+e)})},width:l.default.number.isRequired,onBreakpointChange:l.default.func,onLayoutChange:l.default.func,onWidthChange:l.default.func}),y(v,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},layouts:{},margin:[10,10],allowOverlap:!1,onBreakpointChange:a.noop,onLayoutChange:a.noop,onWidthChange:a.noop}),Me}var We={},Qt=function(){if(typeof Map<"u")return Map;function r(l,s){var a=-1;return l.some(function(R,g){return R[0]===s?(a=g,!0):!1}),a}return function(){function l(){this.__entries__=[]}return Object.defineProperty(l.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),l.prototype.get=function(s){var a=r(this.__entries__,s),R=this.__entries__[a];return R&&R[1]},l.prototype.set=function(s,a){var R=r(this.__entries__,s);~R?this.__entries__[R][1]=a:this.__entries__.push([s,a])},l.prototype.delete=function(s){var a=this.__entries__,R=r(a,s);~R&&a.splice(R,1)},l.prototype.has=function(s){return!!~r(this.__entries__,s)},l.prototype.clear=function(){this.__entries__.splice(0)},l.prototype.forEach=function(s,a){a===void 0&&(a=null);for(var R=0,g=this.__entries__;R<g.length;R++){var m=g[R];s.call(a,m[1],m[0])}},l}()}(),Qe=typeof window<"u"&&typeof document<"u"&&window.document===document,ke=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),kr=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(ke):function(r){return setTimeout(function(){return r(Date.now())},1e3/60)}}(),Ar=2;function Gr(r,l){var s=!1,a=!1,R=0;function g(){s&&(s=!1,r()),a&&P()}function m(){kr(g)}function P(){var x=Date.now();if(s){if(x-R<Ar)return;a=!0}else s=!0,a=!1,setTimeout(m,l);R=x}return P}var Br=20,Fr=["top","right","bottom","left","width","height","size","weight"],$r=typeof MutationObserver<"u",Ur=function(){function r(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=Gr(this.refresh.bind(this),Br)}return r.prototype.addObserver=function(l){~this.observers_.indexOf(l)||this.observers_.push(l),this.connected_||this.connect_()},r.prototype.removeObserver=function(l){var s=this.observers_,a=s.indexOf(l);~a&&s.splice(a,1),!s.length&&this.connected_&&this.disconnect_()},r.prototype.refresh=function(){var l=this.updateObservers_();l&&this.refresh()},r.prototype.updateObservers_=function(){var l=this.observers_.filter(function(s){return s.gatherActive(),s.hasActive()});return l.forEach(function(s){return s.broadcastActive()}),l.length>0},r.prototype.connect_=function(){!Qe||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),$r?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},r.prototype.disconnect_=function(){!Qe||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},r.prototype.onTransitionEnd_=function(l){var s=l.propertyName,a=s===void 0?"":s,R=Fr.some(function(g){return!!~a.indexOf(g)});R&&this.refresh()},r.getInstance=function(){return this.instance_||(this.instance_=new r),this.instance_},r.instance_=null,r}(),er=function(r,l){for(var s=0,a=Object.keys(l);s<a.length;s++){var R=a[s];Object.defineProperty(r,R,{value:l[R],enumerable:!1,writable:!1,configurable:!0})}return r},xe=function(r){var l=r&&r.ownerDocument&&r.ownerDocument.defaultView;return l||ke},tr=Be(0,0,0,0);function Ae(r){return parseFloat(r)||0}function It(r){for(var l=[],s=1;s<arguments.length;s++)l[s-1]=arguments[s];return l.reduce(function(a,R){var g=r["border-"+R+"-width"];return a+Ae(g)},0)}function Yr(r){for(var l=["top","right","bottom","left"],s={},a=0,R=l;a<R.length;a++){var g=R[a],m=r["padding-"+g];s[g]=Ae(m)}return s}function Xr(r){var l=r.getBBox();return Be(0,0,l.width,l.height)}function Vr(r){var l=r.clientWidth,s=r.clientHeight;if(!l&&!s)return tr;var a=xe(r).getComputedStyle(r),R=Yr(a),g=R.left+R.right,m=R.top+R.bottom,P=Ae(a.width),x=Ae(a.height);if(a.boxSizing==="border-box"&&(Math.round(P+g)!==l&&(P-=It(a,"left","right")+g),Math.round(x+m)!==s&&(x-=It(a,"top","bottom")+m)),!Zr(r)){var _=Math.round(P+g)-l,y=Math.round(x+m)-s;Math.abs(_)!==1&&(P-=_),Math.abs(y)!==1&&(x-=y)}return Be(R.left,R.top,P,x)}var Kr=function(){return typeof SVGGraphicsElement<"u"?function(r){return r instanceof xe(r).SVGGraphicsElement}:function(r){return r instanceof xe(r).SVGElement&&typeof r.getBBox=="function"}}();function Zr(r){return r===xe(r).document.documentElement}function Jr(r){return Qe?Kr(r)?Xr(r):Vr(r):tr}function Qr(r){var l=r.x,s=r.y,a=r.width,R=r.height,g=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,m=Object.create(g.prototype);return er(m,{x:l,y:s,width:a,height:R,top:s,right:l+a,bottom:R+s,left:l}),m}function Be(r,l,s,a){return{x:r,y:l,width:s,height:a}}var en=function(){function r(l){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Be(0,0,0,0),this.target=l}return r.prototype.isActive=function(){var l=Jr(this.target);return this.contentRect_=l,l.width!==this.broadcastWidth||l.height!==this.broadcastHeight},r.prototype.broadcastRect=function(){var l=this.contentRect_;return this.broadcastWidth=l.width,this.broadcastHeight=l.height,l},r}(),tn=function(){function r(l,s){var a=Qr(s);er(this,{target:l,contentRect:a})}return r}(),rn=function(){function r(l,s,a){if(this.activeObservations_=[],this.observations_=new Qt,typeof l!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=l,this.controller_=s,this.callbackCtx_=a}return r.prototype.observe=function(l){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(l instanceof xe(l).Element))throw new TypeError('parameter 1 is not of type "Element".');var s=this.observations_;s.has(l)||(s.set(l,new en(l)),this.controller_.addObserver(this),this.controller_.refresh())}},r.prototype.unobserve=function(l){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(l instanceof xe(l).Element))throw new TypeError('parameter 1 is not of type "Element".');var s=this.observations_;s.has(l)&&(s.delete(l),s.size||this.controller_.removeObserver(this))}},r.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},r.prototype.gatherActive=function(){var l=this;this.clearActive(),this.observations_.forEach(function(s){s.isActive()&&l.activeObservations_.push(s)})},r.prototype.broadcastActive=function(){if(this.hasActive()){var l=this.callbackCtx_,s=this.activeObservations_.map(function(a){return new tn(a.target,a.broadcastRect())});this.callback_.call(l,s,l),this.clearActive()}},r.prototype.clearActive=function(){this.activeObservations_.splice(0)},r.prototype.hasActive=function(){return this.activeObservations_.length>0},r}(),rr=typeof WeakMap<"u"?new WeakMap:new Qt,nr=function(){function r(l){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var s=Ur.getInstance(),a=new rn(l,s,this);rr.set(this,a)}return r}();["observe","unobserve","disconnect"].forEach(function(r){nr.prototype[r]=function(){var l;return(l=rr.get(this))[r].apply(l,arguments)}});var nn=function(){return typeof ke.ResizeObserver<"u"?ke.ResizeObserver:nr}();const on=Object.freeze(Object.defineProperty({__proto__:null,default:nn},Symbol.toStringTag,{value:"Module"})),sn=Ft(on);var kt;function an(){if(kt)return We;kt=1,Object.defineProperty(We,"__esModule",{value:!0}),We.default=M;var r=m(le()),l=R(ge()),s=R(sn),a=R(st());function R(O){return O&&O.__esModule?O:{default:O}}function g(O){if(typeof WeakMap!="function")return null;var b=new WeakMap,v=new WeakMap;return(g=function(i){return i?v:b})(O)}function m(O,b){if(O&&O.__esModule)return O;if(O===null||typeof O!="object"&&typeof O!="function")return{default:O};var v=g(b);if(v&&v.has(O))return v.get(O);var i={__proto__:null},t=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in O)if(e!=="default"&&Object.prototype.hasOwnProperty.call(O,e)){var n=t?Object.getOwnPropertyDescriptor(O,e):null;n&&(n.get||n.set)?Object.defineProperty(i,e,n):i[e]=O[e]}return i.default=O,v&&v.set(O,i),i}function P(){return P=Object.assign?Object.assign.bind():function(O){for(var b=1;b<arguments.length;b++){var v=arguments[b];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(O[i]=v[i])}return O},P.apply(this,arguments)}function x(O,b,v){return b=_(b),b in O?Object.defineProperty(O,b,{value:v,enumerable:!0,configurable:!0,writable:!0}):O[b]=v,O}function _(O){var b=y(O,"string");return typeof b=="symbol"?b:String(b)}function y(O,b){if(typeof O!="object"||O===null)return O;var v=O[Symbol.toPrimitive];if(v!==void 0){var i=v.call(O,b);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(b==="string"?String:Number)(O)}const S="react-grid-layout";function M(O){var b;return b=class extends r.Component{constructor(){super(...arguments),x(this,"state",{width:1280}),x(this,"elementRef",r.createRef()),x(this,"mounted",!1),x(this,"resizeObserver",void 0)}componentDidMount(){this.mounted=!0,this.resizeObserver=new s.default(t=>{if(this.elementRef.current instanceof HTMLElement){const n=t[0].contentRect.width;this.setState({width:n})}});const i=this.elementRef.current;i instanceof HTMLElement&&this.resizeObserver.observe(i)}componentWillUnmount(){this.mounted=!1;const i=this.elementRef.current;i instanceof HTMLElement&&this.resizeObserver.unobserve(i),this.resizeObserver.disconnect()}render(){const{measureBeforeMount:i,...t}=this.props;return i&&!this.mounted?r.createElement("div",{className:(0,a.default)(this.props.className,S),style:this.props.style,ref:this.elementRef}):r.createElement(O,P({innerRef:this.elementRef},t,this.state))}},x(b,"defaultProps",{measureBeforeMount:!1}),x(b,"propTypes",{measureBeforeMount:l.default.bool}),b}return We}var At;function ln(){return At||(At=1,function(r){r.exports=Zt().default,r.exports.utils=Re(),r.exports.calculateUtils=at(),r.exports.Responsive=Ir().default,r.exports.Responsive.utils=Jt(),r.exports.WidthProvider=an().default}(Ke)),Ke.exports}var un=ln();const cn=ar(un),dn=[{i:"a",x:0,y:0,w:2,h:2},{i:"b",x:2,y:0,w:7,h:2},{i:"c",x:0,y:2,w:9,h:7},{i:"d",x:0,y:10,w:4,h:4},{i:"e",x:4,y:10,w:5,h:7},{i:"f",x:0,y:14,w:4,h:3},{i:"s0",x:17,y:0,w:5,h:8},{i:"s1",x:22,y:0,w:5,h:8},{i:"s2",x:27,y:0,w:5,h:8},{i:"s3",x:17,y:9,w:5,h:8},{i:"s4",x:22,y:9,w:5,h:8},{i:"s5",x:27,y:9,w:5,h:8}],Gt=[{i:"a",x:0,y:0,w:2,h:2},{i:"b",x:2,y:0,w:9,h:2},{i:"c",x:0,y:2,w:11,h:7},{i:"d",x:0,y:10,w:5,h:4},{i:"e",x:5,y:10,w:6,h:7},{i:"f",x:0,y:14,w:5,h:3},{i:"s0",x:11,y:0,w:7,h:8},{i:"s1",x:18,y:0,w:7,h:8},{i:"s2",x:25,y:0,w:7,h:8},{i:"s3",x:11,y:9,w:7,h:8},{i:"s4",x:18,y:9,w:7,h:8},{i:"s5",x:25,y:9,w:7,h:8}],Pn=()=>{const{t:r}=et(),[l,s]=se.useState(!1),[a,R]=se.useState(!1),[g,m]=se.useState(!1),[P,x]=se.useState(1),_=ie.get("selected").value(),[y,S]=se.useState(_.supports),[M,O]=se.useState(_.player),[b,v]=se.useState(_.raceFilterCondition||{distanceType:[],grade:[],ground:[]}),[i,t]=se.useState(_.filterRace||{}),e=Rr(),n=()=>{const[k,W]=Ue.useState(window.innerWidth),[ee,J]=Ue.useState(window.innerHeight);return Ue.useEffect(()=>{const ne=()=>{J(window.innerHeight),W(window.innerWidth)};return window.addEventListener("resize",ne),()=>window.removeEventListener("resize",ne)},[]),{height:ee,width:k}},c=Math.floor((n().height-128-40)/18),u=Math.floor(n().width-10),d=ie.get("layout").value()||Gt,[o,f]=se.useState(d);if(!e)return null;const D=e.get("races").value(),z=()=>R(!0),N=k=>{R(!1),O(k),_.player=k,ie.get("selected").assign(_).write()},j=k=>{s(!0),m(!0),x(k)},I=()=>{s(!1),m(!0)},G=k=>{const W={...y,[P]:k};S(W),m(!1),_.supports[P]=k,ie.get("selected").assign(_).write()},U=k=>{_.supports={0:{},1:{},2:{},3:{},4:{},5:{}},_.player={},k.playerId&&(_.player=e.get("players").find({id:k.playerId}).value()),O(_.player),k.supportsId.forEach((W,ee)=>{W&&(_.supports[ee]=e.get("supports").find({id:W}).value())}),S({..._.supports}),ie.get("selected").assign(_).write()},Y=k=>{v(k);const W=Object.values(k).some(J=>J.length>0)?Object.entries(k).filter(([,J])=>J.length>0).reduce((J,[ne,fe])=>J.filter(Se=>fe.includes(Se[ne])),D):[],ee={};for(let J of W)ee[J.dateNum]?ee[J.dateNum].push(J.id):ee[J.dateNum]=[J.id];t(ee),_.raceFilterCondition=k,_.filterRace=ee,ie.get("selected").assign({..._}).write()},$=k=>{ie.set("layout",k).write(),f(k)},K="bg-card border border-border rounded-md p-2",X="w-full text-center bg-muted p-1 rounded-t-md cursor-move font-medium";return C.jsxs(C.Fragment,{children:[C.jsx(Or,{children:C.jsx("title",{children:"育成 - 乌拉拉大胜利 - 赛马娘资料站"})}),C.jsxs(cn,{cols:32,layout:o,draggableCancel:".panel-title",draggableHandle:".panel-heading",rowHeight:c,width:u,onLayoutChange:$,useCSSTransforms:!1,children:[C.jsxs("div",{className:K,children:[C.jsx("div",{className:X,onClick:z,children:r("选择马娘")}),M.id?C.jsx("img",{src:Ie+M.imgUrl,alt:M.name,className:"w-full h-[calc(100%-22px)] object-contain",onClick:z}):C.jsx("div",{className:"flex items-center justify-center h-[calc(100%-22px)]",children:C.jsx(oe,{variant:"outline",onClick:z,children:r("选择马娘")})})]},"a"),C.jsxs("div",{className:K,children:[C.jsx("div",{className:X,children:r("操作")}),C.jsxs("div",{className:"flex flex-wrap gap-2 p-2",children:[C.jsx(oe,{variant:"outline",size:"sm",onClick:z,children:r("选择马娘")}),C.jsx(oe,{variant:"outline",size:"sm",onClick:I,children:r("支援卡查询")}),C.jsx(Sr,{}),C.jsxs(rt,{children:[C.jsx(nt,{asChild:!0,children:C.jsx(oe,{variant:"outline",size:"sm",children:r("比赛")})}),C.jsx(it,{className:"w-80",children:C.jsx(br,{onChange:Y,raceFilterCondition:b})})]}),C.jsx(_r,{player:M,supports:y,loadDeck:U}),C.jsx(Pr,{player:M,loadDeck:U}),C.jsx(oe,{variant:"outline",size:"sm",onClick:()=>f(dn),children:r("初始化布局(有留白)")}),C.jsx(oe,{variant:"outline",size:"sm",onClick:()=>f(Gt),children:r("初始化布局(无留白)")})]})]},"b"),C.jsxs("div",{className:K,children:[C.jsx("div",{className:X,children:r("事件")}),C.jsx(be,{className:"h-[calc(100%-22px)]",children:C.jsx(Ye,{idList:M.eventList,sortFlag:!0})})]},"c"),C.jsxs("div",{className:K,children:[C.jsx("div",{className:X,children:r("技能")}),C.jsx(be,{className:"h-[calc(100%-22px)]",children:C.jsx(Xe,{idList:M.skillList,isNur:!0,size:"small"})})]},"d"),C.jsxs("div",{className:K,children:[C.jsx("div",{className:X,children:r("比赛")}),C.jsx(be,{className:"h-[calc(100%-22px)]",children:C.jsx(ur,{raceList:M.raceList||[],filterRace:i})})]},"e"),C.jsxs("div",{className:K,children:[C.jsx("div",{className:X,children:r("隐藏事件")}),C.jsx(be,{className:"h-[calc(100%-22px)]",children:C.jsx(Ye,{idList:M.hideEvent})})]},"f"),[0,1,2,3,4,5].map(k=>{const W=y[k];return C.jsx("div",{className:K,children:W!=null&&W.id?C.jsxs(C.Fragment,{children:[C.jsx("div",{className:X,children:C.jsx("span",{className:"panel-title cursor-pointer",onClick:()=>j(k),children:r("选择支援卡")})}),C.jsxs(be,{className:"h-[calc(100%-22px)]",children:[C.jsxs("div",{className:"flex gap-2",children:[C.jsx("img",{className:"w-1/4 h-auto",src:Ie+W.imgUrl,alt:W.name}),C.jsx("div",{className:"flex-1",children:C.jsx(Ye,{idList:W.eventList,pid:W.id})})]}),C.jsx("div",{className:"my-1 bg-accent/10 p-1 rounded",children:r("培训技能")}),C.jsx(Xe,{idList:W.possessionSkill,isNur:!0,size:"small"}),C.jsx("div",{className:"my-1 bg-accent/10 p-1 rounded",children:r("事件技能")}),C.jsx(Xe,{idList:W.trainingEventSkill,isNur:!0,size:"small"})]})]}):C.jsx("div",{className:"flex items-center justify-center h-full",children:C.jsx(oe,{variant:"outline",onClick:()=>j(k),children:r("选择支援卡")})})},`s${k}`)})]}),C.jsx(ct,{open:a,onOpenChange:R,children:C.jsxs(dt,{className:"max-w-[80vw]! h-[80vh]",children:[C.jsx(ft,{children:C.jsx(pt,{children:r("选择马娘")})}),C.jsx(be,{className:"h-full",children:C.jsx(cr,{onClick:N,sortFlag:!0})})]})}),C.jsx(ct,{open:g,onOpenChange:m,children:C.jsxs(dt,{className:"max-w-[80vw]! h-[80vh]",children:[C.jsx(ft,{children:C.jsx(pt,{children:r("选择支援卡")})}),C.jsx("div",{className:"h-full flex relative",children:C.jsx(xr,{formName:"nurSup",onClick:l?G:null,limitHeight:!0,sortFlag:!0})})]})})]})};export{Pn as default};
