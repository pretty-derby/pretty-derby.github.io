import{r as U,c as At,b as vr,j as E,d as yr,e as wr,f as xr,g as Gt,P as Bt,h as Te,A as Ft,i as $t,k as br,l as Rr,m as Pr,n as Sr,o as Dr,F as Cr,D as Or,C as Er,p as _r,q as zr,u as rt,s as ae,B as ie,t as Nr,v as Be,w as Ut,x as le,y as Xt,z as nt,E as jr,R as Ye}from"./index-Cv25-zft.js";import{R as qr,E as Ve,S as Ke,a as Lr,D as ct,b as dt,c as ft,d as pt,P as Mr}from"./PlayerList-BuzkpSoc.js";import{a as be,S as Tr}from"./SupportListWithFilter-CoNoIWCA.js";import{u as Hr}from"./index-B41NDl_D.js";import{BuffButton as Wr}from"./buff-BRz9enbg.js";import{P as Ze,s as Ir}from"./index-T9_PuU5m.js";import{P as Yt}from"./index-u5xsggtp.js";import{C as Vt,c as Kt,_ as Re,a as tt,b as kr,o as Ar,W as Gr,R as Br,P as Fr,d as $r,e as Ur,f as Xr,r as ge,g as Yr,H as Vr}from"./Helmet-CixuOQ1v.js";import"./useViewport-Dw4cCIh0.js";import"./ActionButton-Bs9HjAjk.js";var Kr=function(r,f){var s={};for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&f.indexOf(u)<0&&(s[u]=r[u]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var R=0,u=Object.getOwnPropertySymbols(r);R<u.length;R++)f.indexOf(u[R])<0&&Object.prototype.propertyIsEnumerable.call(r,u[R])&&(s[u[R]]=r[u[R]]);return s},Zr=function(f){var s=f.prefixCls,u=f.className,R=f.checked,g=f.onChange,v=f.onClick,S=Kr(f,["prefixCls","className","checked","onChange","onClick"]),m=U.useContext(Vt),b=m.getPrefixCls,D=function(w){g==null||g(!R),v==null||v(w)},O=b("tag",s),z=Kt(O,Re(Re({},"".concat(O,"-checkable"),!0),"".concat(O,"-checkable-checked"),R),u);return U.createElement("span",tt({},S,{className:z,onClick:D}))},Jr=function(r,f){var s={};for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&f.indexOf(u)<0&&(s[u]=r[u]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var R=0,u=Object.getOwnPropertySymbols(r);R<u.length;R++)f.indexOf(u[R])<0&&Object.prototype.propertyIsEnumerable.call(r,u[R])&&(s[u[R]]=r[u[R]]);return s},Qr=new RegExp("^(".concat(Fr.join("|"),")(-inverse)?$")),en=new RegExp("^(".concat($r.join("|"),")$")),tn=function(f,s){var u=f.prefixCls,R=f.className,g=f.style,v=f.children,S=f.icon,m=f.color,b=f.onClose,D=f.closeIcon,O=f.closable,z=O===void 0?!1:O,P=Jr(f,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),w=U.useContext(Vt),y=w.getPrefixCls,a=w.direction,t=U.useState(!0),e=kr(t,2),n=e[0],l=e[1];U.useEffect(function(){"visible"in P&&l(P.visible)},[P.visible]);var i=function(){return m?Qr.test(m)||en.test(m):!1},c=tt({backgroundColor:m&&!i()?m:void 0},g),o=i(),d=y("tag",u),C=Kt(d,Re(Re(Re(Re({},"".concat(d,"-").concat(m),o),"".concat(d,"-has-color"),m&&!o),"".concat(d,"-hidden"),!n),"".concat(d,"-rtl"),a==="rtl"),R),N=function(V){V.stopPropagation(),b==null||b(V),!V.defaultPrevented&&("visible"in P||l(!1))},L=function(){return z?D?U.createElement("span",{className:"".concat(d,"-close-icon"),onClick:N},D):U.createElement(Br,{className:"".concat(d,"-close-icon"),onClick:N}):null},j="onClick"in P||v&&v.type==="a",W=Ar(P,["visible"]),G=S||null,Y=G?U.createElement(U.Fragment,null,G,U.createElement("span",null,v)):v,X=U.createElement("span",tt({},W,{ref:s,className:C,style:c}),Y,L());return j?U.createElement(Gr,null,X):X},Zt=U.forwardRef(tn);Zt.CheckableTag=Zr;var Fe="Popover",[Jt,Kn]=wr(Fe,[At]),He=At(),[rn,me]=Jt(Fe),Qt=r=>{const{__scopePopover:f,children:s,open:u,defaultOpen:R,onOpenChange:g,modal:v=!1}=r,S=He(f),m=U.useRef(null),[b,D]=U.useState(!1),[O,z]=vr({prop:u,defaultProp:R??!1,onChange:g,caller:Fe});return E.jsx(yr,{...S,children:E.jsx(rn,{scope:f,contentId:xr(),triggerRef:m,open:O,onOpenChange:z,onOpenToggle:U.useCallback(()=>z(P=>!P),[z]),hasCustomAnchor:b,onCustomAnchorAdd:U.useCallback(()=>D(!0),[]),onCustomAnchorRemove:U.useCallback(()=>D(!1),[]),modal:v,children:s})})};Qt.displayName=Fe;var er="PopoverAnchor",nn=U.forwardRef((r,f)=>{const{__scopePopover:s,...u}=r,R=me(er,s),g=He(s),{onCustomAnchorAdd:v,onCustomAnchorRemove:S}=R;return U.useEffect(()=>(v(),()=>S()),[v,S]),E.jsx(Ft,{...g,...u,ref:f})});nn.displayName=er;var tr="PopoverTrigger",rr=U.forwardRef((r,f)=>{const{__scopePopover:s,...u}=r,R=me(tr,s),g=He(s),v=Gt(f,R.triggerRef),S=E.jsx(Bt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":R.open,"aria-controls":R.contentId,"data-state":sr(R.open),...u,ref:v,onClick:Te(r.onClick,R.onOpenToggle)});return R.hasCustomAnchor?S:E.jsx(Ft,{asChild:!0,...g,children:S})});rr.displayName=tr;var ot="PopoverPortal",[on,an]=Jt(ot,{forceMount:void 0}),nr=r=>{const{__scopePopover:f,forceMount:s,children:u,container:R}=r,g=me(ot,f);return E.jsx(on,{scope:f,forceMount:s,children:E.jsx($t,{present:s||g.open,children:E.jsx(br,{asChild:!0,container:R,children:u})})})};nr.displayName=ot;var Pe="PopoverContent",or=U.forwardRef((r,f)=>{const s=an(Pe,r.__scopePopover),{forceMount:u=s.forceMount,...R}=r,g=me(Pe,r.__scopePopover);return E.jsx($t,{present:u||g.open,children:g.modal?E.jsx(ln,{...R,ref:f}):E.jsx(un,{...R,ref:f})})});or.displayName=Pe;var sn=Sr("PopoverContent.RemoveScroll"),ln=U.forwardRef((r,f)=>{const s=me(Pe,r.__scopePopover),u=U.useRef(null),R=Gt(f,u),g=U.useRef(!1);return U.useEffect(()=>{const v=u.current;if(v)return Rr(v)},[]),E.jsx(Pr,{as:sn,allowPinchZoom:!0,children:E.jsx(ar,{...r,ref:R,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Te(r.onCloseAutoFocus,v=>{var S;v.preventDefault(),g.current||(S=s.triggerRef.current)==null||S.focus()}),onPointerDownOutside:Te(r.onPointerDownOutside,v=>{const S=v.detail.originalEvent,m=S.button===0&&S.ctrlKey===!0,b=S.button===2||m;g.current=b},{checkForDefaultPrevented:!1}),onFocusOutside:Te(r.onFocusOutside,v=>v.preventDefault(),{checkForDefaultPrevented:!1})})})}),un=U.forwardRef((r,f)=>{const s=me(Pe,r.__scopePopover),u=U.useRef(!1),R=U.useRef(!1);return E.jsx(ar,{...r,ref:f,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:g=>{var v,S;(v=r.onCloseAutoFocus)==null||v.call(r,g),g.defaultPrevented||(u.current||(S=s.triggerRef.current)==null||S.focus(),g.preventDefault()),u.current=!1,R.current=!1},onInteractOutside:g=>{var m,b;(m=r.onInteractOutside)==null||m.call(r,g),g.defaultPrevented||(u.current=!0,g.detail.originalEvent.type==="pointerdown"&&(R.current=!0));const v=g.target;((b=s.triggerRef.current)==null?void 0:b.contains(v))&&g.preventDefault(),g.detail.originalEvent.type==="focusin"&&R.current&&g.preventDefault()}})}),ar=U.forwardRef((r,f)=>{const{__scopePopover:s,trapFocus:u,onOpenAutoFocus:R,onCloseAutoFocus:g,disableOutsidePointerEvents:v,onEscapeKeyDown:S,onPointerDownOutside:m,onFocusOutside:b,onInteractOutside:D,...O}=r,z=me(Pe,s),P=He(s);return Dr(),E.jsx(Cr,{asChild:!0,loop:!0,trapped:u,onMountAutoFocus:R,onUnmountAutoFocus:g,children:E.jsx(Or,{asChild:!0,disableOutsidePointerEvents:v,onInteractOutside:D,onEscapeKeyDown:S,onPointerDownOutside:m,onFocusOutside:b,onDismiss:()=>z.onOpenChange(!1),children:E.jsx(Er,{"data-state":sr(z.open),role:"dialog",id:z.contentId,...P,...O,ref:f,style:{...O.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),ir="PopoverClose",cn=U.forwardRef((r,f)=>{const{__scopePopover:s,...u}=r,R=me(ir,s);return E.jsx(Bt.button,{type:"button",...u,ref:f,onClick:Te(r.onClick,()=>R.onOpenChange(!1))})});cn.displayName=ir;var dn="PopoverArrow",fn=U.forwardRef((r,f)=>{const{__scopePopover:s,...u}=r,R=He(s);return E.jsx(_r,{...R,...u,ref:f})});fn.displayName=dn;function sr(r){return r?"open":"closed"}var pn=Qt,hn=rr,gn=nr,mn=or;function vn({...r}){return E.jsx(pn,{"data-slot":"popover",...r})}function yn({...r}){return E.jsx(hn,{"data-slot":"popover-trigger",...r})}function wn({className:r,align:f="center",sideOffset:s=4,...u}){return E.jsx(gn,{children:E.jsx(mn,{"data-slot":"popover-content",align:f,sideOffset:s,className:zr("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",r),...u})})}const xn=r=>{const{t:f}=rt(),[s,u]=U.useState(ae.get("myDecks").value()),R=m=>{let b={imgUrls:[],supportsId:[],tags:[]};r.player.id&&(b.playerId=r.player.id,b.imgUrls.push(r.player.imgUrl)),[0,1,2,3,4,5].forEach(D=>{r.supports[D]&&r.supports[D].id?(b.imgUrls.push(r.supports[D].imgUrl),b.supportsId.push(r.supports[D].id)):b.supportsId.push(null)}),m?ae.get("myDecks").find({id:m.id}).assign(b).write():(b.id=Ir.generate(),ae.get("myDecks").push(b).write()),u([...ae.get("myDecks").value()])},g=m=>{ae.get("myDecks").remove({id:m.id}).write(),u([...ae.get("myDecks").value()])},v=async m=>{const b={...m,id:m.playerId+m.supportsId.sort((z,P)=>z.localeCompare(P)).join("")},O=(await Ut.post("https://urarawin-worker.urarawin.workers.dev/api/sqlite/addDeck",b)).data;O&&Xr.info(O.msg)},S=(m,b)=>{ae.get("myDecks").find({id:b.id}).assign({tags:m}).write(),u([...ae.get("myDecks").value()])};return E.jsx(Yt,{width:"100%",overlayStyle:{maxHeight:800,overflow:"auto"},content:E.jsxs(E.Fragment,{children:[E.jsx(ie,{size:"sm",buttonType:"outline",onClick:()=>R(),children:f("保存为新卡组")}),s.map(m=>E.jsxs("div",{className:"w-full grid grid-cols-8",children:[E.jsx("div",{className:"col-span-full",children:E.jsx(Ur.Group,{options:Nr,defaultValue:m.tags||[],onChange:b=>S(b,m)})}),m.imgUrls.map(b=>E.jsx("div",{className:"col-span-1",children:E.jsx("img",{src:Be+b,alt:b,width:"100"})},b)),E.jsxs("div",{className:"col-span-1",children:[E.jsx(ie,{type:"primary",onClick:()=>r.loadDeck(m),children:f("读取卡组")}),E.jsx(Ze,{title:f("确认覆盖？"),onConfirm:()=>R(m),children:E.jsx(ie,{danger:!0,type:"dashed",children:f("覆盖卡组")})}),E.jsx(Ze,{title:f("确认删除？"),onConfirm:()=>g(m),children:E.jsx(ie,{danger:!0,type:"dashed",children:f("删除卡组")})}),E.jsx(Ze,{title:f("确认分享？"),onConfirm:()=>v(m),children:E.jsx(ie,{children:"分享卡组"})})]})]},m.id))]}),children:E.jsx(ie,{size:"sm",buttonType:"outline",children:f("我的卡组")})})},bn=r=>{const{t:f}=rt(),[s,u]=U.useState([]),[R,g]=U.useState(""),v=async()=>{if(R!==r.player.id){const S=r.player?{playerId:r.player.id}:{},m=await Ut.post("https://urarawin-worker.urarawin.workers.dev/api/sqlite/searchDeck",S);u(m.data||[]),g(r.player.id)}};return E.jsx(Yt,{width:"100%",onVisibleChange:v,overlayStyle:{maxHeight:800,overflow:"auto"},content:s.map(S=>E.jsxs("div",{className:"w-full grid grid-cols-8",children:[E.jsx("div",{className:"col-span-full",children:S.tags&&S.tags.map(m=>E.jsx(Zt,{children:m},m))}),S.imgUrls.map(m=>E.jsx("div",{className:"col-span-1",children:E.jsx("img",{src:Be+m,alt:m,width:"100"})},m)),E.jsx("div",{className:"col-span-1",children:E.jsx(ie,{type:"primary",onClick:()=>r.loadDeck(S),children:f("读取卡组")})})]},S.id)),children:E.jsx(ie,{size:"sm",buttonType:"outline",children:f("推荐卡组")})})};var Je={exports:{}},Ce={},Me={exports:{}},Rn=Me.exports,ht;function at(){return ht||(ht=1,function(r,f){(function(s,u){u(f)})(Rn,function(s){function u(M){return function(J,p,h,x,_,T,q){return M(J,p,q)}}function R(M){return function(J,p,h,x){if(!J||!p||typeof J!="object"||typeof p!="object")return M(J,p,h,x);var _=x.get(J),T=x.get(p);if(_&&T)return _===p&&T===J;x.set(J,p),x.set(p,J);var q=M(J,p,h,x);return x.delete(J),x.delete(p),q}}function g(M,F){var J={};for(var p in M)J[p]=M[p];for(var p in F)J[p]=F[p];return J}function v(M){return M.constructor===Object||M.constructor==null}function S(M){return typeof M.then=="function"}function m(M,F){return M===F||M!==M&&F!==F}var b="[object Arguments]",D="[object Boolean]",O="[object Date]",z="[object RegExp]",P="[object Map]",w="[object Number]",y="[object Object]",a="[object Set]",t="[object String]",e=Object.prototype.toString;function n(M){var F=M.areArraysEqual,J=M.areDatesEqual,p=M.areMapsEqual,h=M.areObjectsEqual,x=M.areRegExpsEqual,_=M.areSetsEqual,T=M.createIsNestedEqual,q=T(A);function A(H,$,ee){if(H===$)return!0;if(!H||!$||typeof H!="object"||typeof $!="object")return H!==H&&$!==$;if(v(H)&&v($))return h(H,$,q,ee);var ve=Array.isArray(H),se=Array.isArray($);if(ve||se)return ve===se&&F(H,$,q,ee);var ne=e.call(H);return ne!==e.call($)?!1:ne===O?J(H,$,q,ee):ne===z?x(H,$,q,ee):ne===P?p(H,$,q,ee):ne===a?_(H,$,q,ee):ne===y||ne===b?S(H)||S($)?!1:h(H,$,q,ee):ne===D||ne===w||ne===t?m(H.valueOf(),$.valueOf()):!1}return A}function l(M,F,J,p){var h=M.length;if(F.length!==h)return!1;for(;h-- >0;)if(!J(M[h],F[h],h,h,M,F,p))return!1;return!0}var i=R(l);function c(M,F){return m(M.valueOf(),F.valueOf())}function o(M,F,J,p){var h=M.size===F.size;if(!h)return!1;if(!M.size)return!0;var x={},_=0;return M.forEach(function(T,q){if(h){var A=!1,H=0;F.forEach(function($,ee){!A&&!x[H]&&(A=J(q,ee,_,H,M,F,p)&&J(T,$,q,ee,M,F,p))&&(x[H]=!0),H++}),_++,h=A}}),h}var d=R(o),C="_owner",N=Object.prototype.hasOwnProperty;function L(M,F,J,p){var h=Object.keys(M),x=h.length;if(Object.keys(F).length!==x)return!1;for(var _;x-- >0;){if(_=h[x],_===C){var T=!!M.$$typeof,q=!!F.$$typeof;if((T||q)&&T!==q)return!1}if(!N.call(F,_)||!J(M[_],F[_],_,_,M,F,p))return!1}return!0}var j=R(L);function W(M,F){return M.source===F.source&&M.flags===F.flags}function G(M,F,J,p){var h=M.size===F.size;if(!h)return!1;if(!M.size)return!0;var x={};return M.forEach(function(_,T){if(h){var q=!1,A=0;F.forEach(function(H,$){!q&&!x[A]&&(q=J(_,H,T,$,M,F,p))&&(x[A]=!0),A++}),h=q}}),h}var Y=R(G),X=Object.freeze({areArraysEqual:l,areDatesEqual:c,areMapsEqual:o,areObjectsEqual:L,areRegExpsEqual:W,areSetsEqual:G,createIsNestedEqual:u}),B=Object.freeze({areArraysEqual:i,areDatesEqual:c,areMapsEqual:d,areObjectsEqual:j,areRegExpsEqual:W,areSetsEqual:Y,createIsNestedEqual:u}),V=n(X);function K(M,F){return V(M,F,void 0)}var k=n(g(X,{createIsNestedEqual:function(){return m}}));function I(M,F){return k(M,F,void 0)}var te=n(B);function Q(M,F){return te(M,F,new WeakMap)}var oe=n(g(B,{createIsNestedEqual:function(){return m}}));function fe(M,F){return oe(M,F,new WeakMap)}function De(M){return n(g(X,M(X)))}function Ue(M){var F=n(g(B,M(B)));return function(J,p,h){return h===void 0&&(h=new WeakMap),F(J,p,h)}}s.circularDeepEqual=Q,s.circularShallowEqual=fe,s.createCustomCircularEqual=Ue,s.createCustomEqual=De,s.deepEqual=K,s.sameValueZeroEqual=m,s.shallowEqual=I,Object.defineProperty(s,"__esModule",{value:!0})})}(Me,Me.exports)),Me.exports}var Ie={exports:{}},gt;function it(){if(gt)return Ie.exports;gt=1;function r(s){var u,R,g="";if(typeof s=="string"||typeof s=="number")g+=s;else if(typeof s=="object")if(Array.isArray(s)){var v=s.length;for(u=0;u<v;u++)s[u]&&(R=r(s[u]))&&(g&&(g+=" "),g+=R)}else for(R in s)s[R]&&(g&&(g+=" "),g+=R);return g}function f(){for(var s,u,R=0,g="",v=arguments.length;R<v;R++)(s=arguments[R])&&(u=r(s))&&(g&&(g+=" "),g+=u);return g}return Ie.exports=f,Ie.exports.clsx=f,Ie.exports}var Z={},Qe,mt;function Pn(){return mt||(mt=1,Qe=function(f,s,u){return f===s?!0:f.className===s.className&&u(f.style,s.style)&&f.width===s.width&&f.autoSize===s.autoSize&&f.cols===s.cols&&f.draggableCancel===s.draggableCancel&&f.draggableHandle===s.draggableHandle&&u(f.verticalCompact,s.verticalCompact)&&u(f.compactType,s.compactType)&&u(f.layout,s.layout)&&u(f.margin,s.margin)&&u(f.containerPadding,s.containerPadding)&&f.rowHeight===s.rowHeight&&f.maxRows===s.maxRows&&f.isBounded===s.isBounded&&f.isDraggable===s.isDraggable&&f.isResizable===s.isResizable&&f.allowOverlap===s.allowOverlap&&f.preventCollision===s.preventCollision&&f.useCSSTransforms===s.useCSSTransforms&&f.transformScale===s.transformScale&&f.isDroppable===s.isDroppable&&u(f.resizeHandles,s.resizeHandles)&&u(f.resizeHandle,s.resizeHandle)&&f.onLayoutChange===s.onLayoutChange&&f.onDragStart===s.onDragStart&&f.onDrag===s.onDrag&&f.onDragStop===s.onDragStop&&f.onResizeStart===s.onResizeStart&&f.onResize===s.onResize&&f.onResizeStop===s.onResizeStop&&f.onDrop===s.onDrop&&u(f.droppingItem,s.droppingItem)&&u(f.innerRef,s.innerRef)}),Qe}var vt;function Se(){if(vt)return Z;vt=1,Object.defineProperty(Z,"__esModule",{value:!0}),Z.bottom=u,Z.childrenEqual=m,Z.cloneLayout=R,Z.cloneLayoutItem=S,Z.collides=D,Z.compact=O,Z.compactItem=w,Z.compactType=M,Z.correctBounds=y,Z.fastPositionEqual=b,Z.fastRGLPropsEqual=void 0,Z.getAllCollisions=e,Z.getFirstCollision=t,Z.getLayoutItem=a,Z.getStatics=n,Z.modifyLayout=g,Z.moveElement=l,Z.moveElementAwayFromCollision=i,Z.noop=void 0,Z.perc=c,Z.resizeItemInDirection=k,Z.setTopLeft=te,Z.setTransform=I,Z.sortLayoutItems=Q,Z.sortLayoutItemsByColRow=fe,Z.sortLayoutItemsByRowCol=oe,Z.synchronizeLayoutWithChildren=De,Z.validateLayout=Ue,Z.withLayoutItem=v;var r=at(),f=s(le());function s(p){return p&&p.__esModule?p:{default:p}}function u(p){let h=0,x;for(let _=0,T=p.length;_<T;_++)x=p[_].y+p[_].h,x>h&&(h=x);return h}function R(p){const h=Array(p.length);for(let x=0,_=p.length;x<_;x++)h[x]=S(p[x]);return h}function g(p,h){const x=Array(p.length);for(let _=0,T=p.length;_<T;_++)h.i===p[_].i?x[_]=h:x[_]=p[_];return x}function v(p,h,x){let _=a(p,h);return _?(_=x(S(_)),p=g(p,_),[p,_]):[p,null]}function S(p){return{w:p.w,h:p.h,x:p.x,y:p.y,i:p.i,minW:p.minW,maxW:p.maxW,minH:p.minH,maxH:p.maxH,moved:!!p.moved,static:!!p.static,isDraggable:p.isDraggable,isResizable:p.isResizable,resizeHandles:p.resizeHandles,isBounded:p.isBounded}}function m(p,h){return(0,r.deepEqual)(f.default.Children.map(p,x=>x==null?void 0:x.key),f.default.Children.map(h,x=>x==null?void 0:x.key))&&(0,r.deepEqual)(f.default.Children.map(p,x=>x==null?void 0:x.props["data-grid"]),f.default.Children.map(h,x=>x==null?void 0:x.props["data-grid"]))}Z.fastRGLPropsEqual=Pn();function b(p,h){return p.left===h.left&&p.top===h.top&&p.width===h.width&&p.height===h.height}function D(p,h){return!(p.i===h.i||p.x+p.w<=h.x||p.x>=h.x+h.w||p.y+p.h<=h.y||p.y>=h.y+h.h)}function O(p,h,x,_){const T=n(p),q=Q(p,h),A=Array(p.length);for(let H=0,$=q.length;H<$;H++){let ee=S(q[H]);ee.static||(ee=w(T,ee,h,x,q,_),T.push(ee)),A[p.indexOf(q[H])]=ee,ee.moved=!1}return A}const z={x:"w",y:"h"};function P(p,h,x,_){const T=z[_];h[_]+=1;const q=p.map(A=>A.i).indexOf(h.i);for(let A=q+1;A<p.length;A++){const H=p[A];if(!H.static){if(H.y>h.y+h.h)break;D(h,H)&&P(p,H,x+h[T],_)}}h[_]=x}function w(p,h,x,_,T,q){const A=x==="vertical",H=x==="horizontal";if(A)for(h.y=Math.min(u(p),h.y);h.y>0&&!t(p,h);)h.y--;else if(H)for(;h.x>0&&!t(p,h);)h.x--;let $;for(;($=t(p,h))&&!(x===null&&q);)if(H?P(T,h,$.x+$.w,"x"):P(T,h,$.y+$.h,"y"),H&&h.x+h.w>_)for(h.x=_-h.w,h.y++;h.x>0&&!t(p,h);)h.x--;return h.y=Math.max(h.y,0),h.x=Math.max(h.x,0),h}function y(p,h){const x=n(p);for(let _=0,T=p.length;_<T;_++){const q=p[_];if(q.x+q.w>h.cols&&(q.x=h.cols-q.w),q.x<0&&(q.x=0,q.w=h.cols),!q.static)x.push(q);else for(;t(x,q);)q.y++}return p}function a(p,h){for(let x=0,_=p.length;x<_;x++)if(p[x].i===h)return p[x]}function t(p,h){for(let x=0,_=p.length;x<_;x++)if(D(p[x],h))return p[x]}function e(p,h){return p.filter(x=>D(x,h))}function n(p){return p.filter(h=>h.static)}function l(p,h,x,_,T,q,A,H,$){if(h.static&&h.isDraggable!==!0||h.y===_&&h.x===x)return p;`${h.i}${String(x)}${String(_)}${h.x}${h.y}`;const ee=h.x,ve=h.y;typeof x=="number"&&(h.x=x),typeof _=="number"&&(h.y=_),h.moved=!0;let se=Q(p,A);(A==="vertical"&&typeof _=="number"?ve>=_:A==="horizontal"&&typeof x=="number"?ee>=x:!1)&&(se=se.reverse());const xe=e(se,h),We=xe.length>0;if(We&&$)return R(p);if(We&&q)return`${h.i}`,h.x=ee,h.y=ve,h.moved=!1,p;for(let Xe=0,mr=xe.length;Xe<mr;Xe++){const ye=xe[Xe];`${h.i}${h.x}${h.y}${ye.i}${ye.x}${ye.y}`,!ye.moved&&(ye.static?p=i(p,ye,h,T,A):p=i(p,h,ye,T,A))}return p}function i(p,h,x,_,T,q){const A=T==="horizontal",H=T==="vertical",$=h.static;if(_){_=!1;const se={x:A?Math.max(h.x-x.w,0):x.x,y:H?Math.max(h.y-x.h,0):x.y,w:x.w,h:x.h,i:"-1"},ne=t(p,se),xe=ne&&ne.y+ne.h>h.y,We=ne&&h.x+h.w>ne.x;if(ne){if(xe&&H)return l(p,x,void 0,h.y+1,_,$,T);if(xe&&T==null)return h.y=x.y,x.y=x.y+x.h,p;if(We&&A)return l(p,h,x.x,void 0,_,$,T)}else return`${x.i}${se.x}${se.y}`,l(p,x,A?se.x:void 0,H?se.y:void 0,_,$,T)}const ee=A?x.x+1:void 0,ve=H?x.y+1:void 0;return ee==null&&ve==null?p:l(p,x,A?x.x+1:void 0,H?x.y+1:void 0,_,$,T)}function c(p){return p*100+"%"}const o=(p,h,x,_)=>p+x>_?h:x,d=(p,h,x)=>p<0?h:x,C=p=>Math.max(0,p),N=p=>Math.max(0,p),L=(p,h,x)=>{let{left:_,height:T,width:q}=h;const A=p.top-(T-p.height);return{left:_,width:q,height:d(A,p.height,T),top:N(A)}},j=(p,h,x)=>{let{top:_,left:T,height:q,width:A}=h;return{top:_,height:q,width:o(p.left,p.width,A,x),left:C(T)}},W=(p,h,x)=>{let{top:_,height:T,width:q}=h;const A=p.left-(q-p.width);return{height:T,width:A<0?p.width:o(p.left,p.width,q,x),top:N(_),left:C(A)}},G=(p,h,x)=>{let{top:_,left:T,height:q,width:A}=h;return{width:A,left:T,height:d(_,p.height,q),top:N(_)}},K={n:L,ne:function(){return L(arguments.length<=0?void 0:arguments[0],j(...arguments))},e:j,se:function(){return G(arguments.length<=0?void 0:arguments[0],j(...arguments))},s:G,sw:function(){return G(arguments.length<=0?void 0:arguments[0],W(...arguments))},w:W,nw:function(){return L(arguments.length<=0?void 0:arguments[0],W(...arguments))}};function k(p,h,x,_){const T=K[p];return T?T(h,{...h,...x},_):x}function I(p){let{top:h,left:x,width:_,height:T}=p;const q=`translate(${x}px,${h}px)`;return{transform:q,WebkitTransform:q,MozTransform:q,msTransform:q,OTransform:q,width:`${_}px`,height:`${T}px`,position:"absolute"}}function te(p){let{top:h,left:x,width:_,height:T}=p;return{top:`${h}px`,left:`${x}px`,width:`${_}px`,height:`${T}px`,position:"absolute"}}function Q(p,h){return h==="horizontal"?fe(p):h==="vertical"?oe(p):p}function oe(p){return p.slice(0).sort(function(h,x){return h.y>x.y||h.y===x.y&&h.x>x.x?1:h.y===x.y&&h.x===x.x?0:-1})}function fe(p){return p.slice(0).sort(function(h,x){return h.x>x.x||h.x===x.x&&h.y>x.y?1:-1})}function De(p,h,x,_,T){p=p||[];const q=[];f.default.Children.forEach(h,H=>{if((H==null?void 0:H.key)==null)return;const $=a(p,String(H.key)),ee=H.props["data-grid"];$&&ee==null?q.push(S($)):ee?q.push(S({...ee,i:H.key})):q.push(S({w:1,h:1,x:0,y:u(q),i:String(H.key)}))});const A=y(q,{cols:x});return T?A:O(A,_,x)}function Ue(p){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Layout";const x=["x","y","w","h"];if(!Array.isArray(p))throw new Error(h+" must be an array!");for(let _=0,T=p.length;_<T;_++){const q=p[_];for(let A=0;A<x.length;A++){const H=x[A],$=q[H];if(typeof $!="number"||Number.isNaN($))throw new Error(`ReactGridLayout: ${h}[${_}].${H} must be a number! Received: ${$} (${typeof $})`)}if(typeof q.i<"u"&&typeof q.i!="string")throw new Error(`ReactGridLayout: ${h}[${_}].i must be a string! Received: ${q.i} (${typeof q.i})`)}}function M(p){const{verticalCompact:h,compactType:x}=p||{};return h===!1?null:x}function F(){}const J=()=>{};return Z.noop=J,Z}var ce={},yt;function st(){if(yt)return ce;yt=1,Object.defineProperty(ce,"__esModule",{value:!0}),ce.calcGridColWidth=r,ce.calcGridItemPosition=s,ce.calcGridItemWHPx=f,ce.calcWH=R,ce.calcXY=u,ce.clamp=g;function r(v){const{margin:S,containerPadding:m,containerWidth:b,cols:D}=v;return(b-S[0]*(D-1)-m[0]*2)/D}function f(v,S,m){return Number.isFinite(v)?Math.round(S*v+Math.max(0,v-1)*m):v}function s(v,S,m,b,D,O){const{margin:z,containerPadding:P,rowHeight:w}=v,y=r(v),a={};return O&&O.resizing?(a.width=Math.round(O.resizing.width),a.height=Math.round(O.resizing.height)):(a.width=f(b,y,z[0]),a.height=f(D,w,z[1])),O&&O.dragging?(a.top=Math.round(O.dragging.top),a.left=Math.round(O.dragging.left)):O&&O.resizing&&typeof O.resizing.top=="number"&&typeof O.resizing.left=="number"?(a.top=Math.round(O.resizing.top),a.left=Math.round(O.resizing.left)):(a.top=Math.round((w+z[1])*m+P[1]),a.left=Math.round((y+z[0])*S+P[0])),a}function u(v,S,m,b,D){const{margin:O,containerPadding:z,cols:P,rowHeight:w,maxRows:y}=v,a=r(v);let t=Math.round((m-z[0])/(a+O[0])),e=Math.round((S-z[1])/(w+O[1]));return t=g(t,0,P-b),e=g(e,0,y-D),{x:t,y:e}}function R(v,S,m,b,D,O){const{margin:z,maxRows:P,cols:w,rowHeight:y}=v,a=r(v);let t=Math.round((S+z[0])/(a+z[0])),e=Math.round((m+z[1])/(y+z[1])),n=g(t,0,w-b),l=g(e,0,P-D);return["sw","w","nw"].indexOf(O)!==-1&&(n=g(t,0,w)),["nw","n","ne"].indexOf(O)!==-1&&(l=g(e,0,P)),{w:n,h:l}}function g(v,S,m){return Math.max(Math.min(v,m),S)}return ce}var Oe={},Ee={exports:{}},et={};function lr(r){var f,s,u="";if(typeof r=="string"||typeof r=="number")u+=r;else if(typeof r=="object")if(Array.isArray(r))for(f=0;f<r.length;f++)r[f]&&(s=lr(r[f]))&&(u&&(u+=" "),u+=s);else for(f in r)r[f]&&(u&&(u+=" "),u+=f);return u}function wt(){for(var r,f,s=0,u="";s<arguments.length;)(r=arguments[s++])&&(f=lr(r))&&(u&&(u+=" "),u+=f);return u}const Sn=Object.freeze(Object.defineProperty({__proto__:null,clsx:wt,default:wt},Symbol.toStringTag,{value:"Module"})),Dn=Xt(Sn);var re={},pe={},xt;function $e(){if(xt)return pe;xt=1,Object.defineProperty(pe,"__esModule",{value:!0}),pe.dontSetMe=R,pe.findInArray=r,pe.int=u,pe.isFunction=f,pe.isNum=s;function r(g,v){for(let S=0,m=g.length;S<m;S++)if(v.apply(v,[g[S],S,g]))return g[S]}function f(g){return typeof g=="function"||Object.prototype.toString.call(g)==="[object Function]"}function s(g){return typeof g=="number"&&!isNaN(g)}function u(g){return parseInt(g,10)}function R(g,v,S){if(g[v])return new Error("Invalid prop ".concat(v," passed to ").concat(S," - do not set this, set it on the child."))}return pe}var he={},bt;function Cn(){if(bt)return he;bt=1,Object.defineProperty(he,"__esModule",{value:!0}),he.browserPrefixToKey=s,he.browserPrefixToStyle=u,he.default=void 0,he.getPrefix=f;const r=["Moz","Webkit","O","ms"];function f(){var g;let v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const S=(g=window.document)===null||g===void 0||(g=g.documentElement)===null||g===void 0?void 0:g.style;if(!S||v in S)return"";for(let m=0;m<r.length;m++)if(s(v,r[m])in S)return r[m];return""}function s(g,v){return v?"".concat(v).concat(R(g)):g}function u(g,v){return v?"-".concat(v.toLowerCase(),"-").concat(g):g}function R(g){let v="",S=!0;for(let m=0;m<g.length;m++)S?(v+=g[m].toUpperCase(),S=!1):g[m]==="-"?S=!0:v+=g[m];return v}return he.default=f(),he}var Rt;function lt(){if(Rt)return re;Rt=1,Object.defineProperty(re,"__esModule",{value:!0}),re.addClassName=i,re.addEvent=S,re.addUserSelectStyles=n,re.createCSSTransform=w,re.createSVGTransform=y,re.getTouch=t,re.getTouchIdentifier=e,re.getTranslation=a,re.innerHeight=O,re.innerWidth=z,re.matchesSelector=g,re.matchesSelectorAndParentsTo=v,re.offsetXYFromParent=P,re.outerHeight=b,re.outerWidth=D,re.removeClassName=c,re.removeEvent=m,re.removeUserSelectStyles=l;var r=$e(),f=u(Cn());function s(o){if(typeof WeakMap!="function")return null;var d=new WeakMap,C=new WeakMap;return(s=function(N){return N?C:d})(o)}function u(o,d){if(o&&o.__esModule)return o;if(o===null||typeof o!="object"&&typeof o!="function")return{default:o};var C=s(d);if(C&&C.has(o))return C.get(o);var N={},L=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var j in o)if(j!=="default"&&Object.prototype.hasOwnProperty.call(o,j)){var W=L?Object.getOwnPropertyDescriptor(o,j):null;W&&(W.get||W.set)?Object.defineProperty(N,j,W):N[j]=o[j]}return N.default=o,C&&C.set(o,N),N}let R="";function g(o,d){return R||(R=(0,r.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(C){return(0,r.isFunction)(o[C])})),(0,r.isFunction)(o[R])?o[R](d):!1}function v(o,d,C){let N=o;do{if(g(N,d))return!0;if(N===C)return!1;N=N.parentNode}while(N);return!1}function S(o,d,C,N){if(!o)return;const L={capture:!0,...N};o.addEventListener?o.addEventListener(d,C,L):o.attachEvent?o.attachEvent("on"+d,C):o["on"+d]=C}function m(o,d,C,N){if(!o)return;const L={capture:!0,...N};o.removeEventListener?o.removeEventListener(d,C,L):o.detachEvent?o.detachEvent("on"+d,C):o["on"+d]=null}function b(o){let d=o.clientHeight;const C=o.ownerDocument.defaultView.getComputedStyle(o);return d+=(0,r.int)(C.borderTopWidth),d+=(0,r.int)(C.borderBottomWidth),d}function D(o){let d=o.clientWidth;const C=o.ownerDocument.defaultView.getComputedStyle(o);return d+=(0,r.int)(C.borderLeftWidth),d+=(0,r.int)(C.borderRightWidth),d}function O(o){let d=o.clientHeight;const C=o.ownerDocument.defaultView.getComputedStyle(o);return d-=(0,r.int)(C.paddingTop),d-=(0,r.int)(C.paddingBottom),d}function z(o){let d=o.clientWidth;const C=o.ownerDocument.defaultView.getComputedStyle(o);return d-=(0,r.int)(C.paddingLeft),d-=(0,r.int)(C.paddingRight),d}function P(o,d,C){const L=d===d.ownerDocument.body?{left:0,top:0}:d.getBoundingClientRect(),j=(o.clientX+d.scrollLeft-L.left)/C,W=(o.clientY+d.scrollTop-L.top)/C;return{x:j,y:W}}function w(o,d){const C=a(o,d,"px");return{[(0,f.browserPrefixToKey)("transform",f.default)]:C}}function y(o,d){return a(o,d,"")}function a(o,d,C){let{x:N,y:L}=o,j="translate(".concat(N).concat(C,",").concat(L).concat(C,")");if(d){const W="".concat(typeof d.x=="string"?d.x:d.x+C),G="".concat(typeof d.y=="string"?d.y:d.y+C);j="translate(".concat(W,", ").concat(G,")")+j}return j}function t(o,d){return o.targetTouches&&(0,r.findInArray)(o.targetTouches,C=>d===C.identifier)||o.changedTouches&&(0,r.findInArray)(o.changedTouches,C=>d===C.identifier)}function e(o){if(o.targetTouches&&o.targetTouches[0])return o.targetTouches[0].identifier;if(o.changedTouches&&o.changedTouches[0])return o.changedTouches[0].identifier}function n(o){if(!o)return;let d=o.getElementById("react-draggable-style-el");d||(d=o.createElement("style"),d.type="text/css",d.id="react-draggable-style-el",d.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,d.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,o.getElementsByTagName("head")[0].appendChild(d)),o.body&&i(o.body,"react-draggable-transparent-selection")}function l(o){if(o)try{if(o.body&&c(o.body,"react-draggable-transparent-selection"),o.selection)o.selection.empty();else{const d=(o.defaultView||window).getSelection();d&&d.type!=="Caret"&&d.removeAllRanges()}}catch{}}function i(o,d){o.classList?o.classList.add(d):o.className.match(new RegExp("(?:^|\\s)".concat(d,"(?!\\S)")))||(o.className+=" ".concat(d))}function c(o,d){o.classList?o.classList.remove(d):o.className=o.className.replace(new RegExp("(?:^|\\s)".concat(d,"(?!\\S)"),"g"),"")}return re}var ue={},Pt;function ur(){if(Pt)return ue;Pt=1,Object.defineProperty(ue,"__esModule",{value:!0}),ue.canDragX=R,ue.canDragY=g,ue.createCoreData=S,ue.createDraggableData=m,ue.getBoundPosition=s,ue.getControlPosition=v,ue.snapToGrid=u;var r=$e(),f=lt();function s(O,z,P){if(!O.props.bounds)return[z,P];let{bounds:w}=O.props;w=typeof w=="string"?w:b(w);const y=D(O);if(typeof w=="string"){const{ownerDocument:a}=y,t=a.defaultView;let e;if(w==="parent"?e=y.parentNode:e=a.querySelector(w),!(e instanceof t.HTMLElement))throw new Error('Bounds selector "'+w+'" could not find an element.');const n=e,l=t.getComputedStyle(y),i=t.getComputedStyle(n);w={left:-y.offsetLeft+(0,r.int)(i.paddingLeft)+(0,r.int)(l.marginLeft),top:-y.offsetTop+(0,r.int)(i.paddingTop)+(0,r.int)(l.marginTop),right:(0,f.innerWidth)(n)-(0,f.outerWidth)(y)-y.offsetLeft+(0,r.int)(i.paddingRight)-(0,r.int)(l.marginRight),bottom:(0,f.innerHeight)(n)-(0,f.outerHeight)(y)-y.offsetTop+(0,r.int)(i.paddingBottom)-(0,r.int)(l.marginBottom)}}return(0,r.isNum)(w.right)&&(z=Math.min(z,w.right)),(0,r.isNum)(w.bottom)&&(P=Math.min(P,w.bottom)),(0,r.isNum)(w.left)&&(z=Math.max(z,w.left)),(0,r.isNum)(w.top)&&(P=Math.max(P,w.top)),[z,P]}function u(O,z,P){const w=Math.round(z/O[0])*O[0],y=Math.round(P/O[1])*O[1];return[w,y]}function R(O){return O.props.axis==="both"||O.props.axis==="x"}function g(O){return O.props.axis==="both"||O.props.axis==="y"}function v(O,z,P){const w=typeof z=="number"?(0,f.getTouch)(O,z):null;if(typeof z=="number"&&!w)return null;const y=D(P),a=P.props.offsetParent||y.offsetParent||y.ownerDocument.body;return(0,f.offsetXYFromParent)(w||O,a,P.props.scale)}function S(O,z,P){const w=!(0,r.isNum)(O.lastX),y=D(O);return w?{node:y,deltaX:0,deltaY:0,lastX:z,lastY:P,x:z,y:P}:{node:y,deltaX:z-O.lastX,deltaY:P-O.lastY,lastX:O.lastX,lastY:O.lastY,x:z,y:P}}function m(O,z){const P=O.props.scale;return{node:z.node,x:O.state.x+z.deltaX/P,y:O.state.y+z.deltaY/P,deltaX:z.deltaX/P,deltaY:z.deltaY/P,lastX:O.state.x,lastY:O.state.y}}function b(O){return{left:O.left,top:O.top,right:O.right,bottom:O.bottom}}function D(O){const z=O.findDOMNode();if(!z)throw new Error("<DraggableCore>: Unmounted during event!");return z}return ue}var _e={},ke={},St;function cr(){if(St)return ke;St=1,Object.defineProperty(ke,"__esModule",{value:!0}),ke.default=r;function r(){}return ke}var Dt;function On(){if(Dt)return _e;Dt=1,Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var r=b(le()),f=S(ge()),s=S(nt()),u=lt(),R=ur(),g=$e(),v=S(cr());function S(a){return a&&a.__esModule?a:{default:a}}function m(a){if(typeof WeakMap!="function")return null;var t=new WeakMap,e=new WeakMap;return(m=function(n){return n?e:t})(a)}function b(a,t){if(a&&a.__esModule)return a;if(a===null||typeof a!="object"&&typeof a!="function")return{default:a};var e=m(t);if(e&&e.has(a))return e.get(a);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in a)if(i!=="default"&&Object.prototype.hasOwnProperty.call(a,i)){var c=l?Object.getOwnPropertyDescriptor(a,i):null;c&&(c.get||c.set)?Object.defineProperty(n,i,c):n[i]=a[i]}return n.default=a,e&&e.set(a,n),n}function D(a,t,e){return t=O(t),t in a?Object.defineProperty(a,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[t]=e,a}function O(a){var t=z(a,"string");return typeof t=="symbol"?t:String(t)}function z(a,t){if(typeof a!="object"||a===null)return a;var e=a[Symbol.toPrimitive];if(e!==void 0){var n=e.call(a,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(a)}const P={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let w=P.mouse,y=class extends r.Component{constructor(){super(...arguments),D(this,"dragging",!1),D(this,"lastX",NaN),D(this,"lastY",NaN),D(this,"touchIdentifier",null),D(this,"mounted",!1),D(this,"handleDragStart",t=>{if(this.props.onMouseDown(t),!this.props.allowAnyClick&&typeof t.button=="number"&&t.button!==0)return!1;const e=this.findDOMNode();if(!e||!e.ownerDocument||!e.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:n}=e;if(this.props.disabled||!(t.target instanceof n.defaultView.Node)||this.props.handle&&!(0,u.matchesSelectorAndParentsTo)(t.target,this.props.handle,e)||this.props.cancel&&(0,u.matchesSelectorAndParentsTo)(t.target,this.props.cancel,e))return;t.type==="touchstart"&&t.preventDefault();const l=(0,u.getTouchIdentifier)(t);this.touchIdentifier=l;const i=(0,R.getControlPosition)(t,l,this);if(i==null)return;const{x:c,y:o}=i,d=(0,R.createCoreData)(this,c,o);(0,v.default)("DraggableCore: handleDragStart: %j",d),(0,v.default)("calling",this.props.onStart),!(this.props.onStart(t,d)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,u.addUserSelectStyles)(n),this.dragging=!0,this.lastX=c,this.lastY=o,(0,u.addEvent)(n,w.move,this.handleDrag),(0,u.addEvent)(n,w.stop,this.handleDragStop))}),D(this,"handleDrag",t=>{const e=(0,R.getControlPosition)(t,this.touchIdentifier,this);if(e==null)return;let{x:n,y:l}=e;if(Array.isArray(this.props.grid)){let o=n-this.lastX,d=l-this.lastY;if([o,d]=(0,R.snapToGrid)(this.props.grid,o,d),!o&&!d)return;n=this.lastX+o,l=this.lastY+d}const i=(0,R.createCoreData)(this,n,l);if((0,v.default)("DraggableCore: handleDrag: %j",i),this.props.onDrag(t,i)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const d=document.createEvent("MouseEvents");d.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(d)}return}this.lastX=n,this.lastY=l}),D(this,"handleDragStop",t=>{if(!this.dragging)return;const e=(0,R.getControlPosition)(t,this.touchIdentifier,this);if(e==null)return;let{x:n,y:l}=e;if(Array.isArray(this.props.grid)){let d=n-this.lastX||0,C=l-this.lastY||0;[d,C]=(0,R.snapToGrid)(this.props.grid,d,C),n=this.lastX+d,l=this.lastY+C}const i=(0,R.createCoreData)(this,n,l);if(this.props.onStop(t,i)===!1||this.mounted===!1)return!1;const o=this.findDOMNode();o&&this.props.enableUserSelectHack&&(0,u.removeUserSelectStyles)(o.ownerDocument),(0,v.default)("DraggableCore: handleDragStop: %j",i),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,o&&((0,v.default)("DraggableCore: Removing handlers"),(0,u.removeEvent)(o.ownerDocument,w.move,this.handleDrag),(0,u.removeEvent)(o.ownerDocument,w.stop,this.handleDragStop))}),D(this,"onMouseDown",t=>(w=P.mouse,this.handleDragStart(t))),D(this,"onMouseUp",t=>(w=P.mouse,this.handleDragStop(t))),D(this,"onTouchStart",t=>(w=P.touch,this.handleDragStart(t))),D(this,"onTouchEnd",t=>(w=P.touch,this.handleDragStop(t)))}componentDidMount(){this.mounted=!0;const t=this.findDOMNode();t&&(0,u.addEvent)(t,P.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const t=this.findDOMNode();if(t){const{ownerDocument:e}=t;(0,u.removeEvent)(e,P.mouse.move,this.handleDrag),(0,u.removeEvent)(e,P.touch.move,this.handleDrag),(0,u.removeEvent)(e,P.mouse.stop,this.handleDragStop),(0,u.removeEvent)(e,P.touch.stop,this.handleDragStop),(0,u.removeEvent)(t,P.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,u.removeUserSelectStyles)(e)}}findDOMNode(){var t,e;return(t=this.props)!==null&&t!==void 0&&t.nodeRef?(e=this.props)===null||e===void 0||(e=e.nodeRef)===null||e===void 0?void 0:e.current:s.default.findDOMNode(this)}render(){return r.cloneElement(r.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};return _e.default=y,D(y,"displayName","DraggableCore"),D(y,"propTypes",{allowAnyClick:f.default.bool,children:f.default.node.isRequired,disabled:f.default.bool,enableUserSelectHack:f.default.bool,offsetParent:function(a,t){if(a[t]&&a[t].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:f.default.arrayOf(f.default.number),handle:f.default.string,cancel:f.default.string,nodeRef:f.default.object,onStart:f.default.func,onDrag:f.default.func,onStop:f.default.func,onMouseDown:f.default.func,scale:f.default.number,className:g.dontSetMe,style:g.dontSetMe,transform:g.dontSetMe}),D(y,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),_e}var Ct;function En(){return Ct||(Ct=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"DraggableCore",{enumerable:!0,get:function(){return m.default}}),r.default=void 0;var f=z(le()),s=D(ge()),u=D(nt()),R=D(Dn),g=lt(),v=ur(),S=$e(),m=D(On()),b=D(cr());function D(e){return e&&e.__esModule?e:{default:e}}function O(e){if(typeof WeakMap!="function")return null;var n=new WeakMap,l=new WeakMap;return(O=function(i){return i?l:n})(e)}function z(e,n){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var l=O(n);if(l&&l.has(e))return l.get(e);var i={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var d=c?Object.getOwnPropertyDescriptor(e,o):null;d&&(d.get||d.set)?Object.defineProperty(i,o,d):i[o]=e[o]}return i.default=e,l&&l.set(e,i),i}function P(){return P=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var l=arguments[n];for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i])}return e},P.apply(this,arguments)}function w(e,n,l){return n=y(n),n in e?Object.defineProperty(e,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[n]=l,e}function y(e){var n=a(e,"string");return typeof n=="symbol"?n:String(n)}function a(e,n){if(typeof e!="object"||e===null)return e;var l=e[Symbol.toPrimitive];if(l!==void 0){var i=l.call(e,n);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}class t extends f.Component{static getDerivedStateFromProps(n,l){let{position:i}=n,{prevPropsPosition:c}=l;return i&&(!c||i.x!==c.x||i.y!==c.y)?((0,b.default)("Draggable: getDerivedStateFromProps %j",{position:i,prevPropsPosition:c}),{x:i.x,y:i.y,prevPropsPosition:{...i}}):null}constructor(n){super(n),w(this,"onDragStart",(l,i)=>{if((0,b.default)("Draggable: onDragStart: %j",i),this.props.onStart(l,(0,v.createDraggableData)(this,i))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),w(this,"onDrag",(l,i)=>{if(!this.state.dragging)return!1;(0,b.default)("Draggable: onDrag: %j",i);const c=(0,v.createDraggableData)(this,i),o={x:c.x,y:c.y,slackX:0,slackY:0};if(this.props.bounds){const{x:C,y:N}=o;o.x+=this.state.slackX,o.y+=this.state.slackY;const[L,j]=(0,v.getBoundPosition)(this,o.x,o.y);o.x=L,o.y=j,o.slackX=this.state.slackX+(C-o.x),o.slackY=this.state.slackY+(N-o.y),c.x=o.x,c.y=o.y,c.deltaX=o.x-this.state.x,c.deltaY=o.y-this.state.y}if(this.props.onDrag(l,c)===!1)return!1;this.setState(o)}),w(this,"onDragStop",(l,i)=>{if(!this.state.dragging||this.props.onStop(l,(0,v.createDraggableData)(this,i))===!1)return!1;(0,b.default)("Draggable: onDragStop: %j",i);const o={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:C,y:N}=this.props.position;o.x=C,o.y=N}this.setState(o)}),this.state={dragging:!1,dragged:!1,x:n.position?n.position.x:n.defaultPosition.x,y:n.position?n.position.y:n.defaultPosition.y,prevPropsPosition:{...n.position},slackX:0,slackY:0,isElementSVG:!1},n.position&&!(n.onDrag||n.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var n,l;return(n=(l=this.props)===null||l===void 0||(l=l.nodeRef)===null||l===void 0?void 0:l.current)!==null&&n!==void 0?n:u.default.findDOMNode(this)}render(){const{axis:n,bounds:l,children:i,defaultPosition:c,defaultClassName:o,defaultClassNameDragging:d,defaultClassNameDragged:C,position:N,positionOffset:L,scale:j,...W}=this.props;let G={},Y=null;const B=!!!N||this.state.dragging,V=N||c,K={x:(0,v.canDragX)(this)&&B?this.state.x:V.x,y:(0,v.canDragY)(this)&&B?this.state.y:V.y};this.state.isElementSVG?Y=(0,g.createSVGTransform)(K,L):G=(0,g.createCSSTransform)(K,L);const k=(0,R.default)(i.props.className||"",o,{[d]:this.state.dragging,[C]:this.state.dragged});return f.createElement(m.default,P({},W,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),f.cloneElement(f.Children.only(i),{className:k,style:{...i.props.style,...G},transform:Y}))}}r.default=t,w(t,"displayName","Draggable"),w(t,"propTypes",{...m.default.propTypes,axis:s.default.oneOf(["both","x","y","none"]),bounds:s.default.oneOfType([s.default.shape({left:s.default.number,right:s.default.number,top:s.default.number,bottom:s.default.number}),s.default.string,s.default.oneOf([!1])]),defaultClassName:s.default.string,defaultClassNameDragging:s.default.string,defaultClassNameDragged:s.default.string,defaultPosition:s.default.shape({x:s.default.number,y:s.default.number}),positionOffset:s.default.shape({x:s.default.oneOfType([s.default.number,s.default.string]),y:s.default.oneOfType([s.default.number,s.default.string])}),position:s.default.shape({x:s.default.number,y:s.default.number}),className:S.dontSetMe,style:S.dontSetMe,transform:S.dontSetMe}),w(t,"defaultProps",{...m.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})}(et)),et}var Ot;function ut(){if(Ot)return Ee.exports;Ot=1;const{default:r,DraggableCore:f}=En();return Ee.exports=r,Ee.exports.default=r,Ee.exports.DraggableCore=f,Ee.exports}var ze={exports:{}},Ne={},Ae={},Et;function _n(){if(Et)return Ae;Et=1,Ae.__esModule=!0,Ae.cloneElement=S;var r=f(le());function f(m){return m&&m.__esModule?m:{default:m}}function s(m,b){var D=Object.keys(m);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(m);b&&(O=O.filter(function(z){return Object.getOwnPropertyDescriptor(m,z).enumerable})),D.push.apply(D,O)}return D}function u(m){for(var b=1;b<arguments.length;b++){var D=arguments[b]!=null?arguments[b]:{};b%2?s(Object(D),!0).forEach(function(O){R(m,O,D[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(D)):s(Object(D)).forEach(function(O){Object.defineProperty(m,O,Object.getOwnPropertyDescriptor(D,O))})}return m}function R(m,b,D){return b=g(b),b in m?Object.defineProperty(m,b,{value:D,enumerable:!0,configurable:!0,writable:!0}):m[b]=D,m}function g(m){var b=v(m,"string");return typeof b=="symbol"?b:String(b)}function v(m,b){if(typeof m!="object"||m===null)return m;var D=m[Symbol.toPrimitive];if(D!==void 0){var O=D.call(m,b);if(typeof O!="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(b==="string"?String:Number)(m)}function S(m,b){return b.style&&m.props.style&&(b.style=u(u({},m.props.style),b.style)),b.className&&m.props.className&&(b.className=m.props.className+" "+b.className),r.default.cloneElement(m,b)}return Ae}var je={},_t;function dr(){if(_t)return je;_t=1,je.__esModule=!0,je.resizableProps=void 0;var r=f(ge());ut();function f(u){return u&&u.__esModule?u:{default:u}}var s={axis:r.default.oneOf(["both","x","y","none"]),className:r.default.string,children:r.default.element.isRequired,draggableOpts:r.default.shape({allowAnyClick:r.default.bool,cancel:r.default.string,children:r.default.node,disabled:r.default.bool,enableUserSelectHack:r.default.bool,offsetParent:r.default.node,grid:r.default.arrayOf(r.default.number),handle:r.default.string,nodeRef:r.default.object,onStart:r.default.func,onDrag:r.default.func,onStop:r.default.func,onMouseDown:r.default.func,scale:r.default.number}),height:function(){for(var R=arguments.length,g=new Array(R),v=0;v<R;v++)g[v]=arguments[v];var S=g[0];if(S.axis==="both"||S.axis==="y"){var m;return(m=r.default.number).isRequired.apply(m,g)}return r.default.number.apply(r.default,g)},handle:r.default.oneOfType([r.default.node,r.default.func]),handleSize:r.default.arrayOf(r.default.number),lockAspectRatio:r.default.bool,maxConstraints:r.default.arrayOf(r.default.number),minConstraints:r.default.arrayOf(r.default.number),onResizeStop:r.default.func,onResizeStart:r.default.func,onResize:r.default.func,resizeHandles:r.default.arrayOf(r.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:r.default.number,width:function(){for(var R=arguments.length,g=new Array(R),v=0;v<R;v++)g[v]=arguments[v];var S=g[0];if(S.axis==="both"||S.axis==="x"){var m;return(m=r.default.number).isRequired.apply(m,g)}return r.default.number.apply(r.default,g)}};return je.resizableProps=s,je}var zt;function fr(){if(zt)return Ne;zt=1,Ne.__esModule=!0,Ne.default=void 0;var r=v(le()),f=ut(),s=_n(),u=dr(),R=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function g(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(g=function(i){return i?n:e})(t)}function v(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=g(e);if(n&&n.has(t))return n.get(t);var l={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if(c!=="default"&&Object.prototype.hasOwnProperty.call(t,c)){var o=i?Object.getOwnPropertyDescriptor(t,c):null;o&&(o.get||o.set)?Object.defineProperty(l,c,o):l[c]=t[c]}return l.default=t,n&&n.set(t,l),l}function S(){return S=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},S.apply(this,arguments)}function m(t,e){if(t==null)return{};var n={},l=Object.keys(t),i,c;for(c=0;c<l.length;c++)i=l[c],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);e&&(l=l.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,l)}return n}function D(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b(Object(n),!0).forEach(function(l){O(t,l,n[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(l){Object.defineProperty(t,l,Object.getOwnPropertyDescriptor(n,l))})}return t}function O(t,e,n){return e=z(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z(t){var e=P(t,"string");return typeof e=="symbol"?e:String(e)}function P(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var l=n.call(t,e);if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function w(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,y(t,e)}function y(t,e){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(l,i){return l.__proto__=i,l},y(t,e)}var a=function(t){w(e,t);function e(){for(var l,i=arguments.length,c=new Array(i),o=0;o<i;o++)c[o]=arguments[o];return l=t.call.apply(t,[this].concat(c))||this,l.handleRefs={},l.lastHandleRect=null,l.slack=null,l}var n=e.prototype;return n.componentWillUnmount=function(){this.resetData()},n.resetData=function(){this.lastHandleRect=this.slack=null},n.runConstraints=function(i,c){var o=this.props,d=o.minConstraints,C=o.maxConstraints,N=o.lockAspectRatio;if(!d&&!C&&!N)return[i,c];if(N){var L=this.props.width/this.props.height,j=i-this.props.width,W=c-this.props.height;Math.abs(j)>Math.abs(W*L)?c=i/L:i=c*L}var G=i,Y=c,X=this.slack||[0,0],B=X[0],V=X[1];return i+=B,c+=V,d&&(i=Math.max(d[0],i),c=Math.max(d[1],c)),C&&(i=Math.min(C[0],i),c=Math.min(C[1],c)),this.slack=[B+(G-i),V+(Y-c)],[i,c]},n.resizeHandler=function(i,c){var o=this;return function(d,C){var N=C.node,L=C.deltaX,j=C.deltaY;i==="onResizeStart"&&o.resetData();var W=(o.props.axis==="both"||o.props.axis==="x")&&c!=="n"&&c!=="s",G=(o.props.axis==="both"||o.props.axis==="y")&&c!=="e"&&c!=="w";if(!(!W&&!G)){var Y=c[0],X=c[c.length-1],B=N.getBoundingClientRect();if(o.lastHandleRect!=null){if(X==="w"){var V=B.left-o.lastHandleRect.left;L+=V}if(Y==="n"){var K=B.top-o.lastHandleRect.top;j+=K}}o.lastHandleRect=B,X==="w"&&(L=-L),Y==="n"&&(j=-j);var k=o.props.width+(W?L/o.props.transformScale:0),I=o.props.height+(G?j/o.props.transformScale:0),te=o.runConstraints(k,I);k=te[0],I=te[1];var Q=k!==o.props.width||I!==o.props.height,oe=typeof o.props[i]=="function"?o.props[i]:null,fe=i==="onResize"&&!Q;oe&&!fe&&(d.persist==null||d.persist(),oe(d,{node:N,size:{width:k,height:I},handle:c})),i==="onResizeStop"&&o.resetData()}}},n.renderResizeHandle=function(i,c){var o=this.props.handle;if(!o)return r.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+i,ref:c});if(typeof o=="function")return o(i,c);var d=typeof o.type=="string",C=D({ref:c},d?{}:{handleAxis:i});return r.cloneElement(o,C)},n.render=function(){var i=this,c=this.props,o=c.children,d=c.className,C=c.draggableOpts;c.width,c.height,c.handle,c.handleSize,c.lockAspectRatio,c.axis,c.minConstraints,c.maxConstraints,c.onResize,c.onResizeStop,c.onResizeStart;var N=c.resizeHandles;c.transformScale;var L=m(c,R);return(0,s.cloneElement)(o,D(D({},L),{},{className:(d?d+" ":"")+"react-resizable",children:[].concat(o.props.children,N.map(function(j){var W,G=(W=i.handleRefs[j])!=null?W:i.handleRefs[j]=r.createRef();return r.createElement(f.DraggableCore,S({},C,{nodeRef:G,key:"resizableHandle-"+j,onStop:i.resizeHandler("onResizeStop",j),onStart:i.resizeHandler("onResizeStart",j),onDrag:i.resizeHandler("onResize",j)}),i.renderResizeHandle(j,G))}))}))},e}(r.Component);return Ne.default=a,a.propTypes=u.resizableProps,a.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1},Ne}var qe={},Nt;function zn(){if(Nt)return qe;Nt=1,qe.__esModule=!0,qe.default=void 0;var r=S(le()),f=g(ge()),s=g(fr()),u=dr(),R=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function g(e){return e&&e.__esModule?e:{default:e}}function v(e){if(typeof WeakMap!="function")return null;var n=new WeakMap,l=new WeakMap;return(v=function(c){return c?l:n})(e)}function S(e,n){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var l=v(n);if(l&&l.has(e))return l.get(e);var i={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var d=c?Object.getOwnPropertyDescriptor(e,o):null;d&&(d.get||d.set)?Object.defineProperty(i,o,d):i[o]=e[o]}return i.default=e,l&&l.set(e,i),i}function m(){return m=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var l=arguments[n];for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i])}return e},m.apply(this,arguments)}function b(e,n){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),l.push.apply(l,i)}return l}function D(e){for(var n=1;n<arguments.length;n++){var l=arguments[n]!=null?arguments[n]:{};n%2?b(Object(l),!0).forEach(function(i){O(e,i,l[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):b(Object(l)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(l,i))})}return e}function O(e,n,l){return n=z(n),n in e?Object.defineProperty(e,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[n]=l,e}function z(e){var n=P(e,"string");return typeof n=="symbol"?n:String(n)}function P(e,n){if(typeof e!="object"||e===null)return e;var l=e[Symbol.toPrimitive];if(l!==void 0){var i=l.call(e,n);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function w(e,n){if(e==null)return{};var l={},i=Object.keys(e),c,o;for(o=0;o<i.length;o++)c=i[o],!(n.indexOf(c)>=0)&&(l[c]=e[c]);return l}function y(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,a(e,n)}function a(e,n){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,c){return i.__proto__=c,i},a(e,n)}var t=function(e){y(n,e);function n(){for(var i,c=arguments.length,o=new Array(c),d=0;d<c;d++)o[d]=arguments[d];return i=e.call.apply(e,[this].concat(o))||this,i.state={width:i.props.width,height:i.props.height,propsWidth:i.props.width,propsHeight:i.props.height},i.onResize=function(C,N){var L=N.size;i.props.onResize?(C.persist==null||C.persist(),i.setState(L,function(){return i.props.onResize&&i.props.onResize(C,N)})):i.setState(L)},i}n.getDerivedStateFromProps=function(c,o){return o.propsWidth!==c.width||o.propsHeight!==c.height?{width:c.width,height:c.height,propsWidth:c.width,propsHeight:c.height}:null};var l=n.prototype;return l.render=function(){var c=this.props,o=c.handle,d=c.handleSize;c.onResize;var C=c.onResizeStart,N=c.onResizeStop,L=c.draggableOpts,j=c.minConstraints,W=c.maxConstraints,G=c.lockAspectRatio,Y=c.axis;c.width,c.height;var X=c.resizeHandles,B=c.style,V=c.transformScale,K=w(c,R);return r.createElement(s.default,{axis:Y,draggableOpts:L,handle:o,handleSize:d,height:this.state.height,lockAspectRatio:G,maxConstraints:W,minConstraints:j,onResizeStart:C,onResize:this.onResize,onResizeStop:N,resizeHandles:X,transformScale:V,width:this.state.width},r.createElement("div",m({},K,{style:D(D({},B),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},n}(r.Component);return qe.default=t,t.propTypes=D(D({},u.resizableProps),{},{children:f.default.element}),qe}var jt;function Nn(){return jt||(jt=1,ze.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},ze.exports.Resizable=fr().default,ze.exports.ResizableBox=zn().default),ze.exports}var de={},qt;function pr(){if(qt)return de;qt=1,Object.defineProperty(de,"__esModule",{value:!0}),de.resizeHandleType=de.resizeHandleAxesType=de.default=void 0;var r=s(ge()),f=s(le());function s(g){return g&&g.__esModule?g:{default:g}}const u=de.resizeHandleAxesType=r.default.arrayOf(r.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),R=de.resizeHandleType=r.default.oneOfType([r.default.node,r.default.func]);return de.default={className:r.default.string,style:r.default.object,width:r.default.number,autoSize:r.default.bool,cols:r.default.number,draggableCancel:r.default.string,draggableHandle:r.default.string,verticalCompact:function(g){g.verticalCompact},compactType:r.default.oneOf(["vertical","horizontal"]),layout:function(g){var v=g.layout;v!==void 0&&Se().validateLayout(v,"layout")},margin:r.default.arrayOf(r.default.number),containerPadding:r.default.arrayOf(r.default.number),rowHeight:r.default.number,maxRows:r.default.number,isBounded:r.default.bool,isDraggable:r.default.bool,isResizable:r.default.bool,allowOverlap:r.default.bool,preventCollision:r.default.bool,useCSSTransforms:r.default.bool,transformScale:r.default.number,isDroppable:r.default.bool,resizeHandles:u,resizeHandle:R,onLayoutChange:r.default.func,onDragStart:r.default.func,onDrag:r.default.func,onDragStop:r.default.func,onResizeStart:r.default.func,onResize:r.default.func,onResizeStop:r.default.func,onDrop:r.default.func,droppingItem:r.default.shape({i:r.default.string.isRequired,w:r.default.number.isRequired,h:r.default.number.isRequired}),children:function(g,v){const S=g[v],m={};f.default.Children.forEach(S,function(b){if((b==null?void 0:b.key)!=null){if(m[b.key])throw new Error('Duplicate child key "'+b.key+'" found! This will cause problems in ReactGridLayout.');m[b.key]=!0}})},innerRef:r.default.any},de}var Lt;function jn(){if(Lt)return Oe;Lt=1,Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.default=void 0;var r=b(le()),f=nt(),s=b(ge()),u=ut(),R=Nn(),g=Se(),v=st(),S=pr(),m=b(it());function b(w){return w&&w.__esModule?w:{default:w}}function D(w,y,a){return y=O(y),y in w?Object.defineProperty(w,y,{value:a,enumerable:!0,configurable:!0,writable:!0}):w[y]=a,w}function O(w){var y=z(w,"string");return typeof y=="symbol"?y:String(y)}function z(w,y){if(typeof w!="object"||w===null)return w;var a=w[Symbol.toPrimitive];if(a!==void 0){var t=a.call(w,y);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(w)}let P=class extends r.default.Component{constructor(){super(...arguments),D(this,"state",{resizing:null,dragging:null,className:""}),D(this,"elementRef",r.default.createRef()),D(this,"onDragStart",(y,a)=>{let{node:t}=a;const{onDragStart:e,transformScale:n}=this.props;if(!e)return;const l={top:0,left:0},{offsetParent:i}=t;if(!i)return;const c=i.getBoundingClientRect(),o=t.getBoundingClientRect(),d=o.left/n,C=c.left/n,N=o.top/n,L=c.top/n;l.left=d-C+i.scrollLeft,l.top=N-L+i.scrollTop,this.setState({dragging:l});const{x:j,y:W}=(0,v.calcXY)(this.getPositionParams(),l.top,l.left,this.props.w,this.props.h);return e.call(this,this.props.i,j,W,{e:y,node:t,newPosition:l})}),D(this,"onDrag",(y,a,t)=>{let{node:e,deltaX:n,deltaY:l}=a;const{onDrag:i}=this.props;if(!i)return;if(!this.state.dragging)throw new Error("onDrag called before onDragStart.");let c=this.state.dragging.top+l,o=this.state.dragging.left+n;const{isBounded:d,i:C,w:N,h:L,containerWidth:j}=this.props,W=this.getPositionParams();if(d){const{offsetParent:B}=e;if(B){const{margin:V,rowHeight:K,containerPadding:k}=this.props,I=B.clientHeight-(0,v.calcGridItemWHPx)(L,K,V[1]);c=(0,v.clamp)(c-k[1],0,I);const te=(0,v.calcGridColWidth)(W),Q=j-(0,v.calcGridItemWHPx)(N,te,V[0]);o=(0,v.clamp)(o-k[0],0,Q)}}const G={top:c,left:o};t?this.setState({dragging:G}):(0,f.flushSync)(()=>{this.setState({dragging:G})});const{x:Y,y:X}=(0,v.calcXY)(W,c,o,N,L);return i.call(this,C,Y,X,{e:y,node:e,newPosition:G})}),D(this,"onDragStop",(y,a)=>{let{node:t}=a;const{onDragStop:e}=this.props;if(!e)return;if(!this.state.dragging)throw new Error("onDragEnd called before onDragStart.");const{w:n,h:l,i}=this.props,{left:c,top:o}=this.state.dragging,d={top:o,left:c};this.setState({dragging:null});const{x:C,y:N}=(0,v.calcXY)(this.getPositionParams(),o,c,n,l);return e.call(this,i,C,N,{e:y,node:t,newPosition:d})}),D(this,"onResizeStop",(y,a,t)=>this.onResizeHandler(y,a,t,"onResizeStop")),D(this,"onResizeStart",(y,a,t)=>this.onResizeHandler(y,a,t,"onResizeStart")),D(this,"onResize",(y,a,t)=>this.onResizeHandler(y,a,t,"onResize"))}shouldComponentUpdate(y,a){if(this.props.children!==y.children||this.props.droppingPosition!==y.droppingPosition)return!0;const t=(0,v.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),e=(0,v.calcGridItemPosition)(this.getPositionParams(y),y.x,y.y,y.w,y.h,a);return!(0,g.fastPositionEqual)(t,e)||this.props.useCSSTransforms!==y.useCSSTransforms}componentDidMount(){this.moveDroppingItem({})}componentDidUpdate(y){this.moveDroppingItem(y)}moveDroppingItem(y){const{droppingPosition:a}=this.props;if(!a)return;const t=this.elementRef.current;if(!t)return;const e=y.droppingPosition||{left:0,top:0},{dragging:n}=this.state,l=n&&a.left!==e.left||a.top!==e.top;if(!n)this.onDragStart(a.e,{node:t,deltaX:a.left,deltaY:a.top});else if(l){const i=a.left-n.left,c=a.top-n.top;this.onDrag(a.e,{node:t,deltaX:i,deltaY:c},!0)}}getPositionParams(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return{cols:y.cols,containerPadding:y.containerPadding,containerWidth:y.containerWidth,margin:y.margin,maxRows:y.maxRows,rowHeight:y.rowHeight}}createStyle(y){const{usePercentages:a,containerWidth:t,useCSSTransforms:e}=this.props;let n;return e?n=(0,g.setTransform)(y):(n=(0,g.setTopLeft)(y),a&&(n.left=(0,g.perc)(y.left/t),n.width=(0,g.perc)(y.width/t))),n}mixinDraggable(y,a){return r.default.createElement(u.DraggableCore,{disabled:!a,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale,nodeRef:this.elementRef},y)}curryResizeHandler(y,a){return(t,e)=>a(t,e,y)}mixinResizable(y,a,t){const{cols:e,minW:n,minH:l,maxW:i,maxH:c,transformScale:o,resizeHandles:d,resizeHandle:C}=this.props,N=this.getPositionParams(),L=(0,v.calcGridItemPosition)(N,0,0,e,0).width,j=(0,v.calcGridItemPosition)(N,0,0,n,l),W=(0,v.calcGridItemPosition)(N,0,0,i,c),G=[j.width,j.height],Y=[Math.min(W.width,L),Math.min(W.height,1/0)];return r.default.createElement(R.Resizable,{draggableOpts:{disabled:!t},className:t?void 0:"react-resizable-hide",width:a.width,height:a.height,minConstraints:G,maxConstraints:Y,onResizeStop:this.curryResizeHandler(a,this.onResizeStop),onResizeStart:this.curryResizeHandler(a,this.onResizeStart),onResize:this.curryResizeHandler(a,this.onResize),transformScale:o,resizeHandles:d,handle:C},y)}onResizeHandler(y,a,t,e){let{node:n,size:l,handle:i}=a;const c=this.props[e];if(!c)return;const{x:o,y:d,i:C,maxH:N,minH:L,containerWidth:j}=this.props,{minW:W,maxW:G}=this.props;let Y=l;n&&(Y=(0,g.resizeItemInDirection)(i,t,l,j),(0,f.flushSync)(()=>{this.setState({resizing:e==="onResizeStop"?null:Y})}));let{w:X,h:B}=(0,v.calcWH)(this.getPositionParams(),Y.width,Y.height,o,d,i);X=(0,v.clamp)(X,Math.max(W,1),G),B=(0,v.clamp)(B,L,N),c.call(this,C,X,B,{e:y,node:n,size:Y,handle:i})}render(){const{x:y,y:a,w:t,h:e,isDraggable:n,isResizable:l,droppingPosition:i,useCSSTransforms:c}=this.props,o=(0,v.calcGridItemPosition)(this.getPositionParams(),y,a,t,e,this.state),d=r.default.Children.only(this.props.children);let C=r.default.cloneElement(d,{ref:this.elementRef,className:(0,m.default)("react-grid-item",d.props.className,this.props.className,{static:this.props.static,resizing:!!this.state.resizing,"react-draggable":n,"react-draggable-dragging":!!this.state.dragging,dropping:!!i,cssTransforms:c}),style:{...this.props.style,...d.props.style,...this.createStyle(o)}});return C=this.mixinResizable(C,o,l),C=this.mixinDraggable(C,n),C}};return Oe.default=P,D(P,"propTypes",{children:s.default.element,cols:s.default.number.isRequired,containerWidth:s.default.number.isRequired,rowHeight:s.default.number.isRequired,margin:s.default.array.isRequired,maxRows:s.default.number.isRequired,containerPadding:s.default.array.isRequired,x:s.default.number.isRequired,y:s.default.number.isRequired,w:s.default.number.isRequired,h:s.default.number.isRequired,minW:function(w,y){const a=w[y];if(typeof a!="number")return new Error("minWidth not Number");if(a>w.w||a>w.maxW)return new Error("minWidth larger than item width/maxWidth")},maxW:function(w,y){const a=w[y];if(typeof a!="number")return new Error("maxWidth not Number");if(a<w.w||a<w.minW)return new Error("maxWidth smaller than item width/minWidth")},minH:function(w,y){const a=w[y];if(typeof a!="number")return new Error("minHeight not Number");if(a>w.h||a>w.maxH)return new Error("minHeight larger than item height/maxHeight")},maxH:function(w,y){const a=w[y];if(typeof a!="number")return new Error("maxHeight not Number");if(a<w.h||a<w.minH)return new Error("maxHeight smaller than item height/minHeight")},i:s.default.string.isRequired,resizeHandles:S.resizeHandleAxesType,resizeHandle:S.resizeHandleType,onDragStop:s.default.func,onDragStart:s.default.func,onDrag:s.default.func,onResizeStop:s.default.func,onResizeStart:s.default.func,onResize:s.default.func,isDraggable:s.default.bool.isRequired,isResizable:s.default.bool.isRequired,isBounded:s.default.bool.isRequired,static:s.default.bool,useCSSTransforms:s.default.bool.isRequired,transformScale:s.default.number,className:s.default.string,handle:s.default.string,cancel:s.default.string,droppingPosition:s.default.shape({e:s.default.object.isRequired,left:s.default.number.isRequired,top:s.default.number.isRequired})}),D(P,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1}),Oe}var Mt;function hr(){if(Mt)return Ce;Mt=1,Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.default=void 0;var r=b(le()),f=at(),s=S(it()),u=Se(),R=st(),g=S(jn()),v=S(pr());function S(a){return a&&a.__esModule?a:{default:a}}function m(a){if(typeof WeakMap!="function")return null;var t=new WeakMap,e=new WeakMap;return(m=function(n){return n?e:t})(a)}function b(a,t){if(a&&a.__esModule)return a;if(a===null||typeof a!="object"&&typeof a!="function")return{default:a};var e=m(t);if(e&&e.has(a))return e.get(a);var n={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in a)if(i!=="default"&&Object.prototype.hasOwnProperty.call(a,i)){var c=l?Object.getOwnPropertyDescriptor(a,i):null;c&&(c.get||c.set)?Object.defineProperty(n,i,c):n[i]=a[i]}return n.default=a,e&&e.set(a,n),n}function D(a,t,e){return t=O(t),t in a?Object.defineProperty(a,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[t]=e,a}function O(a){var t=z(a,"string");return typeof t=="symbol"?t:String(t)}function z(a,t){if(typeof a!="object"||a===null)return a;var e=a[Symbol.toPrimitive];if(e!==void 0){var n=e.call(a,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(a)}const P="react-grid-layout";let w=!1;try{w=/firefox/i.test(navigator.userAgent)}catch{}let y=class extends r.Component{constructor(){super(...arguments),D(this,"state",{activeDrag:null,layout:(0,u.synchronizeLayoutWithChildren)(this.props.layout,this.props.children,this.props.cols,(0,u.compactType)(this.props),this.props.allowOverlap),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,resizing:!1,droppingDOMNode:null,children:[]}),D(this,"dragEnterCounter",0),D(this,"onDragStart",(t,e,n,l)=>{let{e:i,node:c}=l;const{layout:o}=this.state,d=(0,u.getLayoutItem)(o,t);if(!d)return;const C={w:d.w,h:d.h,x:d.x,y:d.y,placeholder:!0,i:t};return this.setState({oldDragItem:(0,u.cloneLayoutItem)(d),oldLayout:o,activeDrag:C}),this.props.onDragStart(o,d,d,null,i,c)}),D(this,"onDrag",(t,e,n,l)=>{let{e:i,node:c}=l;const{oldDragItem:o}=this.state;let{layout:d}=this.state;const{cols:C,allowOverlap:N,preventCollision:L}=this.props,j=(0,u.getLayoutItem)(d,t);if(!j)return;const W={w:j.w,h:j.h,x:j.x,y:j.y,placeholder:!0,i:t};d=(0,u.moveElement)(d,j,e,n,!0,L,(0,u.compactType)(this.props),C,N),this.props.onDrag(d,o,j,W,i,c),this.setState({layout:N?d:(0,u.compact)(d,(0,u.compactType)(this.props),C),activeDrag:W})}),D(this,"onDragStop",(t,e,n,l)=>{let{e:i,node:c}=l;if(!this.state.activeDrag)return;const{oldDragItem:o}=this.state;let{layout:d}=this.state;const{cols:C,preventCollision:N,allowOverlap:L}=this.props,j=(0,u.getLayoutItem)(d,t);if(!j)return;d=(0,u.moveElement)(d,j,e,n,!0,N,(0,u.compactType)(this.props),C,L);const G=L?d:(0,u.compact)(d,(0,u.compactType)(this.props),C);this.props.onDragStop(G,o,j,null,i,c);const{oldLayout:Y}=this.state;this.setState({activeDrag:null,layout:G,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(G,Y)}),D(this,"onResizeStart",(t,e,n,l)=>{let{e:i,node:c}=l;const{layout:o}=this.state,d=(0,u.getLayoutItem)(o,t);d&&(this.setState({oldResizeItem:(0,u.cloneLayoutItem)(d),oldLayout:this.state.layout,resizing:!0}),this.props.onResizeStart(o,d,d,null,i,c))}),D(this,"onResize",(t,e,n,l)=>{let{e:i,node:c,size:o,handle:d}=l;const{oldResizeItem:C}=this.state,{layout:N}=this.state,{cols:L,preventCollision:j,allowOverlap:W}=this.props;let G=!1,Y,X,B;const[V,K]=(0,u.withLayoutItem)(N,t,I=>{let te;return X=I.x,B=I.y,["sw","w","nw","n","ne"].indexOf(d)!==-1&&(["sw","nw","w"].indexOf(d)!==-1&&(X=I.x+(I.w-e),e=I.x!==X&&X<0?I.w:e,X=X<0?0:X),["ne","n","nw"].indexOf(d)!==-1&&(B=I.y+(I.h-n),n=I.y!==B&&B<0?I.h:n,B=B<0?0:B),G=!0),j&&!W&&(te=(0,u.getAllCollisions)(N,{...I,w:e,h:n,x:X,y:B}).filter(oe=>oe.i!==I.i).length>0,te&&(B=I.y,n=I.h,X=I.x,e=I.w,G=!1)),I.w=e,I.h=n,I});if(!K)return;Y=V,G&&(Y=(0,u.moveElement)(V,K,X,B,!0,this.props.preventCollision,(0,u.compactType)(this.props),L,W));const k={w:K.w,h:K.h,x:K.x,y:K.y,static:!0,i:t};this.props.onResize(Y,C,K,k,i,c),this.setState({layout:W?Y:(0,u.compact)(Y,(0,u.compactType)(this.props),L),activeDrag:k})}),D(this,"onResizeStop",(t,e,n,l)=>{let{e:i,node:c}=l;const{layout:o,oldResizeItem:d}=this.state,{cols:C,allowOverlap:N}=this.props,L=(0,u.getLayoutItem)(o,t),j=N?o:(0,u.compact)(o,(0,u.compactType)(this.props),C);this.props.onResizeStop(j,d,L,null,i,c);const{oldLayout:W}=this.state;this.setState({activeDrag:null,layout:j,oldResizeItem:null,oldLayout:null,resizing:!1}),this.onLayoutMaybeChanged(j,W)}),D(this,"onDragOver",t=>{var V;if(t.preventDefault(),t.stopPropagation(),w&&!((V=t.nativeEvent.target)!=null&&V.classList.contains(P)))return!1;const{droppingItem:e,onDropDragOver:n,margin:l,cols:i,rowHeight:c,maxRows:o,width:d,containerPadding:C,transformScale:N}=this.props,L=n==null?void 0:n(t);if(L===!1)return this.state.droppingDOMNode&&this.removeDroppingPlaceholder(),!1;const j={...e,...L},{layout:W}=this.state,G=t.currentTarget.getBoundingClientRect(),Y=t.clientX-G.left,X=t.clientY-G.top,B={left:Y/N,top:X/N,e:t};if(this.state.droppingDOMNode){if(this.state.droppingPosition){const{left:K,top:k}=this.state.droppingPosition;(K!=Y||k!=X)&&this.setState({droppingPosition:B})}}else{const K={cols:i,margin:l,maxRows:o,rowHeight:c,containerWidth:d,containerPadding:C||l},k=(0,R.calcXY)(K,X,Y,j.w,j.h);this.setState({droppingDOMNode:r.createElement("div",{key:j.i}),droppingPosition:B,layout:[...W,{...j,x:k.x,y:k.y,static:!1,isDraggable:!0}]})}}),D(this,"removeDroppingPlaceholder",()=>{const{droppingItem:t,cols:e}=this.props,{layout:n}=this.state,l=(0,u.compact)(n.filter(i=>i.i!==t.i),(0,u.compactType)(this.props),e,this.props.allowOverlap);this.setState({layout:l,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})}),D(this,"onDragLeave",t=>{t.preventDefault(),t.stopPropagation(),this.dragEnterCounter--,this.dragEnterCounter===0&&this.removeDroppingPlaceholder()}),D(this,"onDragEnter",t=>{t.preventDefault(),t.stopPropagation(),this.dragEnterCounter++}),D(this,"onDrop",t=>{t.preventDefault(),t.stopPropagation();const{droppingItem:e}=this.props,{layout:n}=this.state,l=n.find(i=>i.i===e.i);this.dragEnterCounter=0,this.removeDroppingPlaceholder(),this.props.onDrop(n,l,t)})}componentDidMount(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}static getDerivedStateFromProps(t,e){let n;return e.activeDrag?null:(!(0,f.deepEqual)(t.layout,e.propsLayout)||t.compactType!==e.compactType?n=t.layout:(0,u.childrenEqual)(t.children,e.children)||(n=e.layout),n?{layout:(0,u.synchronizeLayoutWithChildren)(n,t.children,t.cols,(0,u.compactType)(t),t.allowOverlap),compactType:t.compactType,children:t.children,propsLayout:t.layout}:null)}shouldComponentUpdate(t,e){return this.props.children!==t.children||!(0,u.fastRGLPropsEqual)(this.props,t,f.deepEqual)||this.state.activeDrag!==e.activeDrag||this.state.mounted!==e.mounted||this.state.droppingPosition!==e.droppingPosition}componentDidUpdate(t,e){if(!this.state.activeDrag){const n=this.state.layout,l=e.layout;this.onLayoutMaybeChanged(n,l)}}containerHeight(){if(!this.props.autoSize)return;const t=(0,u.bottom)(this.state.layout),e=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return t*this.props.rowHeight+(t-1)*this.props.margin[1]+e*2+"px"}onLayoutMaybeChanged(t,e){e||(e=this.state.layout),(0,f.deepEqual)(e,t)||this.props.onLayoutChange(t)}placeholder(){const{activeDrag:t}=this.state;if(!t)return null;const{width:e,cols:n,margin:l,containerPadding:i,rowHeight:c,maxRows:o,useCSSTransforms:d,transformScale:C}=this.props;return r.createElement(g.default,{w:t.w,h:t.h,x:t.x,y:t.y,i:t.i,className:`react-grid-placeholder ${this.state.resizing?"placeholder-resizing":""}`,containerWidth:e,cols:n,margin:l,containerPadding:i||l,maxRows:o,rowHeight:c,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:d,transformScale:C},r.createElement("div",null))}processGridItem(t,e){if(!t||!t.key)return;const n=(0,u.getLayoutItem)(this.state.layout,String(t.key));if(!n)return null;const{width:l,cols:i,margin:c,containerPadding:o,rowHeight:d,maxRows:C,isDraggable:N,isResizable:L,isBounded:j,useCSSTransforms:W,transformScale:G,draggableCancel:Y,draggableHandle:X,resizeHandles:B,resizeHandle:V}=this.props,{mounted:K,droppingPosition:k}=this.state,I=typeof n.isDraggable=="boolean"?n.isDraggable:!n.static&&N,te=typeof n.isResizable=="boolean"?n.isResizable:!n.static&&L,Q=n.resizeHandles||B,oe=I&&j&&n.isBounded!==!1;return r.createElement(g.default,{containerWidth:l,cols:i,margin:c,containerPadding:o||c,maxRows:C,rowHeight:d,cancel:Y,handle:X,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:I,isResizable:te,isBounded:oe,useCSSTransforms:W&&K,usePercentages:!K,transformScale:G,w:n.w,h:n.h,x:n.x,y:n.y,i:n.i,minH:n.minH,minW:n.minW,maxH:n.maxH,maxW:n.maxW,static:n.static,droppingPosition:e?k:void 0,resizeHandles:Q,resizeHandle:V},t)}render(){const{className:t,style:e,isDroppable:n,innerRef:l}=this.props,i=(0,s.default)(P,t),c={height:this.containerHeight(),...e};return r.createElement("div",{ref:l,className:i,style:c,onDrop:n?this.onDrop:u.noop,onDragLeave:n?this.onDragLeave:u.noop,onDragEnter:n?this.onDragEnter:u.noop,onDragOver:n?this.onDragOver:u.noop},r.Children.map(this.props.children,o=>this.processGridItem(o)),n&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}};return Ce.default=y,D(y,"displayName","ReactGridLayout"),D(y,"propTypes",v.default),D(y,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,allowOverlap:!1,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:u.noop,onDragStart:u.noop,onDrag:u.noop,onDragStop:u.noop,onResizeStart:u.noop,onResize:u.noop,onResizeStop:u.noop,onDrop:u.noop,onDropDragOver:u.noop}),Ce}var Le={},we={},Tt;function gr(){if(Tt)return we;Tt=1,Object.defineProperty(we,"__esModule",{value:!0}),we.findOrGenerateResponsiveLayout=u,we.getBreakpointFromWidth=f,we.getColsFromBreakpoint=s,we.sortBreakpoints=R;var r=Se();function f(g,v){const S=R(g);let m=S[0];for(let b=1,D=S.length;b<D;b++){const O=S[b];v>g[O]&&(m=O)}return m}function s(g,v){if(!v[g])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+g+" is missing!");return v[g]}function u(g,v,S,m,b,D){if(g[S])return(0,r.cloneLayout)(g[S]);let O=g[m];const z=R(v),P=z.slice(z.indexOf(S));for(let w=0,y=P.length;w<y;w++){const a=P[w];if(g[a]){O=g[a];break}}return O=(0,r.cloneLayout)(O||[]),(0,r.compact)((0,r.correctBounds)(O,{cols:b}),D,b)}function R(g){return Object.keys(g).sort(function(S,m){return g[S]-g[m]})}return we}var Ht;function qn(){if(Ht)return Le;Ht=1,Object.defineProperty(Le,"__esModule",{value:!0}),Le.default=void 0;var r=m(le()),f=v(ge()),s=at(),u=Se(),R=gr(),g=v(hr());function v(a){return a&&a.__esModule?a:{default:a}}function S(a){if(typeof WeakMap!="function")return null;var t=new WeakMap,e=new WeakMap;return(S=function(n){return n?e:t})(a)}function m(a,t){if(a&&a.__esModule)return a;if(a===null||typeof a!="object"&&typeof a!="function")return{default:a};var e=S(t);if(e&&e.has(a))return e.get(a);var n={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in a)if(i!=="default"&&Object.prototype.hasOwnProperty.call(a,i)){var c=l?Object.getOwnPropertyDescriptor(a,i):null;c&&(c.get||c.set)?Object.defineProperty(n,i,c):n[i]=a[i]}return n.default=a,e&&e.set(a,n),n}function b(){return b=Object.assign?Object.assign.bind():function(a){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n])}return a},b.apply(this,arguments)}function D(a,t,e){return t=O(t),t in a?Object.defineProperty(a,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[t]=e,a}function O(a){var t=z(a,"string");return typeof t=="symbol"?t:String(t)}function z(a,t){if(typeof a!="object"||a===null)return a;var e=a[Symbol.toPrimitive];if(e!==void 0){var n=e.call(a,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(a)}const P=a=>Object.prototype.toString.call(a);function w(a,t){return a==null?null:Array.isArray(a)?a:a[t]}let y=class extends r.Component{constructor(){super(...arguments),D(this,"state",this.generateInitialState()),D(this,"onLayoutChange",t=>{this.props.onLayoutChange(t,{...this.props.layouts,[this.state.breakpoint]:t})})}generateInitialState(){const{width:t,breakpoints:e,layouts:n,cols:l}=this.props,i=(0,R.getBreakpointFromWidth)(e,t),c=(0,R.getColsFromBreakpoint)(i,l),o=this.props.verticalCompact===!1?null:this.props.compactType;return{layout:(0,R.findOrGenerateResponsiveLayout)(n,e,i,i,c,o),breakpoint:i,cols:c}}static getDerivedStateFromProps(t,e){if(!(0,s.deepEqual)(t.layouts,e.layouts)){const{breakpoint:n,cols:l}=e;return{layout:(0,R.findOrGenerateResponsiveLayout)(t.layouts,t.breakpoints,n,n,l,t.compactType),layouts:t.layouts}}return null}componentDidUpdate(t){(this.props.width!=t.width||this.props.breakpoint!==t.breakpoint||!(0,s.deepEqual)(this.props.breakpoints,t.breakpoints)||!(0,s.deepEqual)(this.props.cols,t.cols))&&this.onWidthChange(t)}onWidthChange(t){const{breakpoints:e,cols:n,layouts:l,compactType:i}=this.props,c=this.props.breakpoint||(0,R.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),o=this.state.breakpoint,d=(0,R.getColsFromBreakpoint)(c,n),C={...l};if(o!==c||t.breakpoints!==e||t.cols!==n){o in C||(C[o]=(0,u.cloneLayout)(this.state.layout));let j=(0,R.findOrGenerateResponsiveLayout)(C,e,c,o,d,i);j=(0,u.synchronizeLayoutWithChildren)(j,this.props.children,d,i,this.props.allowOverlap),C[c]=j,this.props.onBreakpointChange(c,d),this.props.onLayoutChange(j,C),this.setState({breakpoint:c,layout:j,cols:d})}const N=w(this.props.margin,c),L=w(this.props.containerPadding,c);this.props.onWidthChange(this.props.width,N,d,L)}render(){const{breakpoint:t,breakpoints:e,cols:n,layouts:l,margin:i,containerPadding:c,onBreakpointChange:o,onLayoutChange:d,onWidthChange:C,...N}=this.props;return r.createElement(g.default,b({},N,{margin:w(i,this.state.breakpoint),containerPadding:w(c,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}};return Le.default=y,D(y,"propTypes",{breakpoint:f.default.string,breakpoints:f.default.object,allowOverlap:f.default.bool,cols:f.default.object,margin:f.default.oneOfType([f.default.array,f.default.object]),containerPadding:f.default.oneOfType([f.default.array,f.default.object]),layouts(a,t){if(P(a[t])!=="[object Object]")throw new Error("Layout property must be an object. Received: "+P(a[t]));Object.keys(a[t]).forEach(e=>{if(!(e in a.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,u.validateLayout)(a.layouts[e],"layouts."+e)})},width:f.default.number.isRequired,onBreakpointChange:f.default.func,onLayoutChange:f.default.func,onWidthChange:f.default.func}),D(y,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},layouts:{},margin:[10,10],allowOverlap:!1,onBreakpointChange:u.noop,onLayoutChange:u.noop,onWidthChange:u.noop}),Le}var Ge={};const Ln=Xt(Yr);var Wt;function Mn(){if(Wt)return Ge;Wt=1,Object.defineProperty(Ge,"__esModule",{value:!0}),Ge.default=z;var r=v(le()),f=R(ge()),s=R(Ln),u=R(it());function R(P){return P&&P.__esModule?P:{default:P}}function g(P){if(typeof WeakMap!="function")return null;var w=new WeakMap,y=new WeakMap;return(g=function(a){return a?y:w})(P)}function v(P,w){if(P&&P.__esModule)return P;if(P===null||typeof P!="object"&&typeof P!="function")return{default:P};var y=g(w);if(y&&y.has(P))return y.get(P);var a={__proto__:null},t=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in P)if(e!=="default"&&Object.prototype.hasOwnProperty.call(P,e)){var n=t?Object.getOwnPropertyDescriptor(P,e):null;n&&(n.get||n.set)?Object.defineProperty(a,e,n):a[e]=P[e]}return a.default=P,y&&y.set(P,a),a}function S(){return S=Object.assign?Object.assign.bind():function(P){for(var w=1;w<arguments.length;w++){var y=arguments[w];for(var a in y)Object.prototype.hasOwnProperty.call(y,a)&&(P[a]=y[a])}return P},S.apply(this,arguments)}function m(P,w,y){return w=b(w),w in P?Object.defineProperty(P,w,{value:y,enumerable:!0,configurable:!0,writable:!0}):P[w]=y,P}function b(P){var w=D(P,"string");return typeof w=="symbol"?w:String(w)}function D(P,w){if(typeof P!="object"||P===null)return P;var y=P[Symbol.toPrimitive];if(y!==void 0){var a=y.call(P,w);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(P)}const O="react-grid-layout";function z(P){var w;return w=class extends r.Component{constructor(){super(...arguments),m(this,"state",{width:1280}),m(this,"elementRef",r.createRef()),m(this,"mounted",!1),m(this,"resizeObserver",void 0)}componentDidMount(){this.mounted=!0,this.resizeObserver=new s.default(t=>{if(this.elementRef.current instanceof HTMLElement){const n=t[0].contentRect.width;this.setState({width:n})}});const a=this.elementRef.current;a instanceof HTMLElement&&this.resizeObserver.observe(a)}componentWillUnmount(){this.mounted=!1;const a=this.elementRef.current;a instanceof HTMLElement&&this.resizeObserver.unobserve(a),this.resizeObserver.disconnect()}render(){const{measureBeforeMount:a,...t}=this.props;return a&&!this.mounted?r.createElement("div",{className:(0,u.default)(this.props.className,O),style:this.props.style,ref:this.elementRef}):r.createElement(P,S({innerRef:this.elementRef},t,this.state))}},m(w,"defaultProps",{measureBeforeMount:!1}),m(w,"propTypes",{measureBeforeMount:f.default.bool}),w}return Ge}var It;function Tn(){return It||(It=1,function(r){r.exports=hr().default,r.exports.utils=Se(),r.exports.calculateUtils=st(),r.exports.Responsive=qn().default,r.exports.Responsive.utils=gr(),r.exports.WidthProvider=Mn().default}(Je)),Je.exports}var Hn=Tn();const Wn=jr(Hn),In=[{i:"a",x:0,y:0,w:2,h:2},{i:"b",x:2,y:0,w:7,h:2},{i:"c",x:0,y:2,w:9,h:7},{i:"d",x:0,y:10,w:4,h:4},{i:"e",x:4,y:10,w:5,h:7},{i:"f",x:0,y:14,w:4,h:3},{i:"s0",x:17,y:0,w:5,h:8},{i:"s1",x:22,y:0,w:5,h:8},{i:"s2",x:27,y:0,w:5,h:8},{i:"s3",x:17,y:9,w:5,h:8},{i:"s4",x:22,y:9,w:5,h:8},{i:"s5",x:27,y:9,w:5,h:8}],kt=[{i:"a",x:0,y:0,w:2,h:2},{i:"b",x:2,y:0,w:9,h:2},{i:"c",x:0,y:2,w:11,h:7},{i:"d",x:0,y:10,w:5,h:4},{i:"e",x:5,y:10,w:6,h:7},{i:"f",x:0,y:14,w:5,h:3},{i:"s0",x:11,y:0,w:7,h:8},{i:"s1",x:18,y:0,w:7,h:8},{i:"s2",x:25,y:0,w:7,h:8},{i:"s3",x:11,y:9,w:7,h:8},{i:"s4",x:18,y:9,w:7,h:8},{i:"s5",x:25,y:9,w:7,h:8}],ro=()=>{const{t:r}=rt(),[f,s]=U.useState(!1),[u,R]=U.useState(!1),[g,v]=U.useState(!1),[S,m]=U.useState(1),b=ae.get("selected").value(),[D,O]=U.useState(b.supports),[z,P]=U.useState(b.player),[w,y]=U.useState(b.raceFilterCondition||{distanceType:[],grade:[],ground:[]}),[a,t]=U.useState(b.filterRace||{}),e=Hr(),n=()=>{const[k,I]=Ye.useState(window.innerWidth),[te,Q]=Ye.useState(window.innerHeight);return Ye.useEffect(()=>{const oe=()=>{Q(window.innerHeight),I(window.innerWidth)};return window.addEventListener("resize",oe),()=>window.removeEventListener("resize",oe)},[]),{height:te,width:k}},l=Math.floor((n().height-128-40)/18),i=Math.floor(n().width-10),c=ae.get("layout").value()||kt,[o,d]=U.useState(c);if(!e)return null;const C=e.get("races").value(),N=()=>R(!0),L=k=>{R(!1),P(k),b.player=k,ae.get("selected").assign(b).write()},j=k=>{s(!0),v(!0),m(k)},W=()=>{s(!1),v(!0)},G=k=>{const I={...D,[S]:k};O(I),v(!1),b.supports[S]=k,ae.get("selected").assign(b).write()},Y=k=>{b.supports={0:{},1:{},2:{},3:{},4:{},5:{}},b.player={},k.playerId&&(b.player=e.get("players").find({id:k.playerId}).value()),P(b.player),k.supportsId.forEach((I,te)=>{I&&(b.supports[te]=e.get("supports").find({id:I}).value())}),O({...b.supports}),ae.get("selected").assign(b).write()},X=k=>{y(k);const I=Object.values(k).some(Q=>Q.length>0)?Object.entries(k).filter(([,Q])=>Q.length>0).reduce((Q,[oe,fe])=>Q.filter(De=>fe.includes(De[oe])),C):[],te={};for(let Q of I)te[Q.dateNum]?te[Q.dateNum].push(Q.id):te[Q.dateNum]=[Q.id];t(te),b.raceFilterCondition=k,b.filterRace=te,ae.get("selected").assign({...b}).write()},B=k=>{ae.set("layout",k).write(),d(k)},V="bg-card border border-border rounded-md p-2",K="w-full text-center bg-muted p-1 rounded-t-md cursor-move font-medium";return E.jsxs(E.Fragment,{children:[E.jsx(Vr,{children:E.jsx("title",{children:"育成 - 乌拉拉大胜利 - 赛马娘资料站"})}),E.jsxs(Wn,{cols:32,layout:o,draggableCancel:".panel-title",draggableHandle:".panel-heading",rowHeight:l,width:i,onLayoutChange:B,useCSSTransforms:!1,children:[E.jsxs("div",{className:V,children:[E.jsx("div",{className:K,onClick:N,children:r("选择马娘")}),z.id?E.jsx("img",{src:Be+z.imgUrl,alt:z.name,className:"w-full h-[calc(100%-22px)] object-contain",onClick:N}):E.jsx("div",{className:"flex items-center justify-center h-[calc(100%-22px)]",children:E.jsx(ie,{variant:"outline",onClick:N,children:r("选择马娘")})})]},"a"),E.jsxs("div",{className:V,children:[E.jsx("div",{className:K,children:r("操作")}),E.jsxs("div",{className:"flex flex-wrap gap-2 p-2",children:[E.jsx(ie,{variant:"outline",size:"sm",onClick:N,children:r("选择马娘")}),E.jsx(ie,{variant:"outline",size:"sm",onClick:W,children:r("支援卡查询")}),E.jsx(Wr,{}),E.jsxs(vn,{children:[E.jsx(yn,{asChild:!0,children:E.jsx(ie,{variant:"outline",size:"sm",children:r("比赛")})}),E.jsx(wn,{className:"w-80",children:E.jsx(qr,{onChange:X,raceFilterCondition:w})})]}),E.jsx(xn,{player:z,supports:D,loadDeck:Y}),E.jsx(bn,{player:z,loadDeck:Y}),E.jsx(ie,{variant:"outline",size:"sm",onClick:()=>d(In),children:r("初始化布局(有留白)")}),E.jsx(ie,{variant:"outline",size:"sm",onClick:()=>d(kt),children:r("初始化布局(无留白)")})]})]},"b"),E.jsxs("div",{className:V,children:[E.jsx("div",{className:K,children:r("事件")}),E.jsx(be,{className:"h-[calc(100%-22px)]",children:E.jsx(Ve,{idList:z.eventList,sortFlag:!0})})]},"c"),E.jsxs("div",{className:V,children:[E.jsx("div",{className:K,children:r("技能")}),E.jsx(be,{className:"h-[calc(100%-22px)]",children:E.jsx(Ke,{idList:z.skillList,isNur:!0,size:"small"})})]},"d"),E.jsxs("div",{className:V,children:[E.jsx("div",{className:K,children:r("比赛")}),E.jsx(be,{className:"h-[calc(100%-22px)]",children:E.jsx(Lr,{raceList:z.raceList||[],filterRace:a})})]},"e"),E.jsxs("div",{className:V,children:[E.jsx("div",{className:K,children:r("隐藏事件")}),E.jsx(be,{className:"h-[calc(100%-22px)]",children:E.jsx(Ve,{idList:z.hideEvent})})]},"f"),[0,1,2,3,4,5].map(k=>{const I=D[k];return E.jsx("div",{className:V,children:I!=null&&I.id?E.jsxs(E.Fragment,{children:[E.jsx("div",{className:K,children:E.jsx("span",{className:"panel-title cursor-pointer",onClick:()=>j(k),children:r("选择支援卡")})}),E.jsxs(be,{className:"h-[calc(100%-22px)]",children:[E.jsxs("div",{className:"flex gap-2",children:[E.jsx("img",{className:"w-1/4 h-auto",src:Be+I.imgUrl,alt:I.name}),E.jsx("div",{className:"flex-1",children:E.jsx(Ve,{idList:I.eventList,pid:I.id})})]}),E.jsx("div",{className:"my-1 bg-accent/10 p-1 rounded",children:r("培训技能")}),E.jsx(Ke,{idList:I.possessionSkill,isNur:!0,size:"small"}),E.jsx("div",{className:"my-1 bg-accent/10 p-1 rounded",children:r("事件技能")}),E.jsx(Ke,{idList:I.trainingEventSkill,isNur:!0,size:"small"})]})]}):E.jsx("div",{className:"flex items-center justify-center h-full",children:E.jsx(ie,{variant:"outline",onClick:()=>j(k),children:r("选择支援卡")})})},`s${k}`)})]}),E.jsx(ct,{open:u,onOpenChange:R,children:E.jsxs(dt,{className:"max-w-[80vw] h-[80vh]",children:[E.jsx(ft,{children:E.jsx(pt,{children:r("选择马娘")})}),E.jsx(be,{className:"h-full",children:E.jsx(Mr,{onClick:L,sortFlag:!0})})]})}),E.jsx(ct,{open:g,onOpenChange:v,children:E.jsxs(dt,{className:"max-w-[80vw] h-[80vh]",children:[E.jsx(ft,{children:E.jsx(pt,{children:r("选择支援卡")})}),E.jsx("div",{className:"h-full flex relative",children:E.jsx(Tr,{formName:"nurSup",onClick:f?G:null,limitHeight:!0,sortFlag:!0})})]})})]})};export{ro as default};
